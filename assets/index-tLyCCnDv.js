const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-S_Sf96m8.js","assets/index-n_ZehpUP.js","assets/index-CTjQ8MSE.js","assets/index-amhbIFfC.js","assets/ref-BQEoHyCo.js","assets/if-defined-CqFZ3rMD.js","assets/index-B426Rwk8.js","assets/index-C-VVRuU6.js","assets/index-D9AsQ2Ps.js","assets/index-B4DzWECY.js","assets/index-Cq5ArIrS.js","assets/index-C5WfdMvO.js","assets/email-DvXqBzO1.js","assets/state-CFpka3Fi.js","assets/index-K3rLglmn.js","assets/socials-BoT964x_.js","assets/if-defined-7r6laPMd.js","assets/index-DLAOgAml.js","assets/index-CTigwO3t.js","assets/index-BDvr1C6T.js","assets/index-Br3p1NQg.js","assets/swaps-t3as_8xB.js","assets/index-DZDwZh2i.js","assets/index-BEQt3E5J.js","assets/index-CMxdI8o9.js","assets/send-b-62yfy3.js","assets/index-Bv4gaPM0.js","assets/receive-CAFzYzxn.js","assets/index-5iCmcGKE.js","assets/onramp-BFnCGWWu.js","assets/index-Dl-nto0A.js","assets/index-CBA9vUjO.js","assets/transactions-Bf1DGfR6.js","assets/index-Be7GexJ2.js","assets/index-mqxxV0ip.js","assets/index-DDTs4T5O.js","assets/w3m-modal-CTB_7Iz9.js"])))=>i.map(i=>d[i]);
var tE=t=>{throw TypeError(t)};var Hv=(t,e,n)=>e.has(t)||tE("Cannot "+n);var ve=(t,e,n)=>(Hv(t,e,"read from private field"),n?n.call(t):e.get(t)),En=(t,e,n)=>e.has(t)?tE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ht=(t,e,n,r)=>(Hv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vr=(t,e,n)=>(Hv(t,e,"access private method"),n);var gg=(t,e,n,r)=>({set _(i){Ht(t,e,i,n)},get _(){return ve(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Vv={exports:{}},Dh={},Kv={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function bM(){if(nE)return gn;nE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(U,J,ie){this.props=U,this.context=J,this.refs=w,this.updater=ie||y}x.prototype.isReactComponent={},x.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=x.prototype;function N(U,J,ie){this.props=U,this.context=J,this.refs=w,this.updater=ie||y}var R=N.prototype=new k;R.constructor=N,v(R,x.prototype),R.isPureReactComponent=!0;var L=Array.isArray,O=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function q(U,J,ie){var ce,ue={},Ae=null,$e=null;if(J!=null)for(ce in J.ref!==void 0&&($e=J.ref),J.key!==void 0&&(Ae=""+J.key),J)O.call(J,ce)&&!F.hasOwnProperty(ce)&&(ue[ce]=J[ce]);var le=arguments.length-2;if(le===1)ue.children=ie;else if(1<le){for(var re=Array(le),ae=0;ae<le;ae++)re[ae]=arguments[ae+2];ue.children=re}if(U&&U.defaultProps)for(ce in le=U.defaultProps,le)ue[ce]===void 0&&(ue[ce]=le[ce]);return{$$typeof:t,type:U,key:Ae,ref:$e,props:ue,_owner:D.current}}function $(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function H(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function P(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return J[ie]})}var m=/\/+/g;function C(U,J){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):J.toString(36)}function S(U,J,ie,ce,ue){var Ae=typeof U;(Ae==="undefined"||Ae==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Ae){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case t:case e:$e=!0}}if($e)return $e=U,ue=ue($e),U=ce===""?"."+C($e,0):ce,L(ue)?(ie="",U!=null&&(ie=U.replace(m,"$&/")+"/"),S(ue,J,ie,"",function(ae){return ae})):ue!=null&&(H(ue)&&(ue=$(ue,ie+(!ue.key||$e&&$e.key===ue.key?"":(""+ue.key).replace(m,"$&/")+"/")+U)),J.push(ue)),1;if($e=0,ce=ce===""?".":ce+":",L(U))for(var le=0;le<U.length;le++){Ae=U[le];var re=ce+C(Ae,le);$e+=S(Ae,J,ie,re,ue)}else if(re=g(U),typeof re=="function")for(U=re.call(U),le=0;!(Ae=U.next()).done;)Ae=Ae.value,re=ce+C(Ae,le++),$e+=S(Ae,J,ie,re,ue);else if(Ae==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return $e}function _(U,J,ie){if(U==null)return U;var ce=[],ue=0;return S(U,ce,"","",function(Ae){return J.call(ie,Ae,ue++)}),ce}function I(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var j={current:null},W={transition:null},B={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function E(){throw Error("act(...) is not supported in production builds of React.")}return gn.Children={map:_,forEach:function(U,J,ie){_(U,function(){J.apply(this,arguments)},ie)},count:function(U){var J=0;return _(U,function(){J++}),J},toArray:function(U){return _(U,function(J){return J})||[]},only:function(U){if(!H(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},gn.Component=x,gn.Fragment=n,gn.Profiler=i,gn.PureComponent=N,gn.StrictMode=r,gn.Suspense=d,gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,gn.act=E,gn.cloneElement=function(U,J,ie){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ce=v({},U.props),ue=U.key,Ae=U.ref,$e=U._owner;if(J!=null){if(J.ref!==void 0&&(Ae=J.ref,$e=D.current),J.key!==void 0&&(ue=""+J.key),U.type&&U.type.defaultProps)var le=U.type.defaultProps;for(re in J)O.call(J,re)&&!F.hasOwnProperty(re)&&(ce[re]=J[re]===void 0&&le!==void 0?le[re]:J[re])}var re=arguments.length-2;if(re===1)ce.children=ie;else if(1<re){le=Array(re);for(var ae=0;ae<re;ae++)le[ae]=arguments[ae+2];ce.children=le}return{$$typeof:t,type:U.type,key:ue,ref:Ae,props:ce,_owner:$e}},gn.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},gn.createElement=q,gn.createFactory=function(U){var J=q.bind(null,U);return J.type=U,J},gn.createRef=function(){return{current:null}},gn.forwardRef=function(U){return{$$typeof:a,render:U}},gn.isValidElement=H,gn.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:I}},gn.memo=function(U,J){return{$$typeof:l,type:U,compare:J===void 0?null:J}},gn.startTransition=function(U){var J=W.transition;W.transition={};try{U()}finally{W.transition=J}},gn.unstable_act=E,gn.useCallback=function(U,J){return j.current.useCallback(U,J)},gn.useContext=function(U){return j.current.useContext(U)},gn.useDebugValue=function(){},gn.useDeferredValue=function(U){return j.current.useDeferredValue(U)},gn.useEffect=function(U,J){return j.current.useEffect(U,J)},gn.useId=function(){return j.current.useId()},gn.useImperativeHandle=function(U,J,ie){return j.current.useImperativeHandle(U,J,ie)},gn.useInsertionEffect=function(U,J){return j.current.useInsertionEffect(U,J)},gn.useLayoutEffect=function(U,J){return j.current.useLayoutEffect(U,J)},gn.useMemo=function(U,J){return j.current.useMemo(U,J)},gn.useReducer=function(U,J,ie){return j.current.useReducer(U,J,ie)},gn.useRef=function(U){return j.current.useRef(U)},gn.useState=function(U){return j.current.useState(U)},gn.useSyncExternalStore=function(U,J,ie){return j.current.useSyncExternalStore(U,J,ie)},gn.useTransition=function(){return j.current.useTransition()},gn.version="18.3.1",gn}var rE;function Up(){return rE||(rE=1,Kv.exports=bM()),Kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function CM(){if(iE)return Dh;iE=1;var t=Up(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,d,l){var f,h={},g=null,y=null;l!==void 0&&(g=""+l),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)r.call(d,f)&&!s.hasOwnProperty(f)&&(h[f]=d[f]);if(a&&a.defaultProps)for(f in d=a.defaultProps,d)h[f]===void 0&&(h[f]=d[f]);return{$$typeof:e,type:a,key:g,ref:y,props:h,_owner:i.current}}return Dh.Fragment=n,Dh.jsx=o,Dh.jsxs=o,Dh}var sE;function EM(){return sE||(sE=1,Vv.exports=CM()),Vv.exports}var Tr=EM(),Qn=Up();const CS=Uo(Qn);var mg={},Gv={exports:{}},hs={},Qv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function AM(){return oE||(oE=1,function(t){function e(W,B){var E=W.length;W.push(B);e:for(;0<E;){var U=E-1>>>1,J=W[U];if(0<i(J,B))W[U]=B,W[E]=J,E=U;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],E=W.pop();if(E!==B){W[0]=E;e:for(var U=0,J=W.length,ie=J>>>1;U<ie;){var ce=2*(U+1)-1,ue=W[ce],Ae=ce+1,$e=W[Ae];if(0>i(ue,E))Ae<J&&0>i($e,ue)?(W[U]=$e,W[Ae]=E,U=Ae):(W[U]=ue,W[ce]=E,U=ce);else if(Ae<J&&0>i($e,E))W[U]=$e,W[Ae]=E,U=Ae;else break e}}return B}function i(W,B){var E=W.sortIndex-B.sortIndex;return E!==0?E:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var d=[],l=[],f=1,h=null,g=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(W){for(var B=n(l);B!==null;){if(B.callback===null)r(l);else if(B.startTime<=W)r(l),B.sortIndex=B.expirationTime,e(d,B);else break;B=n(l)}}function L(W){if(w=!1,R(W),!v)if(n(d)!==null)v=!0,I(O);else{var B=n(l);B!==null&&j(L,B.startTime-W)}}function O(W,B){v=!1,w&&(w=!1,k(q),q=-1),y=!0;var E=g;try{for(R(B),h=n(d);h!==null&&(!(h.expirationTime>B)||W&&!P());){var U=h.callback;if(typeof U=="function"){h.callback=null,g=h.priorityLevel;var J=U(h.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(d)&&r(d),R(B)}else r(d);h=n(d)}if(h!==null)var ie=!0;else{var ce=n(l);ce!==null&&j(L,ce.startTime-B),ie=!1}return ie}finally{h=null,g=E,y=!1}}var D=!1,F=null,q=-1,$=5,H=-1;function P(){return!(t.unstable_now()-H<$)}function m(){if(F!==null){var W=t.unstable_now();H=W;var B=!0;try{B=F(!0,W)}finally{B?C():(D=!1,F=null)}}else D=!1}var C;if(typeof N=="function")C=function(){N(m)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,_=S.port2;S.port1.onmessage=m,C=function(){_.postMessage(null)}}else C=function(){x(m,0)};function I(W){F=W,D||(D=!0,C())}function j(W,B){q=x(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,I(O))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var E=g;g=B;try{return W()}finally{g=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var E=g;g=W;try{return B()}finally{g=E}},t.unstable_scheduleCallback=function(W,B,E){var U=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?U+E:U):E=U,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=E+J,W={id:f++,callback:B,priorityLevel:W,startTime:E,expirationTime:J,sortIndex:-1},E>U?(W.sortIndex=E,e(l,W),n(d)===null&&W===n(l)&&(w?(k(q),q=-1):w=!0,j(L,E-U))):(W.sortIndex=J,e(d,W),v||y||(v=!0,I(O))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var B=g;return function(){var E=g;g=B;try{return W.apply(this,arguments)}finally{g=E}}}}(Yv)),Yv}var aE;function _M(){return aE||(aE=1,Qv.exports=AM()),Qv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function xM(){if(cE)return hs;cE=1;var t=Up(),e=_M();function n(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(i[c]=u,c=0;c<u.length;c++)r.add(u[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(c){return d.call(h,c)?!0:d.call(f,c)?!1:l.test(c)?h[c]=!0:(f[c]=!0,!1)}function y(c,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,u,p,b){if(u===null||typeof u>"u"||y(c,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(c,u,p,b,A,M,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=c,this.type=u,this.sanitizeURL=M,this.removeEmptyString=V}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];x[u]=new w(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(k,N);x[u]=new w(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(k,N);x[u]=new w(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(k,N);x[u]=new w(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function R(c,u,p,b){var A=x.hasOwnProperty(u)?x[u]:null;(A!==null?A.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,p,A,b)&&(p=null),b||A===null?g(u)&&(p===null?c.removeAttribute(u):c.setAttribute(u,""+p)):A.mustUseProperty?c[A.propertyName]=p===null?A.type===3?!1:"":p:(u=A.attributeName,b=A.attributeNamespace,p===null?c.removeAttribute(u):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,b?c.setAttributeNS(b,u,p):c.setAttribute(u,p))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),P=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),W=Symbol.iterator;function B(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var E=Object.assign,U;function J(c){if(U===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+c}var ie=!1;function ce(c,u){if(!c||ie)return"";ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(me){var b=me}Reflect.construct(c,[],u)}else{try{u.call()}catch(me){b=me}c.call(u.prototype)}else{try{throw Error()}catch(me){b=me}c()}}catch(me){if(me&&b&&typeof me.stack=="string"){for(var A=me.stack.split(`
`),M=b.stack.split(`
`),V=A.length-1,X=M.length-1;1<=V&&0<=X&&A[V]!==M[X];)X--;for(;1<=V&&0<=X;V--,X--)if(A[V]!==M[X]){if(V!==1||X!==1)do if(V--,X--,0>X||A[V]!==M[X]){var ne=`
`+A[V].replace(" at new "," at ");return c.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",c.displayName)),ne}while(1<=V&&0<=X);break}}}finally{ie=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?J(c):""}function ue(c){switch(c.tag){case 5:return J(c.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return c=ce(c.type,!1),c;case 11:return c=ce(c.type.render,!1),c;case 1:return c=ce(c.type,!0),c;default:return""}}function Ae(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case D:return"Portal";case $:return"Profiler";case q:return"StrictMode";case C:return"Suspense";case S:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case P:return(c.displayName||"Context")+".Consumer";case H:return(c._context.displayName||"Context")+".Provider";case m:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return u=c.displayName||null,u!==null?u:Ae(c.type)||"Memo";case I:u=c._payload,c=c._init;try{return Ae(c(u))}catch{}}return null}function $e(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(u);case 8:return u===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function le(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function re(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ae(c){var u=re(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),b=""+c[u];if(!c.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,M=p.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return A.call(this)},set:function(V){b=""+V,M.call(this,V)}}),Object.defineProperty(c,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(V){b=""+V},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function Ce(c){c._valueTracker||(c._valueTracker=ae(c))}function we(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return c&&(b=re(c)?c.checked?"true":"false":c.value),c=b,c!==p?(u.setValue(c),!0):!1}function Se(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ze(c,u){var p=u.checked;return E({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function Me(c,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=le(u.value!=null?u.value:p),c._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function wt(c,u){u=u.checked,u!=null&&R(c,"checked",u,!1)}function en(c,u){wt(c,u);var p=le(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(b==="submit"||b==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?At(c,u.type,p):u.hasOwnProperty("defaultValue")&&At(c,u.type,le(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function je(c,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,p||u===c.value||(c.value=u),c.defaultValue=u}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function At(c,u,p){(u!=="number"||Se(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var Nn=Array.isArray;function Zt(c,u,p,b){if(c=c.options,u){u={};for(var A=0;A<p.length;A++)u["$"+p[A]]=!0;for(p=0;p<c.length;p++)A=u.hasOwnProperty("$"+c[p].value),c[p].selected!==A&&(c[p].selected=A),A&&b&&(c[p].defaultSelected=!0)}else{for(p=""+le(p),u=null,A=0;A<c.length;A++){if(c[A].value===p){c[A].selected=!0,b&&(c[A].defaultSelected=!0);return}u!==null||c[A].disabled||(u=c[A])}u!==null&&(u.selected=!0)}}function on(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return E({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function qn(c,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Nn(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}c._wrapperState={initialValue:le(p)}}function Ft(c,u){var p=le(u.value),b=le(u.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),u.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),b!=null&&(c.defaultValue=""+b)}function Kt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Pt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Pt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ke,bn=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,A){MSApp.execUnsafeLocalFunction(function(){return c(u,p,b,A)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ke.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function an(c,u){if(u){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=u;return}}c.textContent=u}var tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fn=["Webkit","ms","Moz","O"];Object.keys(tn).forEach(function(c){fn.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),tn[u]=tn[c]})});function Ge(c,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||tn.hasOwnProperty(c)&&tn[c]?(""+u).trim():u+"px"}function cn(c,u){c=c.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,A=Ge(p,u[p],b);p==="float"&&(p="cssFloat"),b?c.setProperty(p,A):c[p]=A}}var Zi=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function On(c,u){if(u){if(Zi[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Yn(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Hn(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Ws=null,Zn=null;function Cr(c){if(c=bh(c)){if(typeof ir!="function")throw Error(n(280));var u=c.stateNode;u&&(u=N1(u),ir(c.stateNode,c.type,u))}}function Ji(c){Ws?Zn?Zn.push(c):Zn=[c]:Ws=c}function jn(){if(Ws){var c=Ws,u=Zn;if(Zn=Ws=null,Cr(c),u)for(c=0;c<u.length;c++)Cr(u[c])}}function Vn(c,u){return c(u)}function Sa(){}var sr=!1;function pr(c,u,p){if(sr)return c(u,p);sr=!0;try{return Vn(c,u,p)}finally{sr=!1,(Ws!==null||Zn!==null)&&(Sa(),jn())}}function jo(c,u){var p=c.stateNode;if(p===null)return null;var b=N1(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var pn=!1;if(a)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{pn=!1}function z(c,u,p,b,A,M,V,X,ne){var me=Array.prototype.slice.call(arguments,3);try{u.apply(p,me)}catch(Ne){this.onError(Ne)}}var G=!1,K=null,T=!1,Y=null,se={onError:function(c){G=!0,K=c}};function de(c,u,p,b,A,M,V,X,ne){G=!1,K=null,z.apply(se,arguments)}function be(c,u,p,b,A,M,V,X,ne){if(de.apply(this,arguments),G){if(G){var me=K;G=!1,K=null}else throw Error(n(198));T||(T=!0,Y=me)}}function _e(c){var u=c,p=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(p=u.return),c=u.return;while(c)}return u.tag===3?p:null}function it(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function He(c){if(_e(c)!==c)throw Error(n(188))}function hn(c){var u=c.alternate;if(!u){if(u=_e(c),u===null)throw Error(n(188));return u!==c?null:c}for(var p=c,b=u;;){var A=p.return;if(A===null)break;var M=A.alternate;if(M===null){if(b=A.return,b!==null){p=b;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===p)return He(A),c;if(M===b)return He(A),u;M=M.sibling}throw Error(n(188))}if(p.return!==b.return)p=A,b=M;else{for(var V=!1,X=A.child;X;){if(X===p){V=!0,p=A,b=M;break}if(X===b){V=!0,b=A,p=M;break}X=X.sibling}if(!V){for(X=M.child;X;){if(X===p){V=!0,p=M,b=A;break}if(X===b){V=!0,b=M,p=A;break}X=X.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:u}function Qe(c){return c=hn(c),c!==null?xt(c):null}function xt(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=xt(c);if(u!==null)return u;c=c.sibling}return null}var St=e.unstable_scheduleCallback,Lt=e.unstable_cancelCallback,Ut=e.unstable_shouldYield,Nt=e.unstable_requestPaint,Xe=e.unstable_now,kt=e.unstable_getCurrentPriorityLevel,Je=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,Ve=e.unstable_NormalPriority,et=e.unstable_LowPriority,nt=e.unstable_IdlePriority,ze=null,ge=null;function ye(c){if(ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ze,c,void 0,(c.current.flags&128)===128)}catch{}}var Ie=Math.clz32?Math.clz32:Re,xe=Math.log,Te=Math.LN2;function Re(c){return c>>>=0,c===0?32:31-(xe(c)/Te|0)|0}var Ct=64,jt=4194304;function zt(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Wt(c,u){var p=c.pendingLanes;if(p===0)return 0;var b=0,A=c.suspendedLanes,M=c.pingedLanes,V=p&268435455;if(V!==0){var X=V&~A;X!==0?b=zt(X):(M&=V,M!==0&&(b=zt(M)))}else V=p&~A,V!==0?b=zt(V):M!==0&&(b=zt(M));if(b===0)return 0;if(u!==0&&u!==b&&(u&A)===0&&(A=b&-b,M=u&-u,A>=M||A===16&&(M&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=b;0<u;)p=31-Ie(u),A=1<<p,b|=c[p],u&=~A;return b}function ee(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(c,u){for(var p=c.suspendedLanes,b=c.pingedLanes,A=c.expirationTimes,M=c.pendingLanes;0<M;){var V=31-Ie(M),X=1<<V,ne=A[V];ne===-1?((X&p)===0||(X&b)!==0)&&(A[V]=ee(X,u)):ne<=u&&(c.expiredLanes|=X),M&=~X}}function Cn(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function An(){var c=Ct;return Ct<<=1,(Ct&4194240)===0&&(Ct=64),c}function Qt(c){for(var u=[],p=0;31>p;p++)u.push(c);return u}function ln(c,u,p){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ie(u),c[u]=p}function _n(c,u){var p=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<p;){var A=31-Ie(p),M=1<<A;u[A]=0,b[A]=-1,c[A]=-1,p&=~M}}function Er(c,u){var p=c.entangledLanes|=u;for(c=c.entanglements;p;){var b=31-Ie(p),A=1<<b;A&u|c[b]&u&&(c[b]|=u),p&=~A}}var bt=0;function Ar(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var _r,gr,Fr,ni,ri,Zr=!1,g1=[],vc=null,bc=null,Cc=null,ih=new Map,sh=new Map,Ec=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U6(c,u){switch(c){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":ih.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(u.pointerId)}}function oh(c,u,p,b,A,M){return c===null||c.nativeEvent!==M?(c={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:M,targetContainers:[A]},u!==null&&(u=bh(u),u!==null&&gr(u)),c):(c.eventSystemFlags|=b,u=c.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),c)}function WR(c,u,p,b,A){switch(u){case"focusin":return vc=oh(vc,c,u,p,b,A),!0;case"dragenter":return bc=oh(bc,c,u,p,b,A),!0;case"mouseover":return Cc=oh(Cc,c,u,p,b,A),!0;case"pointerover":var M=A.pointerId;return ih.set(M,oh(ih.get(M)||null,c,u,p,b,A)),!0;case"gotpointercapture":return M=A.pointerId,sh.set(M,oh(sh.get(M)||null,c,u,p,b,A)),!0}return!1}function B6(c){var u=Ml(c.target);if(u!==null){var p=_e(u);if(p!==null){if(u=p.tag,u===13){if(u=it(p),u!==null){c.blockedOn=u,ri(c.priority,function(){Fr(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function m1(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var p=ww(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var b=new p.constructor(p.type,p);zs=b,p.target.dispatchEvent(b),zs=null}else return u=bh(p),u!==null&&gr(u),c.blockedOn=p,!1;u.shift()}return!0}function F6(c,u,p){m1(c)&&p.delete(u)}function qR(){Zr=!1,vc!==null&&m1(vc)&&(vc=null),bc!==null&&m1(bc)&&(bc=null),Cc!==null&&m1(Cc)&&(Cc=null),ih.forEach(F6),sh.forEach(F6)}function ah(c,u){c.blockedOn===u&&(c.blockedOn=null,Zr||(Zr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qR)))}function ch(c){function u(A){return ah(A,c)}if(0<g1.length){ah(g1[0],c);for(var p=1;p<g1.length;p++){var b=g1[p];b.blockedOn===c&&(b.blockedOn=null)}}for(vc!==null&&ah(vc,c),bc!==null&&ah(bc,c),Cc!==null&&ah(Cc,c),ih.forEach(u),sh.forEach(u),p=0;p<Ec.length;p++)b=Ec[p],b.blockedOn===c&&(b.blockedOn=null);for(;0<Ec.length&&(p=Ec[0],p.blockedOn===null);)B6(p),p.blockedOn===null&&Ec.shift()}var rd=L.ReactCurrentBatchConfig,y1=!0;function HR(c,u,p,b){var A=bt,M=rd.transition;rd.transition=null;try{bt=1,yw(c,u,p,b)}finally{bt=A,rd.transition=M}}function VR(c,u,p,b){var A=bt,M=rd.transition;rd.transition=null;try{bt=4,yw(c,u,p,b)}finally{bt=A,rd.transition=M}}function yw(c,u,p,b){if(y1){var A=ww(c,u,p,b);if(A===null)Dw(c,u,b,w1,p),U6(c,b);else if(WR(A,c,u,p,b))b.stopPropagation();else if(U6(c,b),u&4&&-1<zR.indexOf(c)){for(;A!==null;){var M=bh(A);if(M!==null&&_r(M),M=ww(c,u,p,b),M===null&&Dw(c,u,b,w1,p),M===A)break;A=M}A!==null&&b.stopPropagation()}else Dw(c,u,b,null,p)}}var w1=null;function ww(c,u,p,b){if(w1=null,c=Hn(b),c=Ml(c),c!==null)if(u=_e(c),u===null)c=null;else if(p=u.tag,p===13){if(c=it(u),c!==null)return c;c=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return w1=c,null}function j6(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kt()){case Je:return 1;case ht:return 4;case Ve:case et:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Ac=null,vw=null,v1=null;function z6(){if(v1)return v1;var c,u=vw,p=u.length,b,A="value"in Ac?Ac.value:Ac.textContent,M=A.length;for(c=0;c<p&&u[c]===A[c];c++);var V=p-c;for(b=1;b<=V&&u[p-b]===A[M-b];b++);return v1=A.slice(c,1<b?1-b:void 0)}function b1(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function C1(){return!0}function W6(){return!1}function Is(c){function u(p,b,A,M,V){this._reactName=p,this._targetInst=A,this.type=b,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(p=c[X],this[X]=p?p(M):M[X]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?C1:W6,this.isPropagationStopped=W6,this}return E(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=C1)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=C1)},persist:function(){},isPersistent:C1}),u}var id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=Is(id),lh=E({},id,{view:0,detail:0}),KR=Is(lh),Cw,Ew,uh,E1=E({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_w,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==uh&&(uh&&c.type==="mousemove"?(Cw=c.screenX-uh.screenX,Ew=c.screenY-uh.screenY):Ew=Cw=0,uh=c),Cw)},movementY:function(c){return"movementY"in c?c.movementY:Ew}}),q6=Is(E1),GR=E({},E1,{dataTransfer:0}),QR=Is(GR),YR=E({},lh,{relatedTarget:0}),Aw=Is(YR),ZR=E({},id,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=Is(ZR),XR=E({},id,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),eO=Is(XR),tO=E({},id,{data:0}),H6=Is(tO),nO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sO(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=iO[c])?!!u[c]:!1}function _w(){return sO}var oO=E({},lh,{key:function(c){if(c.key){var u=nO[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=b1(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?rO[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_w,charCode:function(c){return c.type==="keypress"?b1(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?b1(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),aO=Is(oO),cO=E({},E1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V6=Is(cO),lO=E({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_w}),uO=Is(lO),dO=E({},id,{propertyName:0,elapsedTime:0,pseudoElement:0}),fO=Is(dO),hO=E({},E1,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),pO=Is(hO),gO=[9,13,27,32],xw=a&&"CompositionEvent"in window,dh=null;a&&"documentMode"in document&&(dh=document.documentMode);var mO=a&&"TextEvent"in window&&!dh,K6=a&&(!xw||dh&&8<dh&&11>=dh),G6=" ",Q6=!1;function Y6(c,u){switch(c){case"keyup":return gO.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z6(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sd=!1;function yO(c,u){switch(c){case"compositionend":return Z6(u);case"keypress":return u.which!==32?null:(Q6=!0,G6);case"textInput":return c=u.data,c===G6&&Q6?null:c;default:return null}}function wO(c,u){if(sd)return c==="compositionend"||!xw&&Y6(c,u)?(c=z6(),v1=vw=Ac=null,sd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return K6&&u.locale!=="ko"?null:u.data;default:return null}}var vO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J6(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!vO[c.type]:u==="textarea"}function X6(c,u,p,b){Ji(b),u=I1(u,"onChange"),0<u.length&&(p=new bw("onChange","change",null,p,b),c.push({event:p,listeners:u}))}var fh=null,hh=null;function bO(c){y8(c,0)}function A1(c){var u=ud(c);if(we(u))return c}function CO(c,u){if(c==="change")return u}var e8=!1;if(a){var Sw;if(a){var Iw="oninput"in document;if(!Iw){var t8=document.createElement("div");t8.setAttribute("oninput","return;"),Iw=typeof t8.oninput=="function"}Sw=Iw}else Sw=!1;e8=Sw&&(!document.documentMode||9<document.documentMode)}function n8(){fh&&(fh.detachEvent("onpropertychange",r8),hh=fh=null)}function r8(c){if(c.propertyName==="value"&&A1(hh)){var u=[];X6(u,hh,c,Hn(c)),pr(bO,u)}}function EO(c,u,p){c==="focusin"?(n8(),fh=u,hh=p,fh.attachEvent("onpropertychange",r8)):c==="focusout"&&n8()}function AO(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return A1(hh)}function _O(c,u){if(c==="click")return A1(u)}function xO(c,u){if(c==="input"||c==="change")return A1(u)}function SO(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var po=typeof Object.is=="function"?Object.is:SO;function ph(c,u){if(po(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var p=Object.keys(c),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var A=p[b];if(!d.call(u,A)||!po(c[A],u[A]))return!1}return!0}function i8(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function s8(c,u){var p=i8(c);c=0;for(var b;p;){if(p.nodeType===3){if(b=c+p.textContent.length,c<=u&&b>=u)return{node:p,offset:u-c};c=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=i8(p)}}function o8(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?o8(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function a8(){for(var c=window,u=Se();u instanceof c.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)c=u.contentWindow;else break;u=Se(c.document)}return u}function Tw(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function IO(c){var u=a8(),p=c.focusedElem,b=c.selectionRange;if(u!==p&&p&&p.ownerDocument&&o8(p.ownerDocument.documentElement,p)){if(b!==null&&Tw(p)){if(u=b.start,c=b.end,c===void 0&&(c=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(c,p.value.length);else if(c=(u=p.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var A=p.textContent.length,M=Math.min(b.start,A);b=b.end===void 0?M:Math.min(b.end,A),!c.extend&&M>b&&(A=b,b=M,M=A),A=s8(p,M);var V=s8(p,b);A&&V&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==V.node||c.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),c.removeAllRanges(),M>b?(c.addRange(u),c.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),c.addRange(u)))}}for(u=[],c=p;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)c=u[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var TO=a&&"documentMode"in document&&11>=document.documentMode,od=null,Pw=null,gh=null,Nw=!1;function c8(c,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Nw||od==null||od!==Se(b)||(b=od,"selectionStart"in b&&Tw(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),gh&&ph(gh,b)||(gh=b,b=I1(Pw,"onSelect"),0<b.length&&(u=new bw("onSelect","select",null,u,p),c.push({event:u,listeners:b}),u.target=od)))}function _1(c,u){var p={};return p[c.toLowerCase()]=u.toLowerCase(),p["Webkit"+c]="webkit"+u,p["Moz"+c]="moz"+u,p}var ad={animationend:_1("Animation","AnimationEnd"),animationiteration:_1("Animation","AnimationIteration"),animationstart:_1("Animation","AnimationStart"),transitionend:_1("Transition","TransitionEnd")},kw={},l8={};a&&(l8=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function x1(c){if(kw[c])return kw[c];if(!ad[c])return c;var u=ad[c],p;for(p in u)if(u.hasOwnProperty(p)&&p in l8)return kw[c]=u[p];return c}var u8=x1("animationend"),d8=x1("animationiteration"),f8=x1("animationstart"),h8=x1("transitionend"),p8=new Map,g8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _c(c,u){p8.set(c,u),s(u,[c])}for(var Rw=0;Rw<g8.length;Rw++){var Ow=g8[Rw],PO=Ow.toLowerCase(),NO=Ow[0].toUpperCase()+Ow.slice(1);_c(PO,"on"+NO)}_c(u8,"onAnimationEnd"),_c(d8,"onAnimationIteration"),_c(f8,"onAnimationStart"),_c("dblclick","onDoubleClick"),_c("focusin","onFocus"),_c("focusout","onBlur"),_c(h8,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kO=new Set("cancel close invalid load scroll toggle".split(" ").concat(mh));function m8(c,u,p){var b=c.type||"unknown-event";c.currentTarget=p,be(b,u,void 0,c),c.currentTarget=null}function y8(c,u){u=(u&4)!==0;for(var p=0;p<c.length;p++){var b=c[p],A=b.event;b=b.listeners;e:{var M=void 0;if(u)for(var V=b.length-1;0<=V;V--){var X=b[V],ne=X.instance,me=X.currentTarget;if(X=X.listener,ne!==M&&A.isPropagationStopped())break e;m8(A,X,me),M=ne}else for(V=0;V<b.length;V++){if(X=b[V],ne=X.instance,me=X.currentTarget,X=X.listener,ne!==M&&A.isPropagationStopped())break e;m8(A,X,me),M=ne}}}if(T)throw c=Y,T=!1,Y=null,c}function xr(c,u){var p=u[jw];p===void 0&&(p=u[jw]=new Set);var b=c+"__bubble";p.has(b)||(w8(u,c,2,!1),p.add(b))}function Mw(c,u,p){var b=0;u&&(b|=4),w8(p,c,b,u)}var S1="_reactListening"+Math.random().toString(36).slice(2);function yh(c){if(!c[S1]){c[S1]=!0,r.forEach(function(p){p!=="selectionchange"&&(kO.has(p)||Mw(p,!1,c),Mw(p,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[S1]||(u[S1]=!0,Mw("selectionchange",!1,u))}}function w8(c,u,p,b){switch(j6(u)){case 1:var A=HR;break;case 4:A=VR;break;default:A=yw}p=A.bind(null,u,p,c),A=void 0,!pn||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),b?A!==void 0?c.addEventListener(u,p,{capture:!0,passive:A}):c.addEventListener(u,p,!0):A!==void 0?c.addEventListener(u,p,{passive:A}):c.addEventListener(u,p,!1)}function Dw(c,u,p,b,A){var M=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var X=b.stateNode.containerInfo;if(X===A||X.nodeType===8&&X.parentNode===A)break;if(V===4)for(V=b.return;V!==null;){var ne=V.tag;if((ne===3||ne===4)&&(ne=V.stateNode.containerInfo,ne===A||ne.nodeType===8&&ne.parentNode===A))return;V=V.return}for(;X!==null;){if(V=Ml(X),V===null)return;if(ne=V.tag,ne===5||ne===6){b=M=V;continue e}X=X.parentNode}}b=b.return}pr(function(){var me=M,Ne=Hn(p),Oe=[];e:{var Pe=p8.get(c);if(Pe!==void 0){var tt=bw,pt=c;switch(c){case"keypress":if(b1(p)===0)break e;case"keydown":case"keyup":tt=aO;break;case"focusin":pt="focus",tt=Aw;break;case"focusout":pt="blur",tt=Aw;break;case"beforeblur":case"afterblur":tt=Aw;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=q6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=uO;break;case u8:case d8:case f8:tt=JR;break;case h8:tt=fO;break;case"scroll":tt=KR;break;case"wheel":tt=pO;break;case"copy":case"cut":case"paste":tt=eO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=V6}var yt=(u&4)!==0,Hr=!yt&&c==="scroll",fe=yt?Pe!==null?Pe+"Capture":null:Pe;yt=[];for(var oe=me,he;oe!==null;){he=oe;var Le=he.stateNode;if(he.tag===5&&Le!==null&&(he=Le,fe!==null&&(Le=jo(oe,fe),Le!=null&&yt.push(wh(oe,Le,he)))),Hr)break;oe=oe.return}0<yt.length&&(Pe=new tt(Pe,pt,null,p,Ne),Oe.push({event:Pe,listeners:yt}))}}if((u&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",tt=c==="mouseout"||c==="pointerout",Pe&&p!==zs&&(pt=p.relatedTarget||p.fromElement)&&(Ml(pt)||pt[Ia]))break e;if((tt||Pe)&&(Pe=Ne.window===Ne?Ne:(Pe=Ne.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,tt?(pt=p.relatedTarget||p.toElement,tt=me,pt=pt?Ml(pt):null,pt!==null&&(Hr=_e(pt),pt!==Hr||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(tt=null,pt=me),tt!==pt)){if(yt=q6,Le="onMouseLeave",fe="onMouseEnter",oe="mouse",(c==="pointerout"||c==="pointerover")&&(yt=V6,Le="onPointerLeave",fe="onPointerEnter",oe="pointer"),Hr=tt==null?Pe:ud(tt),he=pt==null?Pe:ud(pt),Pe=new yt(Le,oe+"leave",tt,p,Ne),Pe.target=Hr,Pe.relatedTarget=he,Le=null,Ml(Ne)===me&&(yt=new yt(fe,oe+"enter",pt,p,Ne),yt.target=he,yt.relatedTarget=Hr,Le=yt),Hr=Le,tt&&pt)t:{for(yt=tt,fe=pt,oe=0,he=yt;he;he=cd(he))oe++;for(he=0,Le=fe;Le;Le=cd(Le))he++;for(;0<oe-he;)yt=cd(yt),oe--;for(;0<he-oe;)fe=cd(fe),he--;for(;oe--;){if(yt===fe||fe!==null&&yt===fe.alternate)break t;yt=cd(yt),fe=cd(fe)}yt=null}else yt=null;tt!==null&&v8(Oe,Pe,tt,yt,!1),pt!==null&&Hr!==null&&v8(Oe,Hr,pt,yt,!0)}}e:{if(Pe=me?ud(me):window,tt=Pe.nodeName&&Pe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Pe.type==="file")var vt=CO;else if(J6(Pe))if(e8)vt=xO;else{vt=AO;var Rt=EO}else(tt=Pe.nodeName)&&tt.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(vt=_O);if(vt&&(vt=vt(c,me))){X6(Oe,vt,p,Ne);break e}Rt&&Rt(c,Pe,me),c==="focusout"&&(Rt=Pe._wrapperState)&&Rt.controlled&&Pe.type==="number"&&At(Pe,"number",Pe.value)}switch(Rt=me?ud(me):window,c){case"focusin":(J6(Rt)||Rt.contentEditable==="true")&&(od=Rt,Pw=me,gh=null);break;case"focusout":gh=Pw=od=null;break;case"mousedown":Nw=!0;break;case"contextmenu":case"mouseup":case"dragend":Nw=!1,c8(Oe,p,Ne);break;case"selectionchange":if(TO)break;case"keydown":case"keyup":c8(Oe,p,Ne)}var Ot;if(xw)e:{switch(c){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else sd?Y6(c,p)&&(qt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(qt="onCompositionStart");qt&&(K6&&p.locale!=="ko"&&(sd||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&sd&&(Ot=z6()):(Ac=Ne,vw="value"in Ac?Ac.value:Ac.textContent,sd=!0)),Rt=I1(me,qt),0<Rt.length&&(qt=new H6(qt,c,null,p,Ne),Oe.push({event:qt,listeners:Rt}),Ot?qt.data=Ot:(Ot=Z6(p),Ot!==null&&(qt.data=Ot)))),(Ot=mO?yO(c,p):wO(c,p))&&(me=I1(me,"onBeforeInput"),0<me.length&&(Ne=new H6("onBeforeInput","beforeinput",null,p,Ne),Oe.push({event:Ne,listeners:me}),Ne.data=Ot))}y8(Oe,u)})}function wh(c,u,p){return{instance:c,listener:u,currentTarget:p}}function I1(c,u){for(var p=u+"Capture",b=[];c!==null;){var A=c,M=A.stateNode;A.tag===5&&M!==null&&(A=M,M=jo(c,p),M!=null&&b.unshift(wh(c,M,A)),M=jo(c,u),M!=null&&b.push(wh(c,M,A))),c=c.return}return b}function cd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function v8(c,u,p,b,A){for(var M=u._reactName,V=[];p!==null&&p!==b;){var X=p,ne=X.alternate,me=X.stateNode;if(ne!==null&&ne===b)break;X.tag===5&&me!==null&&(X=me,A?(ne=jo(p,M),ne!=null&&V.unshift(wh(p,ne,X))):A||(ne=jo(p,M),ne!=null&&V.push(wh(p,ne,X)))),p=p.return}V.length!==0&&c.push({event:u,listeners:V})}var RO=/\r\n?/g,OO=/\u0000|\uFFFD/g;function b8(c){return(typeof c=="string"?c:""+c).replace(RO,`
`).replace(OO,"")}function T1(c,u,p){if(u=b8(u),b8(c)!==u&&p)throw Error(n(425))}function P1(){}var $w=null,Lw=null;function Uw(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Bw=typeof setTimeout=="function"?setTimeout:void 0,MO=typeof clearTimeout=="function"?clearTimeout:void 0,C8=typeof Promise=="function"?Promise:void 0,DO=typeof queueMicrotask=="function"?queueMicrotask:typeof C8<"u"?function(c){return C8.resolve(null).then(c).catch($O)}:Bw;function $O(c){setTimeout(function(){throw c})}function Fw(c,u){var p=u,b=0;do{var A=p.nextSibling;if(c.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(b===0){c.removeChild(A),ch(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=A}while(p);ch(u)}function xc(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function E8(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return c;u--}else p==="/$"&&u++}c=c.previousSibling}return null}var ld=Math.random().toString(36).slice(2),zo="__reactFiber$"+ld,vh="__reactProps$"+ld,Ia="__reactContainer$"+ld,jw="__reactEvents$"+ld,LO="__reactListeners$"+ld,UO="__reactHandles$"+ld;function Ml(c){var u=c[zo];if(u)return u;for(var p=c.parentNode;p;){if(u=p[Ia]||p[zo]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(c=E8(c);c!==null;){if(p=c[zo])return p;c=E8(c)}return u}c=p,p=c.parentNode}return null}function bh(c){return c=c[zo]||c[Ia],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ud(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function N1(c){return c[vh]||null}var zw=[],dd=-1;function Sc(c){return{current:c}}function Sr(c){0>dd||(c.current=zw[dd],zw[dd]=null,dd--)}function mr(c,u){dd++,zw[dd]=c.current,c.current=u}var Ic={},Bi=Sc(Ic),cs=Sc(!1),Dl=Ic;function fd(c,u){var p=c.type.contextTypes;if(!p)return Ic;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var A={},M;for(M in p)A[M]=u[M];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=A),A}function ls(c){return c=c.childContextTypes,c!=null}function k1(){Sr(cs),Sr(Bi)}function A8(c,u,p){if(Bi.current!==Ic)throw Error(n(168));mr(Bi,u),mr(cs,p)}function _8(c,u,p){var b=c.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var A in b)if(!(A in u))throw Error(n(108,$e(c)||"Unknown",A));return E({},p,b)}function R1(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ic,Dl=Bi.current,mr(Bi,c),mr(cs,cs.current),!0}function x8(c,u,p){var b=c.stateNode;if(!b)throw Error(n(169));p?(c=_8(c,u,Dl),b.__reactInternalMemoizedMergedChildContext=c,Sr(cs),Sr(Bi),mr(Bi,c)):Sr(cs),mr(cs,p)}var Ta=null,O1=!1,Ww=!1;function S8(c){Ta===null?Ta=[c]:Ta.push(c)}function BO(c){O1=!0,S8(c)}function Tc(){if(!Ww&&Ta!==null){Ww=!0;var c=0,u=bt;try{var p=Ta;for(bt=1;c<p.length;c++){var b=p[c];do b=b(!0);while(b!==null)}Ta=null,O1=!1}catch(A){throw Ta!==null&&(Ta=Ta.slice(c+1)),St(Je,Tc),A}finally{bt=u,Ww=!1}}return null}var hd=[],pd=0,M1=null,D1=0,qs=[],Hs=0,$l=null,Pa=1,Na="";function Ll(c,u){hd[pd++]=D1,hd[pd++]=M1,M1=c,D1=u}function I8(c,u,p){qs[Hs++]=Pa,qs[Hs++]=Na,qs[Hs++]=$l,$l=c;var b=Pa;c=Na;var A=32-Ie(b)-1;b&=~(1<<A),p+=1;var M=32-Ie(u)+A;if(30<M){var V=A-A%5;M=(b&(1<<V)-1).toString(32),b>>=V,A-=V,Pa=1<<32-Ie(u)+A|p<<A|b,Na=M+c}else Pa=1<<M|p<<A|b,Na=c}function qw(c){c.return!==null&&(Ll(c,1),I8(c,1,0))}function Hw(c){for(;c===M1;)M1=hd[--pd],hd[pd]=null,D1=hd[--pd],hd[pd]=null;for(;c===$l;)$l=qs[--Hs],qs[Hs]=null,Na=qs[--Hs],qs[Hs]=null,Pa=qs[--Hs],qs[Hs]=null}var Ts=null,Ps=null,Nr=!1,go=null;function T8(c,u){var p=Qs(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=c,u=c.deletions,u===null?(c.deletions=[p],c.flags|=16):u.push(p)}function P8(c,u){switch(c.tag){case 5:var p=c.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Ts=c,Ps=xc(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Ts=c,Ps=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=$l!==null?{id:Pa,overflow:Na}:null,c.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Qs(18,null,null,0),p.stateNode=u,p.return=c,c.child=p,Ts=c,Ps=null,!0):!1;default:return!1}}function Vw(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Kw(c){if(Nr){var u=Ps;if(u){var p=u;if(!P8(c,u)){if(Vw(c))throw Error(n(418));u=xc(p.nextSibling);var b=Ts;u&&P8(c,u)?T8(b,p):(c.flags=c.flags&-4097|2,Nr=!1,Ts=c)}}else{if(Vw(c))throw Error(n(418));c.flags=c.flags&-4097|2,Nr=!1,Ts=c}}}function N8(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ts=c}function $1(c){if(c!==Ts)return!1;if(!Nr)return N8(c),Nr=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!Uw(c.type,c.memoizedProps)),u&&(u=Ps)){if(Vw(c))throw k8(),Error(n(418));for(;u;)T8(c,u),u=xc(u.nextSibling)}if(N8(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(u===0){Ps=xc(c.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}c=c.nextSibling}Ps=null}}else Ps=Ts?xc(c.stateNode.nextSibling):null;return!0}function k8(){for(var c=Ps;c;)c=xc(c.nextSibling)}function gd(){Ps=Ts=null,Nr=!1}function Gw(c){go===null?go=[c]:go.push(c)}var FO=L.ReactCurrentBatchConfig;function Ch(c,u,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,c));var A=b,M=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===M?u.ref:(u=function(V){var X=A.refs;V===null?delete X[M]:X[M]=V},u._stringRef=M,u)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function L1(c,u){throw c=Object.prototype.toString.call(u),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function R8(c){var u=c._init;return u(c._payload)}function O8(c){function u(fe,oe){if(c){var he=fe.deletions;he===null?(fe.deletions=[oe],fe.flags|=16):he.push(oe)}}function p(fe,oe){if(!c)return null;for(;oe!==null;)u(fe,oe),oe=oe.sibling;return null}function b(fe,oe){for(fe=new Map;oe!==null;)oe.key!==null?fe.set(oe.key,oe):fe.set(oe.index,oe),oe=oe.sibling;return fe}function A(fe,oe){return fe=$c(fe,oe),fe.index=0,fe.sibling=null,fe}function M(fe,oe,he){return fe.index=he,c?(he=fe.alternate,he!==null?(he=he.index,he<oe?(fe.flags|=2,oe):he):(fe.flags|=2,oe)):(fe.flags|=1048576,oe)}function V(fe){return c&&fe.alternate===null&&(fe.flags|=2),fe}function X(fe,oe,he,Le){return oe===null||oe.tag!==6?(oe=Bv(he,fe.mode,Le),oe.return=fe,oe):(oe=A(oe,he),oe.return=fe,oe)}function ne(fe,oe,he,Le){var vt=he.type;return vt===F?Ne(fe,oe,he.props.children,Le,he.key):oe!==null&&(oe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&R8(vt)===oe.type)?(Le=A(oe,he.props),Le.ref=Ch(fe,oe,he),Le.return=fe,Le):(Le=ag(he.type,he.key,he.props,null,fe.mode,Le),Le.ref=Ch(fe,oe,he),Le.return=fe,Le)}function me(fe,oe,he,Le){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==he.containerInfo||oe.stateNode.implementation!==he.implementation?(oe=Fv(he,fe.mode,Le),oe.return=fe,oe):(oe=A(oe,he.children||[]),oe.return=fe,oe)}function Ne(fe,oe,he,Le,vt){return oe===null||oe.tag!==7?(oe=Hl(he,fe.mode,Le,vt),oe.return=fe,oe):(oe=A(oe,he),oe.return=fe,oe)}function Oe(fe,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Bv(""+oe,fe.mode,he),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return he=ag(oe.type,oe.key,oe.props,null,fe.mode,he),he.ref=Ch(fe,null,oe),he.return=fe,he;case D:return oe=Fv(oe,fe.mode,he),oe.return=fe,oe;case I:var Le=oe._init;return Oe(fe,Le(oe._payload),he)}if(Nn(oe)||B(oe))return oe=Hl(oe,fe.mode,he,null),oe.return=fe,oe;L1(fe,oe)}return null}function Pe(fe,oe,he,Le){var vt=oe!==null?oe.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return vt!==null?null:X(fe,oe,""+he,Le);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case O:return he.key===vt?ne(fe,oe,he,Le):null;case D:return he.key===vt?me(fe,oe,he,Le):null;case I:return vt=he._init,Pe(fe,oe,vt(he._payload),Le)}if(Nn(he)||B(he))return vt!==null?null:Ne(fe,oe,he,Le,null);L1(fe,he)}return null}function tt(fe,oe,he,Le,vt){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return fe=fe.get(he)||null,X(oe,fe,""+Le,vt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case O:return fe=fe.get(Le.key===null?he:Le.key)||null,ne(oe,fe,Le,vt);case D:return fe=fe.get(Le.key===null?he:Le.key)||null,me(oe,fe,Le,vt);case I:var Rt=Le._init;return tt(fe,oe,he,Rt(Le._payload),vt)}if(Nn(Le)||B(Le))return fe=fe.get(he)||null,Ne(oe,fe,Le,vt,null);L1(oe,Le)}return null}function pt(fe,oe,he,Le){for(var vt=null,Rt=null,Ot=oe,qt=oe=0,gi=null;Ot!==null&&qt<he.length;qt++){Ot.index>qt?(gi=Ot,Ot=null):gi=Ot.sibling;var $n=Pe(fe,Ot,he[qt],Le);if($n===null){Ot===null&&(Ot=gi);break}c&&Ot&&$n.alternate===null&&u(fe,Ot),oe=M($n,oe,qt),Rt===null?vt=$n:Rt.sibling=$n,Rt=$n,Ot=gi}if(qt===he.length)return p(fe,Ot),Nr&&Ll(fe,qt),vt;if(Ot===null){for(;qt<he.length;qt++)Ot=Oe(fe,he[qt],Le),Ot!==null&&(oe=M(Ot,oe,qt),Rt===null?vt=Ot:Rt.sibling=Ot,Rt=Ot);return Nr&&Ll(fe,qt),vt}for(Ot=b(fe,Ot);qt<he.length;qt++)gi=tt(Ot,fe,qt,he[qt],Le),gi!==null&&(c&&gi.alternate!==null&&Ot.delete(gi.key===null?qt:gi.key),oe=M(gi,oe,qt),Rt===null?vt=gi:Rt.sibling=gi,Rt=gi);return c&&Ot.forEach(function(Lc){return u(fe,Lc)}),Nr&&Ll(fe,qt),vt}function yt(fe,oe,he,Le){var vt=B(he);if(typeof vt!="function")throw Error(n(150));if(he=vt.call(he),he==null)throw Error(n(151));for(var Rt=vt=null,Ot=oe,qt=oe=0,gi=null,$n=he.next();Ot!==null&&!$n.done;qt++,$n=he.next()){Ot.index>qt?(gi=Ot,Ot=null):gi=Ot.sibling;var Lc=Pe(fe,Ot,$n.value,Le);if(Lc===null){Ot===null&&(Ot=gi);break}c&&Ot&&Lc.alternate===null&&u(fe,Ot),oe=M(Lc,oe,qt),Rt===null?vt=Lc:Rt.sibling=Lc,Rt=Lc,Ot=gi}if($n.done)return p(fe,Ot),Nr&&Ll(fe,qt),vt;if(Ot===null){for(;!$n.done;qt++,$n=he.next())$n=Oe(fe,$n.value,Le),$n!==null&&(oe=M($n,oe,qt),Rt===null?vt=$n:Rt.sibling=$n,Rt=$n);return Nr&&Ll(fe,qt),vt}for(Ot=b(fe,Ot);!$n.done;qt++,$n=he.next())$n=tt(Ot,fe,qt,$n.value,Le),$n!==null&&(c&&$n.alternate!==null&&Ot.delete($n.key===null?qt:$n.key),oe=M($n,oe,qt),Rt===null?vt=$n:Rt.sibling=$n,Rt=$n);return c&&Ot.forEach(function(vM){return u(fe,vM)}),Nr&&Ll(fe,qt),vt}function Hr(fe,oe,he,Le){if(typeof he=="object"&&he!==null&&he.type===F&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case O:e:{for(var vt=he.key,Rt=oe;Rt!==null;){if(Rt.key===vt){if(vt=he.type,vt===F){if(Rt.tag===7){p(fe,Rt.sibling),oe=A(Rt,he.props.children),oe.return=fe,fe=oe;break e}}else if(Rt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&R8(vt)===Rt.type){p(fe,Rt.sibling),oe=A(Rt,he.props),oe.ref=Ch(fe,Rt,he),oe.return=fe,fe=oe;break e}p(fe,Rt);break}else u(fe,Rt);Rt=Rt.sibling}he.type===F?(oe=Hl(he.props.children,fe.mode,Le,he.key),oe.return=fe,fe=oe):(Le=ag(he.type,he.key,he.props,null,fe.mode,Le),Le.ref=Ch(fe,oe,he),Le.return=fe,fe=Le)}return V(fe);case D:e:{for(Rt=he.key;oe!==null;){if(oe.key===Rt)if(oe.tag===4&&oe.stateNode.containerInfo===he.containerInfo&&oe.stateNode.implementation===he.implementation){p(fe,oe.sibling),oe=A(oe,he.children||[]),oe.return=fe,fe=oe;break e}else{p(fe,oe);break}else u(fe,oe);oe=oe.sibling}oe=Fv(he,fe.mode,Le),oe.return=fe,fe=oe}return V(fe);case I:return Rt=he._init,Hr(fe,oe,Rt(he._payload),Le)}if(Nn(he))return pt(fe,oe,he,Le);if(B(he))return yt(fe,oe,he,Le);L1(fe,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,oe!==null&&oe.tag===6?(p(fe,oe.sibling),oe=A(oe,he),oe.return=fe,fe=oe):(p(fe,oe),oe=Bv(he,fe.mode,Le),oe.return=fe,fe=oe),V(fe)):p(fe,oe)}return Hr}var md=O8(!0),M8=O8(!1),U1=Sc(null),B1=null,yd=null,Qw=null;function Yw(){Qw=yd=B1=null}function Zw(c){var u=U1.current;Sr(U1),c._currentValue=u}function Jw(c,u,p){for(;c!==null;){var b=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),c===p)break;c=c.return}}function wd(c,u){B1=c,Qw=yd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(us=!0),c.firstContext=null)}function Vs(c){var u=c._currentValue;if(Qw!==c)if(c={context:c,memoizedValue:u,next:null},yd===null){if(B1===null)throw Error(n(308));yd=c,B1.dependencies={lanes:0,firstContext:c}}else yd=yd.next=c;return u}var Ul=null;function Xw(c){Ul===null?Ul=[c]:Ul.push(c)}function D8(c,u,p,b){var A=u.interleaved;return A===null?(p.next=p,Xw(u)):(p.next=A.next,A.next=p),u.interleaved=p,ka(c,b)}function ka(c,u){c.lanes|=u;var p=c.alternate;for(p!==null&&(p.lanes|=u),p=c,c=c.return;c!==null;)c.childLanes|=u,p=c.alternate,p!==null&&(p.childLanes|=u),p=c,c=c.return;return p.tag===3?p.stateNode:null}var Pc=!1;function ev(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $8(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ra(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Nc(c,u,p){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Mn&2)!==0){var A=b.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),b.pending=u,ka(c,p)}return A=b.interleaved,A===null?(u.next=u,Xw(b)):(u.next=A.next,A.next=u),b.interleaved=u,ka(c,p)}function F1(c,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=c.pendingLanes,p|=b,u.lanes=p,Er(c,p)}}function L8(c,u){var p=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var A=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};M===null?A=M=V:M=M.next=V,p=p.next}while(p!==null);M===null?A=M=u:M=M.next=u}else A=M=u;p={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:b.shared,effects:b.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=u}function j1(c,u,p,b){var A=c.updateQueue;Pc=!1;var M=A.firstBaseUpdate,V=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var ne=X,me=ne.next;ne.next=null,V===null?M=me:V.next=me,V=ne;var Ne=c.alternate;Ne!==null&&(Ne=Ne.updateQueue,X=Ne.lastBaseUpdate,X!==V&&(X===null?Ne.firstBaseUpdate=me:X.next=me,Ne.lastBaseUpdate=ne))}if(M!==null){var Oe=A.baseState;V=0,Ne=me=ne=null,X=M;do{var Pe=X.lane,tt=X.eventTime;if((b&Pe)===Pe){Ne!==null&&(Ne=Ne.next={eventTime:tt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var pt=c,yt=X;switch(Pe=u,tt=p,yt.tag){case 1:if(pt=yt.payload,typeof pt=="function"){Oe=pt.call(tt,Oe,Pe);break e}Oe=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=yt.payload,Pe=typeof pt=="function"?pt.call(tt,Oe,Pe):pt,Pe==null)break e;Oe=E({},Oe,Pe);break e;case 2:Pc=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,Pe=A.effects,Pe===null?A.effects=[X]:Pe.push(X))}else tt={eventTime:tt,lane:Pe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ne===null?(me=Ne=tt,ne=Oe):Ne=Ne.next=tt,V|=Pe;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;Pe=X,X=Pe.next,Pe.next=null,A.lastBaseUpdate=Pe,A.shared.pending=null}}while(!0);if(Ne===null&&(ne=Oe),A.baseState=ne,A.firstBaseUpdate=me,A.lastBaseUpdate=Ne,u=A.shared.interleaved,u!==null){A=u;do V|=A.lane,A=A.next;while(A!==u)}else M===null&&(A.shared.lanes=0);jl|=V,c.lanes=V,c.memoizedState=Oe}}function U8(c,u,p){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var b=c[u],A=b.callback;if(A!==null){if(b.callback=null,b=p,typeof A!="function")throw Error(n(191,A));A.call(b)}}}var Eh={},Wo=Sc(Eh),Ah=Sc(Eh),_h=Sc(Eh);function Bl(c){if(c===Eh)throw Error(n(174));return c}function tv(c,u){switch(mr(_h,u),mr(Ah,c),mr(Wo,Eh),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:dt(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=dt(u,c)}Sr(Wo),mr(Wo,u)}function vd(){Sr(Wo),Sr(Ah),Sr(_h)}function B8(c){Bl(_h.current);var u=Bl(Wo.current),p=dt(u,c.type);u!==p&&(mr(Ah,c),mr(Wo,p))}function nv(c){Ah.current===c&&(Sr(Wo),Sr(Ah))}var Or=Sc(0);function z1(c){for(var u=c;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var rv=[];function iv(){for(var c=0;c<rv.length;c++)rv[c]._workInProgressVersionPrimary=null;rv.length=0}var W1=L.ReactCurrentDispatcher,sv=L.ReactCurrentBatchConfig,Fl=0,Mr=null,ii=null,hi=null,q1=!1,xh=!1,Sh=0,jO=0;function Fi(){throw Error(n(321))}function ov(c,u){if(u===null)return!1;for(var p=0;p<u.length&&p<c.length;p++)if(!po(c[p],u[p]))return!1;return!0}function av(c,u,p,b,A,M){if(Fl=M,Mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W1.current=c===null||c.memoizedState===null?HO:VO,c=p(b,A),xh){M=0;do{if(xh=!1,Sh=0,25<=M)throw Error(n(301));M+=1,hi=ii=null,u.updateQueue=null,W1.current=KO,c=p(b,A)}while(xh)}if(W1.current=K1,u=ii!==null&&ii.next!==null,Fl=0,hi=ii=Mr=null,q1=!1,u)throw Error(n(300));return c}function cv(){var c=Sh!==0;return Sh=0,c}function qo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Mr.memoizedState=hi=c:hi=hi.next=c,hi}function Ks(){if(ii===null){var c=Mr.alternate;c=c!==null?c.memoizedState:null}else c=ii.next;var u=hi===null?Mr.memoizedState:hi.next;if(u!==null)hi=u,ii=c;else{if(c===null)throw Error(n(310));ii=c,c={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},hi===null?Mr.memoizedState=hi=c:hi=hi.next=c}return hi}function Ih(c,u){return typeof u=="function"?u(c):u}function lv(c){var u=Ks(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var b=ii,A=b.baseQueue,M=p.pending;if(M!==null){if(A!==null){var V=A.next;A.next=M.next,M.next=V}b.baseQueue=A=M,p.pending=null}if(A!==null){M=A.next,b=b.baseState;var X=V=null,ne=null,me=M;do{var Ne=me.lane;if((Fl&Ne)===Ne)ne!==null&&(ne=ne.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),b=me.hasEagerState?me.eagerState:c(b,me.action);else{var Oe={lane:Ne,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};ne===null?(X=ne=Oe,V=b):ne=ne.next=Oe,Mr.lanes|=Ne,jl|=Ne}me=me.next}while(me!==null&&me!==M);ne===null?V=b:ne.next=X,po(b,u.memoizedState)||(us=!0),u.memoizedState=b,u.baseState=V,u.baseQueue=ne,p.lastRenderedState=b}if(c=p.interleaved,c!==null){A=c;do M=A.lane,Mr.lanes|=M,jl|=M,A=A.next;while(A!==c)}else A===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function uv(c){var u=Ks(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var b=p.dispatch,A=p.pending,M=u.memoizedState;if(A!==null){p.pending=null;var V=A=A.next;do M=c(M,V.action),V=V.next;while(V!==A);po(M,u.memoizedState)||(us=!0),u.memoizedState=M,u.baseQueue===null&&(u.baseState=M),p.lastRenderedState=M}return[M,b]}function F8(){}function j8(c,u){var p=Mr,b=Ks(),A=u(),M=!po(b.memoizedState,A);if(M&&(b.memoizedState=A,us=!0),b=b.queue,dv(q8.bind(null,p,b,c),[c]),b.getSnapshot!==u||M||hi!==null&&hi.memoizedState.tag&1){if(p.flags|=2048,Th(9,W8.bind(null,p,b,A,u),void 0,null),pi===null)throw Error(n(349));(Fl&30)!==0||z8(p,u,A)}return A}function z8(c,u,p){c.flags|=16384,c={getSnapshot:u,value:p},u=Mr.updateQueue,u===null?(u={lastEffect:null,stores:null},Mr.updateQueue=u,u.stores=[c]):(p=u.stores,p===null?u.stores=[c]:p.push(c))}function W8(c,u,p,b){u.value=p,u.getSnapshot=b,H8(u)&&V8(c)}function q8(c,u,p){return p(function(){H8(u)&&V8(c)})}function H8(c){var u=c.getSnapshot;c=c.value;try{var p=u();return!po(c,p)}catch{return!0}}function V8(c){var u=ka(c,1);u!==null&&vo(u,c,1,-1)}function K8(c){var u=qo();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:c},u.queue=c,c=c.dispatch=qO.bind(null,Mr,c),[u.memoizedState,c]}function Th(c,u,p,b){return c={tag:c,create:u,destroy:p,deps:b,next:null},u=Mr.updateQueue,u===null?(u={lastEffect:null,stores:null},Mr.updateQueue=u,u.lastEffect=c.next=c):(p=u.lastEffect,p===null?u.lastEffect=c.next=c:(b=p.next,p.next=c,c.next=b,u.lastEffect=c)),c}function G8(){return Ks().memoizedState}function H1(c,u,p,b){var A=qo();Mr.flags|=c,A.memoizedState=Th(1|u,p,void 0,b===void 0?null:b)}function V1(c,u,p,b){var A=Ks();b=b===void 0?null:b;var M=void 0;if(ii!==null){var V=ii.memoizedState;if(M=V.destroy,b!==null&&ov(b,V.deps)){A.memoizedState=Th(u,p,M,b);return}}Mr.flags|=c,A.memoizedState=Th(1|u,p,M,b)}function Q8(c,u){return H1(8390656,8,c,u)}function dv(c,u){return V1(2048,8,c,u)}function Y8(c,u){return V1(4,2,c,u)}function Z8(c,u){return V1(4,4,c,u)}function J8(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function X8(c,u,p){return p=p!=null?p.concat([c]):null,V1(4,4,J8.bind(null,u,c),p)}function fv(){}function eC(c,u){var p=Ks();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ov(u,b[1])?b[0]:(p.memoizedState=[c,u],c)}function tC(c,u){var p=Ks();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&ov(u,b[1])?b[0]:(c=c(),p.memoizedState=[c,u],c)}function nC(c,u,p){return(Fl&21)===0?(c.baseState&&(c.baseState=!1,us=!0),c.memoizedState=p):(po(p,u)||(p=An(),Mr.lanes|=p,jl|=p,c.baseState=!0),u)}function zO(c,u){var p=bt;bt=p!==0&&4>p?p:4,c(!0);var b=sv.transition;sv.transition={};try{c(!1),u()}finally{bt=p,sv.transition=b}}function rC(){return Ks().memoizedState}function WO(c,u,p){var b=Mc(c);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},iC(c))sC(u,p);else if(p=D8(c,u,p,b),p!==null){var A=es();vo(p,c,b,A),oC(p,u,b)}}function qO(c,u,p){var b=Mc(c),A={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(iC(c))sC(u,A);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=u.lastRenderedReducer,M!==null))try{var V=u.lastRenderedState,X=M(V,p);if(A.hasEagerState=!0,A.eagerState=X,po(X,V)){var ne=u.interleaved;ne===null?(A.next=A,Xw(u)):(A.next=ne.next,ne.next=A),u.interleaved=A;return}}catch{}finally{}p=D8(c,u,A,b),p!==null&&(A=es(),vo(p,c,b,A),oC(p,u,b))}}function iC(c){var u=c.alternate;return c===Mr||u!==null&&u===Mr}function sC(c,u){xh=q1=!0;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}function oC(c,u,p){if((p&4194240)!==0){var b=u.lanes;b&=c.pendingLanes,p|=b,u.lanes=p,Er(c,p)}}var K1={readContext:Vs,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},HO={readContext:Vs,useCallback:function(c,u){return qo().memoizedState=[c,u===void 0?null:u],c},useContext:Vs,useEffect:Q8,useImperativeHandle:function(c,u,p){return p=p!=null?p.concat([c]):null,H1(4194308,4,J8.bind(null,u,c),p)},useLayoutEffect:function(c,u){return H1(4194308,4,c,u)},useInsertionEffect:function(c,u){return H1(4,2,c,u)},useMemo:function(c,u){var p=qo();return u=u===void 0?null:u,c=c(),p.memoizedState=[c,u],c},useReducer:function(c,u,p){var b=qo();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},b.queue=c,c=c.dispatch=WO.bind(null,Mr,c),[b.memoizedState,c]},useRef:function(c){var u=qo();return c={current:c},u.memoizedState=c},useState:K8,useDebugValue:fv,useDeferredValue:function(c){return qo().memoizedState=c},useTransition:function(){var c=K8(!1),u=c[0];return c=zO.bind(null,c[1]),qo().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,p){var b=Mr,A=qo();if(Nr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),pi===null)throw Error(n(349));(Fl&30)!==0||z8(b,u,p)}A.memoizedState=p;var M={value:p,getSnapshot:u};return A.queue=M,Q8(q8.bind(null,b,M,c),[c]),b.flags|=2048,Th(9,W8.bind(null,b,M,p,u),void 0,null),p},useId:function(){var c=qo(),u=pi.identifierPrefix;if(Nr){var p=Na,b=Pa;p=(b&~(1<<32-Ie(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=Sh++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=jO++,u=":"+u+"r"+p.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},VO={readContext:Vs,useCallback:eC,useContext:Vs,useEffect:dv,useImperativeHandle:X8,useInsertionEffect:Y8,useLayoutEffect:Z8,useMemo:tC,useReducer:lv,useRef:G8,useState:function(){return lv(Ih)},useDebugValue:fv,useDeferredValue:function(c){var u=Ks();return nC(u,ii.memoizedState,c)},useTransition:function(){var c=lv(Ih)[0],u=Ks().memoizedState;return[c,u]},useMutableSource:F8,useSyncExternalStore:j8,useId:rC,unstable_isNewReconciler:!1},KO={readContext:Vs,useCallback:eC,useContext:Vs,useEffect:dv,useImperativeHandle:X8,useInsertionEffect:Y8,useLayoutEffect:Z8,useMemo:tC,useReducer:uv,useRef:G8,useState:function(){return uv(Ih)},useDebugValue:fv,useDeferredValue:function(c){var u=Ks();return ii===null?u.memoizedState=c:nC(u,ii.memoizedState,c)},useTransition:function(){var c=uv(Ih)[0],u=Ks().memoizedState;return[c,u]},useMutableSource:F8,useSyncExternalStore:j8,useId:rC,unstable_isNewReconciler:!1};function mo(c,u){if(c&&c.defaultProps){u=E({},u),c=c.defaultProps;for(var p in c)u[p]===void 0&&(u[p]=c[p]);return u}return u}function hv(c,u,p,b){u=c.memoizedState,p=p(b,u),p=p==null?u:E({},u,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var G1={isMounted:function(c){return(c=c._reactInternals)?_e(c)===c:!1},enqueueSetState:function(c,u,p){c=c._reactInternals;var b=es(),A=Mc(c),M=Ra(b,A);M.payload=u,p!=null&&(M.callback=p),u=Nc(c,M,A),u!==null&&(vo(u,c,A,b),F1(u,c,A))},enqueueReplaceState:function(c,u,p){c=c._reactInternals;var b=es(),A=Mc(c),M=Ra(b,A);M.tag=1,M.payload=u,p!=null&&(M.callback=p),u=Nc(c,M,A),u!==null&&(vo(u,c,A,b),F1(u,c,A))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var p=es(),b=Mc(c),A=Ra(p,b);A.tag=2,u!=null&&(A.callback=u),u=Nc(c,A,b),u!==null&&(vo(u,c,b,p),F1(u,c,b))}};function aC(c,u,p,b,A,M,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,M,V):u.prototype&&u.prototype.isPureReactComponent?!ph(p,b)||!ph(A,M):!0}function cC(c,u,p){var b=!1,A=Ic,M=u.contextType;return typeof M=="object"&&M!==null?M=Vs(M):(A=ls(u)?Dl:Bi.current,b=u.contextTypes,M=(b=b!=null)?fd(c,A):Ic),u=new u(p,M),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=G1,c.stateNode=u,u._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=M),u}function lC(c,u,p,b){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==c&&G1.enqueueReplaceState(u,u.state,null)}function pv(c,u,p,b){var A=c.stateNode;A.props=p,A.state=c.memoizedState,A.refs={},ev(c);var M=u.contextType;typeof M=="object"&&M!==null?A.context=Vs(M):(M=ls(u)?Dl:Bi.current,A.context=fd(c,M)),A.state=c.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(hv(c,u,M,p),A.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&G1.enqueueReplaceState(A,A.state,null),j1(c,p,A,b),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function bd(c,u){try{var p="",b=u;do p+=ue(b),b=b.return;while(b);var A=p}catch(M){A=`
Error generating stack: `+M.message+`
`+M.stack}return{value:c,source:u,stack:A,digest:null}}function gv(c,u,p){return{value:c,source:null,stack:p??null,digest:u??null}}function mv(c,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var GO=typeof WeakMap=="function"?WeakMap:Map;function uC(c,u,p){p=Ra(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){tg||(tg=!0,kv=b),mv(c,u)},p}function dC(c,u,p){p=Ra(-1,p),p.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var A=u.value;p.payload=function(){return b(A)},p.callback=function(){mv(c,u)}}var M=c.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(p.callback=function(){mv(c,u),typeof b!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),p}function fC(c,u,p){var b=c.pingCache;if(b===null){b=c.pingCache=new GO;var A=new Set;b.set(u,A)}else A=b.get(u),A===void 0&&(A=new Set,b.set(u,A));A.has(p)||(A.add(p),c=cM.bind(null,c,u,p),u.then(c,c))}function hC(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function pC(c,u,p,b,A){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ra(-1,1),u.tag=2,Nc(p,u,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var QO=L.ReactCurrentOwner,us=!1;function Xi(c,u,p,b){u.child=c===null?M8(u,null,p,b):md(u,c.child,p,b)}function gC(c,u,p,b,A){p=p.render;var M=u.ref;return wd(u,A),b=av(c,u,p,b,M,A),p=cv(),c!==null&&!us?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~A,Oa(c,u,A)):(Nr&&p&&qw(u),u.flags|=1,Xi(c,u,b,A),u.child)}function mC(c,u,p,b,A){if(c===null){var M=p.type;return typeof M=="function"&&!Uv(M)&&M.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=M,yC(c,u,M,b,A)):(c=ag(p.type,null,b,u,u.mode,A),c.ref=u.ref,c.return=u,u.child=c)}if(M=c.child,(c.lanes&A)===0){var V=M.memoizedProps;if(p=p.compare,p=p!==null?p:ph,p(V,b)&&c.ref===u.ref)return Oa(c,u,A)}return u.flags|=1,c=$c(M,b),c.ref=u.ref,c.return=u,u.child=c}function yC(c,u,p,b,A){if(c!==null){var M=c.memoizedProps;if(ph(M,b)&&c.ref===u.ref)if(us=!1,u.pendingProps=b=M,(c.lanes&A)!==0)(c.flags&131072)!==0&&(us=!0);else return u.lanes=c.lanes,Oa(c,u,A)}return yv(c,u,p,b,A)}function wC(c,u,p){var b=u.pendingProps,A=b.children,M=c!==null?c.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Ed,Ns),Ns|=p;else{if((p&1073741824)===0)return c=M!==null?M.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,mr(Ed,Ns),Ns|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=M!==null?M.baseLanes:p,mr(Ed,Ns),Ns|=b}else M!==null?(b=M.baseLanes|p,u.memoizedState=null):b=p,mr(Ed,Ns),Ns|=b;return Xi(c,u,A,p),u.child}function vC(c,u){var p=u.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function yv(c,u,p,b,A){var M=ls(p)?Dl:Bi.current;return M=fd(u,M),wd(u,A),p=av(c,u,p,b,M,A),b=cv(),c!==null&&!us?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~A,Oa(c,u,A)):(Nr&&b&&qw(u),u.flags|=1,Xi(c,u,p,A),u.child)}function bC(c,u,p,b,A){if(ls(p)){var M=!0;R1(u)}else M=!1;if(wd(u,A),u.stateNode===null)Y1(c,u),cC(u,p,b),pv(u,p,b,A),b=!0;else if(c===null){var V=u.stateNode,X=u.memoizedProps;V.props=X;var ne=V.context,me=p.contextType;typeof me=="object"&&me!==null?me=Vs(me):(me=ls(p)?Dl:Bi.current,me=fd(u,me));var Ne=p.getDerivedStateFromProps,Oe=typeof Ne=="function"||typeof V.getSnapshotBeforeUpdate=="function";Oe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(X!==b||ne!==me)&&lC(u,V,b,me),Pc=!1;var Pe=u.memoizedState;V.state=Pe,j1(u,b,V,A),ne=u.memoizedState,X!==b||Pe!==ne||cs.current||Pc?(typeof Ne=="function"&&(hv(u,p,Ne,b),ne=u.memoizedState),(X=Pc||aC(u,p,X,b,Pe,ne,me))?(Oe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=ne),V.props=b,V.state=ne,V.context=me,b=X):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{V=u.stateNode,$8(c,u),X=u.memoizedProps,me=u.type===u.elementType?X:mo(u.type,X),V.props=me,Oe=u.pendingProps,Pe=V.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=Vs(ne):(ne=ls(p)?Dl:Bi.current,ne=fd(u,ne));var tt=p.getDerivedStateFromProps;(Ne=typeof tt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(X!==Oe||Pe!==ne)&&lC(u,V,b,ne),Pc=!1,Pe=u.memoizedState,V.state=Pe,j1(u,b,V,A);var pt=u.memoizedState;X!==Oe||Pe!==pt||cs.current||Pc?(typeof tt=="function"&&(hv(u,p,tt,b),pt=u.memoizedState),(me=Pc||aC(u,p,me,b,Pe,pt,ne)||!1)?(Ne||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(b,pt,ne),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(b,pt,ne)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=pt),V.props=b,V.state=pt,V.context=ne,b=me):(typeof V.componentDidUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=1024),b=!1)}return wv(c,u,p,b,M,A)}function wv(c,u,p,b,A,M){vC(c,u);var V=(u.flags&128)!==0;if(!b&&!V)return A&&x8(u,p,!1),Oa(c,u,M);b=u.stateNode,QO.current=u;var X=V&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,c!==null&&V?(u.child=md(u,c.child,null,M),u.child=md(u,null,X,M)):Xi(c,u,X,M),u.memoizedState=b.state,A&&x8(u,p,!0),u.child}function CC(c){var u=c.stateNode;u.pendingContext?A8(c,u.pendingContext,u.pendingContext!==u.context):u.context&&A8(c,u.context,!1),tv(c,u.containerInfo)}function EC(c,u,p,b,A){return gd(),Gw(A),u.flags|=256,Xi(c,u,p,b),u.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function bv(c){return{baseLanes:c,cachePool:null,transitions:null}}function AC(c,u,p){var b=u.pendingProps,A=Or.current,M=!1,V=(u.flags&128)!==0,X;if((X=V)||(X=c!==null&&c.memoizedState===null?!1:(A&2)!==0),X?(M=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),mr(Or,A&1),c===null)return Kw(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=b.children,c=b.fallback,M?(b=u.mode,M=u.child,V={mode:"hidden",children:V},(b&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=V):M=cg(V,b,0,null),c=Hl(c,b,p,null),M.return=u,c.return=u,M.sibling=c,u.child=M,u.child.memoizedState=bv(p),u.memoizedState=vv,c):Cv(u,V));if(A=c.memoizedState,A!==null&&(X=A.dehydrated,X!==null))return YO(c,u,V,b,X,A,p);if(M){M=b.fallback,V=u.mode,A=c.child,X=A.sibling;var ne={mode:"hidden",children:b.children};return(V&1)===0&&u.child!==A?(b=u.child,b.childLanes=0,b.pendingProps=ne,u.deletions=null):(b=$c(A,ne),b.subtreeFlags=A.subtreeFlags&14680064),X!==null?M=$c(X,M):(M=Hl(M,V,p,null),M.flags|=2),M.return=u,b.return=u,b.sibling=M,u.child=b,b=M,M=u.child,V=c.child.memoizedState,V=V===null?bv(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},M.memoizedState=V,M.childLanes=c.childLanes&~p,u.memoizedState=vv,b}return M=c.child,c=M.sibling,b=$c(M,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,c!==null&&(p=u.deletions,p===null?(u.deletions=[c],u.flags|=16):p.push(c)),u.child=b,u.memoizedState=null,b}function Cv(c,u){return u=cg({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function Q1(c,u,p,b){return b!==null&&Gw(b),md(u,c.child,null,p),c=Cv(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function YO(c,u,p,b,A,M,V){if(p)return u.flags&256?(u.flags&=-257,b=gv(Error(n(422))),Q1(c,u,V,b)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(M=b.fallback,A=u.mode,b=cg({mode:"visible",children:b.children},A,0,null),M=Hl(M,A,V,null),M.flags|=2,b.return=u,M.return=u,b.sibling=M,u.child=b,(u.mode&1)!==0&&md(u,c.child,null,V),u.child.memoizedState=bv(V),u.memoizedState=vv,M);if((u.mode&1)===0)return Q1(c,u,V,null);if(A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var X=b.dgst;return b=X,M=Error(n(419)),b=gv(M,b,void 0),Q1(c,u,V,b)}if(X=(V&c.childLanes)!==0,us||X){if(b=pi,b!==null){switch(V&-V){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(b.suspendedLanes|V))!==0?0:A,A!==0&&A!==M.retryLane&&(M.retryLane=A,ka(c,A),vo(b,c,A,-1))}return Lv(),b=gv(Error(n(421))),Q1(c,u,V,b)}return A.data==="$?"?(u.flags|=128,u.child=c.child,u=lM.bind(null,c),A._reactRetry=u,null):(c=M.treeContext,Ps=xc(A.nextSibling),Ts=u,Nr=!0,go=null,c!==null&&(qs[Hs++]=Pa,qs[Hs++]=Na,qs[Hs++]=$l,Pa=c.id,Na=c.overflow,$l=u),u=Cv(u,b.children),u.flags|=4096,u)}function _C(c,u,p){c.lanes|=u;var b=c.alternate;b!==null&&(b.lanes|=u),Jw(c.return,u,p)}function Ev(c,u,p,b,A){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:A}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=p,M.tailMode=A)}function xC(c,u,p){var b=u.pendingProps,A=b.revealOrder,M=b.tail;if(Xi(c,u,b.children,p),b=Or.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_C(c,p,u);else if(c.tag===19)_C(c,p,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(mr(Or,b),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(p=u.child,A=null;p!==null;)c=p.alternate,c!==null&&z1(c)===null&&(A=p),p=p.sibling;p=A,p===null?(A=u.child,u.child=null):(A=p.sibling,p.sibling=null),Ev(u,!1,A,p,M);break;case"backwards":for(p=null,A=u.child,u.child=null;A!==null;){if(c=A.alternate,c!==null&&z1(c)===null){u.child=A;break}c=A.sibling,A.sibling=p,p=A,A=c}Ev(u,!0,p,null,M);break;case"together":Ev(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Y1(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Oa(c,u,p){if(c!==null&&(u.dependencies=c.dependencies),jl|=u.lanes,(p&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(n(153));if(u.child!==null){for(c=u.child,p=$c(c,c.pendingProps),u.child=p,p.return=u;c.sibling!==null;)c=c.sibling,p=p.sibling=$c(c,c.pendingProps),p.return=u;p.sibling=null}return u.child}function ZO(c,u,p){switch(u.tag){case 3:CC(u),gd();break;case 5:B8(u);break;case 1:ls(u.type)&&R1(u);break;case 4:tv(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,A=u.memoizedProps.value;mr(U1,b._currentValue),b._currentValue=A;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(mr(Or,Or.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?AC(c,u,p):(mr(Or,Or.current&1),c=Oa(c,u,p),c!==null?c.sibling:null);mr(Or,Or.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(c.flags&128)!==0){if(b)return xC(c,u,p);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),mr(Or,Or.current),b)break;return null;case 22:case 23:return u.lanes=0,wC(c,u,p)}return Oa(c,u,p)}var SC,Av,IC,TC;SC=function(c,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Av=function(){},IC=function(c,u,p,b){var A=c.memoizedProps;if(A!==b){c=u.stateNode,Bl(Wo.current);var M=null;switch(p){case"input":A=Ze(c,A),b=Ze(c,b),M=[];break;case"select":A=E({},A,{value:void 0}),b=E({},b,{value:void 0}),M=[];break;case"textarea":A=on(c,A),b=on(c,b),M=[];break;default:typeof A.onClick!="function"&&typeof b.onClick=="function"&&(c.onclick=P1)}On(p,b);var V;p=null;for(me in A)if(!b.hasOwnProperty(me)&&A.hasOwnProperty(me)&&A[me]!=null)if(me==="style"){var X=A[me];for(V in X)X.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?M||(M=[]):(M=M||[]).push(me,null));for(me in b){var ne=b[me];if(X=A!=null?A[me]:void 0,b.hasOwnProperty(me)&&ne!==X&&(ne!=null||X!=null))if(me==="style")if(X){for(V in X)!X.hasOwnProperty(V)||ne&&ne.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in ne)ne.hasOwnProperty(V)&&X[V]!==ne[V]&&(p||(p={}),p[V]=ne[V])}else p||(M||(M=[]),M.push(me,p)),p=ne;else me==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,X=X?X.__html:void 0,ne!=null&&X!==ne&&(M=M||[]).push(me,ne)):me==="children"?typeof ne!="string"&&typeof ne!="number"||(M=M||[]).push(me,""+ne):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(ne!=null&&me==="onScroll"&&xr("scroll",c),M||X===ne||(M=[])):(M=M||[]).push(me,ne))}p&&(M=M||[]).push("style",p);var me=M;(u.updateQueue=me)&&(u.flags|=4)}},TC=function(c,u,p,b){p!==b&&(u.flags|=4)};function Ph(c,u){if(!Nr)switch(c.tailMode){case"hidden":u=c.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function ji(c){var u=c.alternate!==null&&c.alternate.child===c.child,p=0,b=0;if(u)for(var A=c.child;A!==null;)p|=A.lanes|A.childLanes,b|=A.subtreeFlags&14680064,b|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)p|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=b,c.childLanes=p,u}function JO(c,u,p){var b=u.pendingProps;switch(Hw(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(u),null;case 1:return ls(u.type)&&k1(),ji(u),null;case 3:return b=u.stateNode,vd(),Sr(cs),Sr(Bi),iv(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&($1(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,go!==null&&(Mv(go),go=null))),Av(c,u),ji(u),null;case 5:nv(u);var A=Bl(_h.current);if(p=u.type,c!==null&&u.stateNode!=null)IC(c,u,p,b,A),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return ji(u),null}if(c=Bl(Wo.current),$1(u)){b=u.stateNode,p=u.type;var M=u.memoizedProps;switch(b[zo]=u,b[vh]=M,c=(u.mode&1)!==0,p){case"dialog":xr("cancel",b),xr("close",b);break;case"iframe":case"object":case"embed":xr("load",b);break;case"video":case"audio":for(A=0;A<mh.length;A++)xr(mh[A],b);break;case"source":xr("error",b);break;case"img":case"image":case"link":xr("error",b),xr("load",b);break;case"details":xr("toggle",b);break;case"input":Me(b,M),xr("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!M.multiple},xr("invalid",b);break;case"textarea":qn(b,M),xr("invalid",b)}On(p,M),A=null;for(var V in M)if(M.hasOwnProperty(V)){var X=M[V];V==="children"?typeof X=="string"?b.textContent!==X&&(M.suppressHydrationWarning!==!0&&T1(b.textContent,X,c),A=["children",X]):typeof X=="number"&&b.textContent!==""+X&&(M.suppressHydrationWarning!==!0&&T1(b.textContent,X,c),A=["children",""+X]):i.hasOwnProperty(V)&&X!=null&&V==="onScroll"&&xr("scroll",b)}switch(p){case"input":Ce(b),je(b,M,!0);break;case"textarea":Ce(b),Kt(b);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(b.onclick=P1)}b=A,u.updateQueue=b,b!==null&&(u.flags|=4)}else{V=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Pt(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=V.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof b.is=="string"?c=V.createElement(p,{is:b.is}):(c=V.createElement(p),p==="select"&&(V=c,b.multiple?V.multiple=!0:b.size&&(V.size=b.size))):c=V.createElementNS(c,p),c[zo]=u,c[vh]=b,SC(c,u,!1,!1),u.stateNode=c;e:{switch(V=Yn(p,b),p){case"dialog":xr("cancel",c),xr("close",c),A=b;break;case"iframe":case"object":case"embed":xr("load",c),A=b;break;case"video":case"audio":for(A=0;A<mh.length;A++)xr(mh[A],c);A=b;break;case"source":xr("error",c),A=b;break;case"img":case"image":case"link":xr("error",c),xr("load",c),A=b;break;case"details":xr("toggle",c),A=b;break;case"input":Me(c,b),A=Ze(c,b),xr("invalid",c);break;case"option":A=b;break;case"select":c._wrapperState={wasMultiple:!!b.multiple},A=E({},b,{value:void 0}),xr("invalid",c);break;case"textarea":qn(c,b),A=on(c,b),xr("invalid",c);break;default:A=b}On(p,A),X=A;for(M in X)if(X.hasOwnProperty(M)){var ne=X[M];M==="style"?cn(c,ne):M==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&bn(c,ne)):M==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&an(c,ne):typeof ne=="number"&&an(c,""+ne):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ne!=null&&M==="onScroll"&&xr("scroll",c):ne!=null&&R(c,M,ne,V))}switch(p){case"input":Ce(c),je(c,b,!1);break;case"textarea":Ce(c),Kt(c);break;case"option":b.value!=null&&c.setAttribute("value",""+le(b.value));break;case"select":c.multiple=!!b.multiple,M=b.value,M!=null?Zt(c,!!b.multiple,M,!1):b.defaultValue!=null&&Zt(c,!!b.multiple,b.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=P1)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ji(u),null;case 6:if(c&&u.stateNode!=null)TC(c,u,c.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=Bl(_h.current),Bl(Wo.current),$1(u)){if(b=u.stateNode,p=u.memoizedProps,b[zo]=u,(M=b.nodeValue!==p)&&(c=Ts,c!==null))switch(c.tag){case 3:T1(b.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&T1(b.nodeValue,p,(c.mode&1)!==0)}M&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[zo]=u,u.stateNode=b}return ji(u),null;case 13:if(Sr(Or),b=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Nr&&Ps!==null&&(u.mode&1)!==0&&(u.flags&128)===0)k8(),gd(),u.flags|=98560,M=!1;else if(M=$1(u),b!==null&&b.dehydrated!==null){if(c===null){if(!M)throw Error(n(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[zo]=u}else gd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ji(u),M=!1}else go!==null&&(Mv(go),go=null),M=!0;if(!M)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(c!==null&&c.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Or.current&1)!==0?si===0&&(si=3):Lv())),u.updateQueue!==null&&(u.flags|=4),ji(u),null);case 4:return vd(),Av(c,u),c===null&&yh(u.stateNode.containerInfo),ji(u),null;case 10:return Zw(u.type._context),ji(u),null;case 17:return ls(u.type)&&k1(),ji(u),null;case 19:if(Sr(Or),M=u.memoizedState,M===null)return ji(u),null;if(b=(u.flags&128)!==0,V=M.rendering,V===null)if(b)Ph(M,!1);else{if(si!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(V=z1(c),V!==null){for(u.flags|=128,Ph(M,!1),b=V.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)M=p,c=b,M.flags&=14680066,V=M.alternate,V===null?(M.childLanes=0,M.lanes=c,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=V.childLanes,M.lanes=V.lanes,M.child=V.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=V.memoizedProps,M.memoizedState=V.memoizedState,M.updateQueue=V.updateQueue,M.type=V.type,c=V.dependencies,M.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return mr(Or,Or.current&1|2),u.child}c=c.sibling}M.tail!==null&&Xe()>Ad&&(u.flags|=128,b=!0,Ph(M,!1),u.lanes=4194304)}else{if(!b)if(c=z1(V),c!==null){if(u.flags|=128,b=!0,p=c.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Ph(M,!0),M.tail===null&&M.tailMode==="hidden"&&!V.alternate&&!Nr)return ji(u),null}else 2*Xe()-M.renderingStartTime>Ad&&p!==1073741824&&(u.flags|=128,b=!0,Ph(M,!1),u.lanes=4194304);M.isBackwards?(V.sibling=u.child,u.child=V):(p=M.last,p!==null?p.sibling=V:u.child=V,M.last=V)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=Xe(),u.sibling=null,p=Or.current,mr(Or,b?p&1|2:p&1),u):(ji(u),null);case 22:case 23:return $v(),b=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Ns&1073741824)!==0&&(ji(u),u.subtreeFlags&6&&(u.flags|=8192)):ji(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function XO(c,u){switch(Hw(u),u.tag){case 1:return ls(u.type)&&k1(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return vd(),Sr(cs),Sr(Bi),iv(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return nv(u),null;case 13:if(Sr(Or),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(n(340));gd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Sr(Or),null;case 4:return vd(),null;case 10:return Zw(u.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Z1=!1,zi=!1,eM=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Cd(c,u){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){jr(c,u,b)}else p.current=null}function _v(c,u,p){try{p()}catch(b){jr(c,u,b)}}var PC=!1;function tM(c,u){if($w=y1,c=a8(),Tw(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var A=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var V=0,X=-1,ne=-1,me=0,Ne=0,Oe=c,Pe=null;t:for(;;){for(var tt;Oe!==p||A!==0&&Oe.nodeType!==3||(X=V+A),Oe!==M||b!==0&&Oe.nodeType!==3||(ne=V+b),Oe.nodeType===3&&(V+=Oe.nodeValue.length),(tt=Oe.firstChild)!==null;)Pe=Oe,Oe=tt;for(;;){if(Oe===c)break t;if(Pe===p&&++me===A&&(X=V),Pe===M&&++Ne===b&&(ne=V),(tt=Oe.nextSibling)!==null)break;Oe=Pe,Pe=Oe.parentNode}Oe=tt}p=X===-1||ne===-1?null:{start:X,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(Lw={focusedElem:c,selectionRange:p},y1=!1,ut=u;ut!==null;)if(u=ut,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,ut=c;else for(;ut!==null;){u=ut;try{var pt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var yt=pt.memoizedProps,Hr=pt.memoizedState,fe=u.stateNode,oe=fe.getSnapshotBeforeUpdate(u.elementType===u.type?yt:mo(u.type,yt),Hr);fe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var he=u.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Le){jr(u,u.return,Le)}if(c=u.sibling,c!==null){c.return=u.return,ut=c;break}ut=u.return}return pt=PC,PC=!1,pt}function Nh(c,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&c)===c){var M=A.destroy;A.destroy=void 0,M!==void 0&&_v(u,p,M)}A=A.next}while(A!==b)}}function J1(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&c)===c){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function xv(c){var u=c.ref;if(u!==null){var p=c.stateNode;switch(c.tag){case 5:c=p;break;default:c=p}typeof u=="function"?u(c):u.current=c}}function NC(c){var u=c.alternate;u!==null&&(c.alternate=null,NC(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[zo],delete u[vh],delete u[jw],delete u[LO],delete u[UO])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function kC(c){return c.tag===5||c.tag===3||c.tag===4}function RC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||kC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Sv(c,u,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(c,u):p.insertBefore(c,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(c,p)):(u=p,u.appendChild(c)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=P1));else if(b!==4&&(c=c.child,c!==null))for(Sv(c,u,p),c=c.sibling;c!==null;)Sv(c,u,p),c=c.sibling}function Iv(c,u,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,u?p.insertBefore(c,u):p.appendChild(c);else if(b!==4&&(c=c.child,c!==null))for(Iv(c,u,p),c=c.sibling;c!==null;)Iv(c,u,p),c=c.sibling}var _i=null,yo=!1;function kc(c,u,p){for(p=p.child;p!==null;)OC(c,u,p),p=p.sibling}function OC(c,u,p){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ze,p)}catch{}switch(p.tag){case 5:zi||Cd(p,u);case 6:var b=_i,A=yo;_i=null,kc(c,u,p),_i=b,yo=A,_i!==null&&(yo?(c=_i,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):_i.removeChild(p.stateNode));break;case 18:_i!==null&&(yo?(c=_i,p=p.stateNode,c.nodeType===8?Fw(c.parentNode,p):c.nodeType===1&&Fw(c,p),ch(c)):Fw(_i,p.stateNode));break;case 4:b=_i,A=yo,_i=p.stateNode.containerInfo,yo=!0,kc(c,u,p),_i=b,yo=A;break;case 0:case 11:case 14:case 15:if(!zi&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){A=b=b.next;do{var M=A,V=M.destroy;M=M.tag,V!==void 0&&((M&2)!==0||(M&4)!==0)&&_v(p,u,V),A=A.next}while(A!==b)}kc(c,u,p);break;case 1:if(!zi&&(Cd(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(X){jr(p,u,X)}kc(c,u,p);break;case 21:kc(c,u,p);break;case 22:p.mode&1?(zi=(b=zi)||p.memoizedState!==null,kc(c,u,p),zi=b):kc(c,u,p);break;default:kc(c,u,p)}}function MC(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new eM),u.forEach(function(b){var A=uM.bind(null,c,b);p.has(b)||(p.add(b),b.then(A,A))})}}function wo(c,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var A=p[b];try{var M=c,V=u,X=V;e:for(;X!==null;){switch(X.tag){case 5:_i=X.stateNode,yo=!1;break e;case 3:_i=X.stateNode.containerInfo,yo=!0;break e;case 4:_i=X.stateNode.containerInfo,yo=!0;break e}X=X.return}if(_i===null)throw Error(n(160));OC(M,V,A),_i=null,yo=!1;var ne=A.alternate;ne!==null&&(ne.return=null),A.return=null}catch(me){jr(A,u,me)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)DC(u,c),u=u.sibling}function DC(c,u){var p=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(wo(u,c),Ho(c),b&4){try{Nh(3,c,c.return),J1(3,c)}catch(yt){jr(c,c.return,yt)}try{Nh(5,c,c.return)}catch(yt){jr(c,c.return,yt)}}break;case 1:wo(u,c),Ho(c),b&512&&p!==null&&Cd(p,p.return);break;case 5:if(wo(u,c),Ho(c),b&512&&p!==null&&Cd(p,p.return),c.flags&32){var A=c.stateNode;try{an(A,"")}catch(yt){jr(c,c.return,yt)}}if(b&4&&(A=c.stateNode,A!=null)){var M=c.memoizedProps,V=p!==null?p.memoizedProps:M,X=c.type,ne=c.updateQueue;if(c.updateQueue=null,ne!==null)try{X==="input"&&M.type==="radio"&&M.name!=null&&wt(A,M),Yn(X,V);var me=Yn(X,M);for(V=0;V<ne.length;V+=2){var Ne=ne[V],Oe=ne[V+1];Ne==="style"?cn(A,Oe):Ne==="dangerouslySetInnerHTML"?bn(A,Oe):Ne==="children"?an(A,Oe):R(A,Ne,Oe,me)}switch(X){case"input":en(A,M);break;case"textarea":Ft(A,M);break;case"select":var Pe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!M.multiple;var tt=M.value;tt!=null?Zt(A,!!M.multiple,tt,!1):Pe!==!!M.multiple&&(M.defaultValue!=null?Zt(A,!!M.multiple,M.defaultValue,!0):Zt(A,!!M.multiple,M.multiple?[]:"",!1))}A[vh]=M}catch(yt){jr(c,c.return,yt)}}break;case 6:if(wo(u,c),Ho(c),b&4){if(c.stateNode===null)throw Error(n(162));A=c.stateNode,M=c.memoizedProps;try{A.nodeValue=M}catch(yt){jr(c,c.return,yt)}}break;case 3:if(wo(u,c),Ho(c),b&4&&p!==null&&p.memoizedState.isDehydrated)try{ch(u.containerInfo)}catch(yt){jr(c,c.return,yt)}break;case 4:wo(u,c),Ho(c);break;case 13:wo(u,c),Ho(c),A=c.child,A.flags&8192&&(M=A.memoizedState!==null,A.stateNode.isHidden=M,!M||A.alternate!==null&&A.alternate.memoizedState!==null||(Nv=Xe())),b&4&&MC(c);break;case 22:if(Ne=p!==null&&p.memoizedState!==null,c.mode&1?(zi=(me=zi)||Ne,wo(u,c),zi=me):wo(u,c),Ho(c),b&8192){if(me=c.memoizedState!==null,(c.stateNode.isHidden=me)&&!Ne&&(c.mode&1)!==0)for(ut=c,Ne=c.child;Ne!==null;){for(Oe=ut=Ne;ut!==null;){switch(Pe=ut,tt=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Nh(4,Pe,Pe.return);break;case 1:Cd(Pe,Pe.return);var pt=Pe.stateNode;if(typeof pt.componentWillUnmount=="function"){b=Pe,p=Pe.return;try{u=b,pt.props=u.memoizedProps,pt.state=u.memoizedState,pt.componentWillUnmount()}catch(yt){jr(b,p,yt)}}break;case 5:Cd(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){UC(Oe);continue}}tt!==null?(tt.return=Pe,ut=tt):UC(Oe)}Ne=Ne.sibling}e:for(Ne=null,Oe=c;;){if(Oe.tag===5){if(Ne===null){Ne=Oe;try{A=Oe.stateNode,me?(M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(X=Oe.stateNode,ne=Oe.memoizedProps.style,V=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,X.style.display=Ge("display",V))}catch(yt){jr(c,c.return,yt)}}}else if(Oe.tag===6){if(Ne===null)try{Oe.stateNode.nodeValue=me?"":Oe.memoizedProps}catch(yt){jr(c,c.return,yt)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===c)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===c)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===c)break e;Ne===Oe&&(Ne=null),Oe=Oe.return}Ne===Oe&&(Ne=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:wo(u,c),Ho(c),b&4&&MC(c);break;case 21:break;default:wo(u,c),Ho(c)}}function Ho(c){var u=c.flags;if(u&2){try{e:{for(var p=c.return;p!==null;){if(kC(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var A=b.stateNode;b.flags&32&&(an(A,""),b.flags&=-33);var M=RC(c);Iv(c,M,A);break;case 3:case 4:var V=b.stateNode.containerInfo,X=RC(c);Sv(c,X,V);break;default:throw Error(n(161))}}catch(ne){jr(c,c.return,ne)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function nM(c,u,p){ut=c,$C(c)}function $C(c,u,p){for(var b=(c.mode&1)!==0;ut!==null;){var A=ut,M=A.child;if(A.tag===22&&b){var V=A.memoizedState!==null||Z1;if(!V){var X=A.alternate,ne=X!==null&&X.memoizedState!==null||zi;X=Z1;var me=zi;if(Z1=V,(zi=ne)&&!me)for(ut=A;ut!==null;)V=ut,ne=V.child,V.tag===22&&V.memoizedState!==null?BC(A):ne!==null?(ne.return=V,ut=ne):BC(A);for(;M!==null;)ut=M,$C(M),M=M.sibling;ut=A,Z1=X,zi=me}LC(c)}else(A.subtreeFlags&8772)!==0&&M!==null?(M.return=A,ut=M):LC(c)}}function LC(c){for(;ut!==null;){var u=ut;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:zi||J1(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!zi)if(p===null)b.componentDidMount();else{var A=u.elementType===u.type?p.memoizedProps:mo(u.type,p.memoizedProps);b.componentDidUpdate(A,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var M=u.updateQueue;M!==null&&U8(u,M,b);break;case 3:var V=u.updateQueue;if(V!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}U8(u,V,p)}break;case 5:var X=u.stateNode;if(p===null&&u.flags&4){p=X;var ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var me=u.alternate;if(me!==null){var Ne=me.memoizedState;if(Ne!==null){var Oe=Ne.dehydrated;Oe!==null&&ch(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zi||u.flags&512&&xv(u)}catch(Pe){jr(u,u.return,Pe)}}if(u===c){ut=null;break}if(p=u.sibling,p!==null){p.return=u.return,ut=p;break}ut=u.return}}function UC(c){for(;ut!==null;){var u=ut;if(u===c){ut=null;break}var p=u.sibling;if(p!==null){p.return=u.return,ut=p;break}ut=u.return}}function BC(c){for(;ut!==null;){var u=ut;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{J1(4,u)}catch(ne){jr(u,p,ne)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var A=u.return;try{b.componentDidMount()}catch(ne){jr(u,A,ne)}}var M=u.return;try{xv(u)}catch(ne){jr(u,M,ne)}break;case 5:var V=u.return;try{xv(u)}catch(ne){jr(u,V,ne)}}}catch(ne){jr(u,u.return,ne)}if(u===c){ut=null;break}var X=u.sibling;if(X!==null){X.return=u.return,ut=X;break}ut=u.return}}var rM=Math.ceil,X1=L.ReactCurrentDispatcher,Tv=L.ReactCurrentOwner,Gs=L.ReactCurrentBatchConfig,Mn=0,pi=null,Jr=null,xi=0,Ns=0,Ed=Sc(0),si=0,kh=null,jl=0,eg=0,Pv=0,Rh=null,ds=null,Nv=0,Ad=1/0,Ma=null,tg=!1,kv=null,Rc=null,ng=!1,Oc=null,rg=0,Oh=0,Rv=null,ig=-1,sg=0;function es(){return(Mn&6)!==0?Xe():ig!==-1?ig:ig=Xe()}function Mc(c){return(c.mode&1)===0?1:(Mn&2)!==0&&xi!==0?xi&-xi:FO.transition!==null?(sg===0&&(sg=An()),sg):(c=bt,c!==0||(c=window.event,c=c===void 0?16:j6(c.type)),c)}function vo(c,u,p,b){if(50<Oh)throw Oh=0,Rv=null,Error(n(185));ln(c,p,b),((Mn&2)===0||c!==pi)&&(c===pi&&((Mn&2)===0&&(eg|=p),si===4&&Dc(c,xi)),fs(c,b),p===1&&Mn===0&&(u.mode&1)===0&&(Ad=Xe()+500,O1&&Tc()))}function fs(c,u){var p=c.callbackNode;nn(c,u);var b=Wt(c,c===pi?xi:0);if(b===0)p!==null&&Lt(p),c.callbackNode=null,c.callbackPriority=0;else if(u=b&-b,c.callbackPriority!==u){if(p!=null&&Lt(p),u===1)c.tag===0?BO(jC.bind(null,c)):S8(jC.bind(null,c)),DO(function(){(Mn&6)===0&&Tc()}),p=null;else{switch(Ar(b)){case 1:p=Je;break;case 4:p=ht;break;case 16:p=Ve;break;case 536870912:p=nt;break;default:p=Ve}p=QC(p,FC.bind(null,c))}c.callbackPriority=u,c.callbackNode=p}}function FC(c,u){if(ig=-1,sg=0,(Mn&6)!==0)throw Error(n(327));var p=c.callbackNode;if(_d()&&c.callbackNode!==p)return null;var b=Wt(c,c===pi?xi:0);if(b===0)return null;if((b&30)!==0||(b&c.expiredLanes)!==0||u)u=og(c,b);else{u=b;var A=Mn;Mn|=2;var M=WC();(pi!==c||xi!==u)&&(Ma=null,Ad=Xe()+500,Wl(c,u));do try{oM();break}catch(X){zC(c,X)}while(!0);Yw(),X1.current=M,Mn=A,Jr!==null?u=0:(pi=null,xi=0,u=si)}if(u!==0){if(u===2&&(A=Cn(c),A!==0&&(b=A,u=Ov(c,A))),u===1)throw p=kh,Wl(c,0),Dc(c,b),fs(c,Xe()),p;if(u===6)Dc(c,b);else{if(A=c.current.alternate,(b&30)===0&&!iM(A)&&(u=og(c,b),u===2&&(M=Cn(c),M!==0&&(b=M,u=Ov(c,M))),u===1))throw p=kh,Wl(c,0),Dc(c,b),fs(c,Xe()),p;switch(c.finishedWork=A,c.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:ql(c,ds,Ma);break;case 3:if(Dc(c,b),(b&130023424)===b&&(u=Nv+500-Xe(),10<u)){if(Wt(c,0)!==0)break;if(A=c.suspendedLanes,(A&b)!==b){es(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=Bw(ql.bind(null,c,ds,Ma),u);break}ql(c,ds,Ma);break;case 4:if(Dc(c,b),(b&4194240)===b)break;for(u=c.eventTimes,A=-1;0<b;){var V=31-Ie(b);M=1<<V,V=u[V],V>A&&(A=V),b&=~M}if(b=A,b=Xe()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*rM(b/1960))-b,10<b){c.timeoutHandle=Bw(ql.bind(null,c,ds,Ma),b);break}ql(c,ds,Ma);break;case 5:ql(c,ds,Ma);break;default:throw Error(n(329))}}}return fs(c,Xe()),c.callbackNode===p?FC.bind(null,c):null}function Ov(c,u){var p=Rh;return c.current.memoizedState.isDehydrated&&(Wl(c,u).flags|=256),c=og(c,u),c!==2&&(u=ds,ds=p,u!==null&&Mv(u)),c}function Mv(c){ds===null?ds=c:ds.push.apply(ds,c)}function iM(c){for(var u=c;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var A=p[b],M=A.getSnapshot;A=A.value;try{if(!po(M(),A))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dc(c,u){for(u&=~Pv,u&=~eg,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var p=31-Ie(u),b=1<<p;c[p]=-1,u&=~b}}function jC(c){if((Mn&6)!==0)throw Error(n(327));_d();var u=Wt(c,0);if((u&1)===0)return fs(c,Xe()),null;var p=og(c,u);if(c.tag!==0&&p===2){var b=Cn(c);b!==0&&(u=b,p=Ov(c,b))}if(p===1)throw p=kh,Wl(c,0),Dc(c,u),fs(c,Xe()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,ql(c,ds,Ma),fs(c,Xe()),null}function Dv(c,u){var p=Mn;Mn|=1;try{return c(u)}finally{Mn=p,Mn===0&&(Ad=Xe()+500,O1&&Tc())}}function zl(c){Oc!==null&&Oc.tag===0&&(Mn&6)===0&&_d();var u=Mn;Mn|=1;var p=Gs.transition,b=bt;try{if(Gs.transition=null,bt=1,c)return c()}finally{bt=b,Gs.transition=p,Mn=u,(Mn&6)===0&&Tc()}}function $v(){Ns=Ed.current,Sr(Ed)}function Wl(c,u){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,MO(p)),Jr!==null)for(p=Jr.return;p!==null;){var b=p;switch(Hw(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&k1();break;case 3:vd(),Sr(cs),Sr(Bi),iv();break;case 5:nv(b);break;case 4:vd();break;case 13:Sr(Or);break;case 19:Sr(Or);break;case 10:Zw(b.type._context);break;case 22:case 23:$v()}p=p.return}if(pi=c,Jr=c=$c(c.current,null),xi=Ns=u,si=0,kh=null,Pv=eg=jl=0,ds=Rh=null,Ul!==null){for(u=0;u<Ul.length;u++)if(p=Ul[u],b=p.interleaved,b!==null){p.interleaved=null;var A=b.next,M=p.pending;if(M!==null){var V=M.next;M.next=A,b.next=V}p.pending=b}Ul=null}return c}function zC(c,u){do{var p=Jr;try{if(Yw(),W1.current=K1,q1){for(var b=Mr.memoizedState;b!==null;){var A=b.queue;A!==null&&(A.pending=null),b=b.next}q1=!1}if(Fl=0,hi=ii=Mr=null,xh=!1,Sh=0,Tv.current=null,p===null||p.return===null){si=1,kh=u,Jr=null;break}e:{var M=c,V=p.return,X=p,ne=u;if(u=xi,X.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var me=ne,Ne=X,Oe=Ne.tag;if((Ne.mode&1)===0&&(Oe===0||Oe===11||Oe===15)){var Pe=Ne.alternate;Pe?(Ne.updateQueue=Pe.updateQueue,Ne.memoizedState=Pe.memoizedState,Ne.lanes=Pe.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var tt=hC(V);if(tt!==null){tt.flags&=-257,pC(tt,V,X,M,u),tt.mode&1&&fC(M,me,u),u=tt,ne=me;var pt=u.updateQueue;if(pt===null){var yt=new Set;yt.add(ne),u.updateQueue=yt}else pt.add(ne);break e}else{if((u&1)===0){fC(M,me,u),Lv();break e}ne=Error(n(426))}}else if(Nr&&X.mode&1){var Hr=hC(V);if(Hr!==null){(Hr.flags&65536)===0&&(Hr.flags|=256),pC(Hr,V,X,M,u),Gw(bd(ne,X));break e}}M=ne=bd(ne,X),si!==4&&(si=2),Rh===null?Rh=[M]:Rh.push(M),M=V;do{switch(M.tag){case 3:M.flags|=65536,u&=-u,M.lanes|=u;var fe=uC(M,ne,u);L8(M,fe);break e;case 1:X=ne;var oe=M.type,he=M.stateNode;if((M.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Rc===null||!Rc.has(he)))){M.flags|=65536,u&=-u,M.lanes|=u;var Le=dC(M,X,u);L8(M,Le);break e}}M=M.return}while(M!==null)}HC(p)}catch(vt){u=vt,Jr===p&&p!==null&&(Jr=p=p.return);continue}break}while(!0)}function WC(){var c=X1.current;return X1.current=K1,c===null?K1:c}function Lv(){(si===0||si===3||si===2)&&(si=4),pi===null||(jl&268435455)===0&&(eg&268435455)===0||Dc(pi,xi)}function og(c,u){var p=Mn;Mn|=2;var b=WC();(pi!==c||xi!==u)&&(Ma=null,Wl(c,u));do try{sM();break}catch(A){zC(c,A)}while(!0);if(Yw(),Mn=p,X1.current=b,Jr!==null)throw Error(n(261));return pi=null,xi=0,si}function sM(){for(;Jr!==null;)qC(Jr)}function oM(){for(;Jr!==null&&!Ut();)qC(Jr)}function qC(c){var u=GC(c.alternate,c,Ns);c.memoizedProps=c.pendingProps,u===null?HC(c):Jr=u,Tv.current=null}function HC(c){var u=c;do{var p=u.alternate;if(c=u.return,(u.flags&32768)===0){if(p=JO(p,u,Ns),p!==null){Jr=p;return}}else{if(p=XO(p,u),p!==null){p.flags&=32767,Jr=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{si=6,Jr=null;return}}if(u=u.sibling,u!==null){Jr=u;return}Jr=u=c}while(u!==null);si===0&&(si=5)}function ql(c,u,p){var b=bt,A=Gs.transition;try{Gs.transition=null,bt=1,aM(c,u,p,b)}finally{Gs.transition=A,bt=b}return null}function aM(c,u,p,b){do _d();while(Oc!==null);if((Mn&6)!==0)throw Error(n(327));p=c.finishedWork;var A=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var M=p.lanes|p.childLanes;if(_n(c,M),c===pi&&(Jr=pi=null,xi=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||ng||(ng=!0,QC(Ve,function(){return _d(),null})),M=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||M){M=Gs.transition,Gs.transition=null;var V=bt;bt=1;var X=Mn;Mn|=4,Tv.current=null,tM(c,p),DC(p,c),IO(Lw),y1=!!$w,Lw=$w=null,c.current=p,nM(p),Nt(),Mn=X,bt=V,Gs.transition=M}else c.current=p;if(ng&&(ng=!1,Oc=c,rg=A),M=c.pendingLanes,M===0&&(Rc=null),ye(p.stateNode),fs(c,Xe()),u!==null)for(b=c.onRecoverableError,p=0;p<u.length;p++)A=u[p],b(A.value,{componentStack:A.stack,digest:A.digest});if(tg)throw tg=!1,c=kv,kv=null,c;return(rg&1)!==0&&c.tag!==0&&_d(),M=c.pendingLanes,(M&1)!==0?c===Rv?Oh++:(Oh=0,Rv=c):Oh=0,Tc(),null}function _d(){if(Oc!==null){var c=Ar(rg),u=Gs.transition,p=bt;try{if(Gs.transition=null,bt=16>c?16:c,Oc===null)var b=!1;else{if(c=Oc,Oc=null,rg=0,(Mn&6)!==0)throw Error(n(331));var A=Mn;for(Mn|=4,ut=c.current;ut!==null;){var M=ut,V=M.child;if((ut.flags&16)!==0){var X=M.deletions;if(X!==null){for(var ne=0;ne<X.length;ne++){var me=X[ne];for(ut=me;ut!==null;){var Ne=ut;switch(Ne.tag){case 0:case 11:case 15:Nh(8,Ne,M)}var Oe=Ne.child;if(Oe!==null)Oe.return=Ne,ut=Oe;else for(;ut!==null;){Ne=ut;var Pe=Ne.sibling,tt=Ne.return;if(NC(Ne),Ne===me){ut=null;break}if(Pe!==null){Pe.return=tt,ut=Pe;break}ut=tt}}}var pt=M.alternate;if(pt!==null){var yt=pt.child;if(yt!==null){pt.child=null;do{var Hr=yt.sibling;yt.sibling=null,yt=Hr}while(yt!==null)}}ut=M}}if((M.subtreeFlags&2064)!==0&&V!==null)V.return=M,ut=V;else e:for(;ut!==null;){if(M=ut,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Nh(9,M,M.return)}var fe=M.sibling;if(fe!==null){fe.return=M.return,ut=fe;break e}ut=M.return}}var oe=c.current;for(ut=oe;ut!==null;){V=ut;var he=V.child;if((V.subtreeFlags&2064)!==0&&he!==null)he.return=V,ut=he;else e:for(V=oe;ut!==null;){if(X=ut,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:J1(9,X)}}catch(vt){jr(X,X.return,vt)}if(X===V){ut=null;break e}var Le=X.sibling;if(Le!==null){Le.return=X.return,ut=Le;break e}ut=X.return}}if(Mn=A,Tc(),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ze,c)}catch{}b=!0}return b}finally{bt=p,Gs.transition=u}}return!1}function VC(c,u,p){u=bd(p,u),u=uC(c,u,1),c=Nc(c,u,1),u=es(),c!==null&&(ln(c,1,u),fs(c,u))}function jr(c,u,p){if(c.tag===3)VC(c,c,p);else for(;u!==null;){if(u.tag===3){VC(u,c,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Rc===null||!Rc.has(b))){c=bd(p,c),c=dC(u,c,1),u=Nc(u,c,1),c=es(),u!==null&&(ln(u,1,c),fs(u,c));break}}u=u.return}}function cM(c,u,p){var b=c.pingCache;b!==null&&b.delete(u),u=es(),c.pingedLanes|=c.suspendedLanes&p,pi===c&&(xi&p)===p&&(si===4||si===3&&(xi&130023424)===xi&&500>Xe()-Nv?Wl(c,0):Pv|=p),fs(c,u)}function KC(c,u){u===0&&((c.mode&1)===0?u=1:(u=jt,jt<<=1,(jt&130023424)===0&&(jt=4194304)));var p=es();c=ka(c,u),c!==null&&(ln(c,u,p),fs(c,p))}function lM(c){var u=c.memoizedState,p=0;u!==null&&(p=u.retryLane),KC(c,p)}function uM(c,u){var p=0;switch(c.tag){case 13:var b=c.stateNode,A=c.memoizedState;A!==null&&(p=A.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),KC(c,p)}var GC;GC=function(c,u,p){if(c!==null)if(c.memoizedProps!==u.pendingProps||cs.current)us=!0;else{if((c.lanes&p)===0&&(u.flags&128)===0)return us=!1,ZO(c,u,p);us=(c.flags&131072)!==0}else us=!1,Nr&&(u.flags&1048576)!==0&&I8(u,D1,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Y1(c,u),c=u.pendingProps;var A=fd(u,Bi.current);wd(u,p),A=av(null,u,b,c,A,p);var M=cv();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ls(b)?(M=!0,R1(u)):M=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,ev(u),A.updater=G1,u.stateNode=A,A._reactInternals=u,pv(u,b,c,p),u=wv(null,u,b,!0,M,p)):(u.tag=0,Nr&&M&&qw(u),Xi(null,u,A,p),u=u.child),u;case 16:b=u.elementType;e:{switch(Y1(c,u),c=u.pendingProps,A=b._init,b=A(b._payload),u.type=b,A=u.tag=fM(b),c=mo(b,c),A){case 0:u=yv(null,u,b,c,p);break e;case 1:u=bC(null,u,b,c,p);break e;case 11:u=gC(null,u,b,c,p);break e;case 14:u=mC(null,u,b,mo(b.type,c),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,A=u.pendingProps,A=u.elementType===b?A:mo(b,A),yv(c,u,b,A,p);case 1:return b=u.type,A=u.pendingProps,A=u.elementType===b?A:mo(b,A),bC(c,u,b,A,p);case 3:e:{if(CC(u),c===null)throw Error(n(387));b=u.pendingProps,M=u.memoizedState,A=M.element,$8(c,u),j1(u,b,null,p);var V=u.memoizedState;if(b=V.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=M,u.memoizedState=M,u.flags&256){A=bd(Error(n(423)),u),u=EC(c,u,b,p,A);break e}else if(b!==A){A=bd(Error(n(424)),u),u=EC(c,u,b,p,A);break e}else for(Ps=xc(u.stateNode.containerInfo.firstChild),Ts=u,Nr=!0,go=null,p=M8(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(gd(),b===A){u=Oa(c,u,p);break e}Xi(c,u,b,p)}u=u.child}return u;case 5:return B8(u),c===null&&Kw(u),b=u.type,A=u.pendingProps,M=c!==null?c.memoizedProps:null,V=A.children,Uw(b,A)?V=null:M!==null&&Uw(b,M)&&(u.flags|=32),vC(c,u),Xi(c,u,V,p),u.child;case 6:return c===null&&Kw(u),null;case 13:return AC(c,u,p);case 4:return tv(u,u.stateNode.containerInfo),b=u.pendingProps,c===null?u.child=md(u,null,b,p):Xi(c,u,b,p),u.child;case 11:return b=u.type,A=u.pendingProps,A=u.elementType===b?A:mo(b,A),gC(c,u,b,A,p);case 7:return Xi(c,u,u.pendingProps,p),u.child;case 8:return Xi(c,u,u.pendingProps.children,p),u.child;case 12:return Xi(c,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,A=u.pendingProps,M=u.memoizedProps,V=A.value,mr(U1,b._currentValue),b._currentValue=V,M!==null)if(po(M.value,V)){if(M.children===A.children&&!cs.current){u=Oa(c,u,p);break e}}else for(M=u.child,M!==null&&(M.return=u);M!==null;){var X=M.dependencies;if(X!==null){V=M.child;for(var ne=X.firstContext;ne!==null;){if(ne.context===b){if(M.tag===1){ne=Ra(-1,p&-p),ne.tag=2;var me=M.updateQueue;if(me!==null){me=me.shared;var Ne=me.pending;Ne===null?ne.next=ne:(ne.next=Ne.next,Ne.next=ne),me.pending=ne}}M.lanes|=p,ne=M.alternate,ne!==null&&(ne.lanes|=p),Jw(M.return,p,u),X.lanes|=p;break}ne=ne.next}}else if(M.tag===10)V=M.type===u.type?null:M.child;else if(M.tag===18){if(V=M.return,V===null)throw Error(n(341));V.lanes|=p,X=V.alternate,X!==null&&(X.lanes|=p),Jw(V,p,u),V=M.sibling}else V=M.child;if(V!==null)V.return=M;else for(V=M;V!==null;){if(V===u){V=null;break}if(M=V.sibling,M!==null){M.return=V.return,V=M;break}V=V.return}M=V}Xi(c,u,A.children,p),u=u.child}return u;case 9:return A=u.type,b=u.pendingProps.children,wd(u,p),A=Vs(A),b=b(A),u.flags|=1,Xi(c,u,b,p),u.child;case 14:return b=u.type,A=mo(b,u.pendingProps),A=mo(b.type,A),mC(c,u,b,A,p);case 15:return yC(c,u,u.type,u.pendingProps,p);case 17:return b=u.type,A=u.pendingProps,A=u.elementType===b?A:mo(b,A),Y1(c,u),u.tag=1,ls(b)?(c=!0,R1(u)):c=!1,wd(u,p),cC(u,b,A),pv(u,b,A,p),wv(null,u,b,!0,c,p);case 19:return xC(c,u,p);case 22:return wC(c,u,p)}throw Error(n(156,u.tag))};function QC(c,u){return St(c,u)}function dM(c,u,p,b){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(c,u,p,b){return new dM(c,u,p,b)}function Uv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function fM(c){if(typeof c=="function")return Uv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===m)return 11;if(c===_)return 14}return 2}function $c(c,u){var p=c.alternate;return p===null?(p=Qs(c.tag,u,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=u,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,u=c.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function ag(c,u,p,b,A,M){var V=2;if(b=c,typeof c=="function")Uv(c)&&(V=1);else if(typeof c=="string")V=5;else e:switch(c){case F:return Hl(p.children,A,M,u);case q:V=8,A|=8;break;case $:return c=Qs(12,p,u,A|2),c.elementType=$,c.lanes=M,c;case C:return c=Qs(13,p,u,A),c.elementType=C,c.lanes=M,c;case S:return c=Qs(19,p,u,A),c.elementType=S,c.lanes=M,c;case j:return cg(p,A,M,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case H:V=10;break e;case P:V=9;break e;case m:V=11;break e;case _:V=14;break e;case I:V=16,b=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return u=Qs(V,p,u,A),u.elementType=c,u.type=b,u.lanes=M,u}function Hl(c,u,p,b){return c=Qs(7,c,b,u),c.lanes=p,c}function cg(c,u,p,b){return c=Qs(22,c,b,u),c.elementType=j,c.lanes=p,c.stateNode={isHidden:!1},c}function Bv(c,u,p){return c=Qs(6,c,null,u),c.lanes=p,c}function Fv(c,u,p){return u=Qs(4,c.children!==null?c.children:[],c.key,u),u.lanes=p,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function hM(c,u,p,b,A){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qt(0),this.expirationTimes=Qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.identifierPrefix=b,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function jv(c,u,p,b,A,M,V,X,ne){return c=new hM(c,u,p,X,ne),u===1?(u=1,M===!0&&(u|=8)):u=0,M=Qs(3,null,null,u),c.current=M,M.stateNode=c,M.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(M),c}function pM(c,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:b==null?null:""+b,children:c,containerInfo:u,implementation:p}}function YC(c){if(!c)return Ic;c=c._reactInternals;e:{if(_e(c)!==c||c.tag!==1)throw Error(n(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ls(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(ls(p))return _8(c,p,u)}return u}function ZC(c,u,p,b,A,M,V,X,ne){return c=jv(p,b,!0,c,A,M,V,X,ne),c.context=YC(null),p=c.current,b=es(),A=Mc(p),M=Ra(b,A),M.callback=u??null,Nc(p,M,A),c.current.lanes=A,ln(c,A,b),fs(c,b),c}function lg(c,u,p,b){var A=u.current,M=es(),V=Mc(A);return p=YC(p),u.context===null?u.context=p:u.pendingContext=p,u=Ra(M,V),u.payload={element:c},b=b===void 0?null:b,b!==null&&(u.callback=b),c=Nc(A,u,V),c!==null&&(vo(c,A,V,M),F1(c,A,V)),V}function ug(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function JC(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<u?p:u}}function zv(c,u){JC(c,u),(c=c.alternate)&&JC(c,u)}function gM(){return null}var XC=typeof reportError=="function"?reportError:function(c){console.error(c)};function Wv(c){this._internalRoot=c}dg.prototype.render=Wv.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(n(409));lg(c,u,null,null)},dg.prototype.unmount=Wv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;zl(function(){lg(null,c,null,null)}),u[Ia]=null}};function dg(c){this._internalRoot=c}dg.prototype.unstable_scheduleHydration=function(c){if(c){var u=ni();c={blockedOn:null,target:c,priority:u};for(var p=0;p<Ec.length&&u!==0&&u<Ec[p].priority;p++);Ec.splice(p,0,c),p===0&&B6(c)}};function qv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function fg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function eE(){}function mM(c,u,p,b,A){if(A){if(typeof b=="function"){var M=b;b=function(){var me=ug(V);M.call(me)}}var V=ZC(u,b,c,0,null,!1,!1,"",eE);return c._reactRootContainer=V,c[Ia]=V.current,yh(c.nodeType===8?c.parentNode:c),zl(),V}for(;A=c.lastChild;)c.removeChild(A);if(typeof b=="function"){var X=b;b=function(){var me=ug(ne);X.call(me)}}var ne=jv(c,0,!1,null,null,!1,!1,"",eE);return c._reactRootContainer=ne,c[Ia]=ne.current,yh(c.nodeType===8?c.parentNode:c),zl(function(){lg(u,ne,p,b)}),ne}function hg(c,u,p,b,A){var M=p._reactRootContainer;if(M){var V=M;if(typeof A=="function"){var X=A;A=function(){var ne=ug(V);X.call(ne)}}lg(u,V,c,A)}else V=mM(p,u,c,A,b);return ug(V)}_r=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var p=zt(u.pendingLanes);p!==0&&(Er(u,p|1),fs(u,Xe()),(Mn&6)===0&&(Ad=Xe()+500,Tc()))}break;case 13:zl(function(){var b=ka(c,1);if(b!==null){var A=es();vo(b,c,1,A)}}),zv(c,1)}},gr=function(c){if(c.tag===13){var u=ka(c,134217728);if(u!==null){var p=es();vo(u,c,134217728,p)}zv(c,134217728)}},Fr=function(c){if(c.tag===13){var u=Mc(c),p=ka(c,u);if(p!==null){var b=es();vo(p,c,u,b)}zv(c,u)}},ni=function(){return bt},ri=function(c,u){var p=bt;try{return bt=c,u()}finally{bt=p}},ir=function(c,u,p){switch(u){case"input":if(en(c,p),u=p.name,p.type==="radio"&&u!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==c&&b.form===c.form){var A=N1(b);if(!A)throw Error(n(90));we(b),en(b,A)}}}break;case"textarea":Ft(c,p);break;case"select":u=p.value,u!=null&&Zt(c,!!p.multiple,u,!1)}},Vn=Dv,Sa=zl;var yM={usingClientEntryPoint:!1,Events:[bh,ud,N1,Ji,jn,Dv]},Mh={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wM={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Qe(c),c===null?null:c.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pg.isDisabled&&pg.supportsFiber)try{ze=pg.inject(wM),ge=pg}catch{}}return hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM,hs.createPortal=function(c,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(u))throw Error(n(200));return pM(c,u,null,p)},hs.createRoot=function(c,u){if(!qv(c))throw Error(n(299));var p=!1,b="",A=XC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=jv(c,1,!1,null,null,p,!1,b,A),c[Ia]=u.current,yh(c.nodeType===8?c.parentNode:c),new Wv(u)},hs.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Qe(u),c=c===null?null:c.stateNode,c},hs.flushSync=function(c){return zl(c)},hs.hydrate=function(c,u,p){if(!fg(u))throw Error(n(200));return hg(null,c,u,!0,p)},hs.hydrateRoot=function(c,u,p){if(!qv(c))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,A=!1,M="",V=XC;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),u=ZC(u,null,c,1,p??null,A,!1,M,V),c[Ia]=u.current,yh(c),b)for(c=0;c<b.length;c++)p=b[c],A=p._getVersion,A=A(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,A]:u.mutableSourceEagerHydrationData.push(p,A);return new dg(u)},hs.render=function(c,u,p){if(!fg(u))throw Error(n(200));return hg(null,c,u,!1,p)},hs.unmountComponentAtNode=function(c){if(!fg(c))throw Error(n(40));return c._reactRootContainer?(zl(function(){hg(null,null,c,!1,function(){c._reactRootContainer=null,c[Ia]=null})}),!0):!1},hs.unstable_batchedUpdates=Dv,hs.unstable_renderSubtreeIntoContainer=function(c,u,p,b){if(!fg(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return hg(c,u,p,!1,b)},hs.version="18.3.1-next-f1338f8080-20240426",hs}var lE;function SM(){if(lE)return Gv.exports;lE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gv.exports=xM(),Gv.exports}var uE;function IM(){if(uE)return mg;uE=1;var t=SM();return mg.createRoot=t.createRoot,mg.hydrateRoot=t.hydrateRoot,mg}var TM=IM();const PM=Uo(TM);var tm={exports:{}},NM=tm.exports,dE;function kM(){return dE||(dE=1,function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(NM,function(){var e={};function n(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var i,s=unescape(encodeURIComponent(r)),o=new Uint8Array(s.length);for(i=0;i<s.length;i++)o[i]=s.charCodeAt(i);return o},e.encodeUTF8=function(r){var i,s=[];for(i=0;i<r.length;i++)s.push(String.fromCharCode(r[i]));return decodeURIComponent(escape(s.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(r){return Buffer.from(r).toString("base64")},e.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(e.encodeBase64=function(r){return new Buffer(r).toString("base64")},e.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(e.encodeBase64=function(r){var i,s=[],o=r.length;for(i=0;i<o;i++)s.push(String.fromCharCode(r[i]));return btoa(s.join(""))},e.decodeBase64=function(r){n(r);var i,s=atob(r),o=new Uint8Array(s.length);for(i=0;i<s.length;i++)o[i]=s.charCodeAt(i);return o}),e})}(tm)),tm.exports}var RM=kM();const U0=Uo(RM);function OM(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zv={exports:{}};const MM={},DM=Object.freeze(Object.defineProperty({__proto__:null,default:MM},Symbol.toStringTag,{value:"Module"})),J4=Z4(DM);var fE;function $M(){return fE||(fE=1,function(t){(function(e){var n=function(z){var G,K=new Float64Array(16);if(z)for(G=0;G<z.length;G++)K[G]=z[G];return K},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),d=n([56129,1]),l=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(z,G,K,T){z[G]=K>>24&255,z[G+1]=K>>16&255,z[G+2]=K>>8&255,z[G+3]=K&255,z[G+4]=T>>24&255,z[G+5]=T>>16&255,z[G+6]=T>>8&255,z[G+7]=T&255}function w(z,G,K,T,Y){var se,de=0;for(se=0;se<Y;se++)de|=z[G+se]^K[T+se];return(1&de-1>>>8)-1}function x(z,G,K,T){return w(z,G,K,T,16)}function k(z,G,K,T){return w(z,G,K,T,32)}function N(z,G,K,T){for(var Y=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,se=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,de=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,be=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,_e=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,it=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,He=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,hn=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,Qe=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,St=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,Lt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,Ut=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,Nt=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Xe=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,kt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Je=Y,ht=se,Ve=de,et=be,nt=_e,ze=it,ge=He,ye=hn,Ie=Qe,xe=xt,Te=St,Re=Lt,Ct=Ut,jt=Nt,zt=Xe,Wt=kt,ee,nn=0;nn<20;nn+=2)ee=Je+Ct|0,nt^=ee<<7|ee>>>25,ee=nt+Je|0,Ie^=ee<<9|ee>>>23,ee=Ie+nt|0,Ct^=ee<<13|ee>>>19,ee=Ct+Ie|0,Je^=ee<<18|ee>>>14,ee=ze+ht|0,xe^=ee<<7|ee>>>25,ee=xe+ze|0,jt^=ee<<9|ee>>>23,ee=jt+xe|0,ht^=ee<<13|ee>>>19,ee=ht+jt|0,ze^=ee<<18|ee>>>14,ee=Te+ge|0,zt^=ee<<7|ee>>>25,ee=zt+Te|0,Ve^=ee<<9|ee>>>23,ee=Ve+zt|0,ge^=ee<<13|ee>>>19,ee=ge+Ve|0,Te^=ee<<18|ee>>>14,ee=Wt+Re|0,et^=ee<<7|ee>>>25,ee=et+Wt|0,ye^=ee<<9|ee>>>23,ee=ye+et|0,Re^=ee<<13|ee>>>19,ee=Re+ye|0,Wt^=ee<<18|ee>>>14,ee=Je+et|0,ht^=ee<<7|ee>>>25,ee=ht+Je|0,Ve^=ee<<9|ee>>>23,ee=Ve+ht|0,et^=ee<<13|ee>>>19,ee=et+Ve|0,Je^=ee<<18|ee>>>14,ee=ze+nt|0,ge^=ee<<7|ee>>>25,ee=ge+ze|0,ye^=ee<<9|ee>>>23,ee=ye+ge|0,nt^=ee<<13|ee>>>19,ee=nt+ye|0,ze^=ee<<18|ee>>>14,ee=Te+xe|0,Re^=ee<<7|ee>>>25,ee=Re+Te|0,Ie^=ee<<9|ee>>>23,ee=Ie+Re|0,xe^=ee<<13|ee>>>19,ee=xe+Ie|0,Te^=ee<<18|ee>>>14,ee=Wt+zt|0,Ct^=ee<<7|ee>>>25,ee=Ct+Wt|0,jt^=ee<<9|ee>>>23,ee=jt+Ct|0,zt^=ee<<13|ee>>>19,ee=zt+jt|0,Wt^=ee<<18|ee>>>14;Je=Je+Y|0,ht=ht+se|0,Ve=Ve+de|0,et=et+be|0,nt=nt+_e|0,ze=ze+it|0,ge=ge+He|0,ye=ye+hn|0,Ie=Ie+Qe|0,xe=xe+xt|0,Te=Te+St|0,Re=Re+Lt|0,Ct=Ct+Ut|0,jt=jt+Nt|0,zt=zt+Xe|0,Wt=Wt+kt|0,z[0]=Je>>>0&255,z[1]=Je>>>8&255,z[2]=Je>>>16&255,z[3]=Je>>>24&255,z[4]=ht>>>0&255,z[5]=ht>>>8&255,z[6]=ht>>>16&255,z[7]=ht>>>24&255,z[8]=Ve>>>0&255,z[9]=Ve>>>8&255,z[10]=Ve>>>16&255,z[11]=Ve>>>24&255,z[12]=et>>>0&255,z[13]=et>>>8&255,z[14]=et>>>16&255,z[15]=et>>>24&255,z[16]=nt>>>0&255,z[17]=nt>>>8&255,z[18]=nt>>>16&255,z[19]=nt>>>24&255,z[20]=ze>>>0&255,z[21]=ze>>>8&255,z[22]=ze>>>16&255,z[23]=ze>>>24&255,z[24]=ge>>>0&255,z[25]=ge>>>8&255,z[26]=ge>>>16&255,z[27]=ge>>>24&255,z[28]=ye>>>0&255,z[29]=ye>>>8&255,z[30]=ye>>>16&255,z[31]=ye>>>24&255,z[32]=Ie>>>0&255,z[33]=Ie>>>8&255,z[34]=Ie>>>16&255,z[35]=Ie>>>24&255,z[36]=xe>>>0&255,z[37]=xe>>>8&255,z[38]=xe>>>16&255,z[39]=xe>>>24&255,z[40]=Te>>>0&255,z[41]=Te>>>8&255,z[42]=Te>>>16&255,z[43]=Te>>>24&255,z[44]=Re>>>0&255,z[45]=Re>>>8&255,z[46]=Re>>>16&255,z[47]=Re>>>24&255,z[48]=Ct>>>0&255,z[49]=Ct>>>8&255,z[50]=Ct>>>16&255,z[51]=Ct>>>24&255,z[52]=jt>>>0&255,z[53]=jt>>>8&255,z[54]=jt>>>16&255,z[55]=jt>>>24&255,z[56]=zt>>>0&255,z[57]=zt>>>8&255,z[58]=zt>>>16&255,z[59]=zt>>>24&255,z[60]=Wt>>>0&255,z[61]=Wt>>>8&255,z[62]=Wt>>>16&255,z[63]=Wt>>>24&255}function R(z,G,K,T){for(var Y=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,se=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,de=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,be=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,_e=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,it=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,He=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,hn=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,Qe=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,St=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,Lt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,Ut=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,Nt=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Xe=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,kt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Je=Y,ht=se,Ve=de,et=be,nt=_e,ze=it,ge=He,ye=hn,Ie=Qe,xe=xt,Te=St,Re=Lt,Ct=Ut,jt=Nt,zt=Xe,Wt=kt,ee,nn=0;nn<20;nn+=2)ee=Je+Ct|0,nt^=ee<<7|ee>>>25,ee=nt+Je|0,Ie^=ee<<9|ee>>>23,ee=Ie+nt|0,Ct^=ee<<13|ee>>>19,ee=Ct+Ie|0,Je^=ee<<18|ee>>>14,ee=ze+ht|0,xe^=ee<<7|ee>>>25,ee=xe+ze|0,jt^=ee<<9|ee>>>23,ee=jt+xe|0,ht^=ee<<13|ee>>>19,ee=ht+jt|0,ze^=ee<<18|ee>>>14,ee=Te+ge|0,zt^=ee<<7|ee>>>25,ee=zt+Te|0,Ve^=ee<<9|ee>>>23,ee=Ve+zt|0,ge^=ee<<13|ee>>>19,ee=ge+Ve|0,Te^=ee<<18|ee>>>14,ee=Wt+Re|0,et^=ee<<7|ee>>>25,ee=et+Wt|0,ye^=ee<<9|ee>>>23,ee=ye+et|0,Re^=ee<<13|ee>>>19,ee=Re+ye|0,Wt^=ee<<18|ee>>>14,ee=Je+et|0,ht^=ee<<7|ee>>>25,ee=ht+Je|0,Ve^=ee<<9|ee>>>23,ee=Ve+ht|0,et^=ee<<13|ee>>>19,ee=et+Ve|0,Je^=ee<<18|ee>>>14,ee=ze+nt|0,ge^=ee<<7|ee>>>25,ee=ge+ze|0,ye^=ee<<9|ee>>>23,ee=ye+ge|0,nt^=ee<<13|ee>>>19,ee=nt+ye|0,ze^=ee<<18|ee>>>14,ee=Te+xe|0,Re^=ee<<7|ee>>>25,ee=Re+Te|0,Ie^=ee<<9|ee>>>23,ee=Ie+Re|0,xe^=ee<<13|ee>>>19,ee=xe+Ie|0,Te^=ee<<18|ee>>>14,ee=Wt+zt|0,Ct^=ee<<7|ee>>>25,ee=Ct+Wt|0,jt^=ee<<9|ee>>>23,ee=jt+Ct|0,zt^=ee<<13|ee>>>19,ee=zt+jt|0,Wt^=ee<<18|ee>>>14;z[0]=Je>>>0&255,z[1]=Je>>>8&255,z[2]=Je>>>16&255,z[3]=Je>>>24&255,z[4]=ze>>>0&255,z[5]=ze>>>8&255,z[6]=ze>>>16&255,z[7]=ze>>>24&255,z[8]=Te>>>0&255,z[9]=Te>>>8&255,z[10]=Te>>>16&255,z[11]=Te>>>24&255,z[12]=Wt>>>0&255,z[13]=Wt>>>8&255,z[14]=Wt>>>16&255,z[15]=Wt>>>24&255,z[16]=ge>>>0&255,z[17]=ge>>>8&255,z[18]=ge>>>16&255,z[19]=ge>>>24&255,z[20]=ye>>>0&255,z[21]=ye>>>8&255,z[22]=ye>>>16&255,z[23]=ye>>>24&255,z[24]=Ie>>>0&255,z[25]=Ie>>>8&255,z[26]=Ie>>>16&255,z[27]=Ie>>>24&255,z[28]=xe>>>0&255,z[29]=xe>>>8&255,z[30]=xe>>>16&255,z[31]=xe>>>24&255}function L(z,G,K,T){N(z,G,K,T)}function O(z,G,K,T){R(z,G,K,T)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(z,G,K,T,Y,se,de){var be=new Uint8Array(16),_e=new Uint8Array(64),it,He;for(He=0;He<16;He++)be[He]=0;for(He=0;He<8;He++)be[He]=se[He];for(;Y>=64;){for(L(_e,be,de,D),He=0;He<64;He++)z[G+He]=K[T+He]^_e[He];for(it=1,He=8;He<16;He++)it=it+(be[He]&255)|0,be[He]=it&255,it>>>=8;Y-=64,G+=64,T+=64}if(Y>0)for(L(_e,be,de,D),He=0;He<Y;He++)z[G+He]=K[T+He]^_e[He];return 0}function q(z,G,K,T,Y){var se=new Uint8Array(16),de=new Uint8Array(64),be,_e;for(_e=0;_e<16;_e++)se[_e]=0;for(_e=0;_e<8;_e++)se[_e]=T[_e];for(;K>=64;){for(L(de,se,Y,D),_e=0;_e<64;_e++)z[G+_e]=de[_e];for(be=1,_e=8;_e<16;_e++)be=be+(se[_e]&255)|0,se[_e]=be&255,be>>>=8;K-=64,G+=64}if(K>0)for(L(de,se,Y,D),_e=0;_e<K;_e++)z[G+_e]=de[_e];return 0}function $(z,G,K,T,Y){var se=new Uint8Array(32);O(se,T,Y,D);for(var de=new Uint8Array(8),be=0;be<8;be++)de[be]=T[be+16];return q(z,G,K,de,se)}function H(z,G,K,T,Y,se,de){var be=new Uint8Array(32);O(be,se,de,D);for(var _e=new Uint8Array(8),it=0;it<8;it++)_e[it]=se[it+16];return F(z,G,K,T,Y,_e,be)}var P=function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var G,K,T,Y,se,de,be,_e;G=z[0]&255|(z[1]&255)<<8,this.r[0]=G&8191,K=z[2]&255|(z[3]&255)<<8,this.r[1]=(G>>>13|K<<3)&8191,T=z[4]&255|(z[5]&255)<<8,this.r[2]=(K>>>10|T<<6)&7939,Y=z[6]&255|(z[7]&255)<<8,this.r[3]=(T>>>7|Y<<9)&8191,se=z[8]&255|(z[9]&255)<<8,this.r[4]=(Y>>>4|se<<12)&255,this.r[5]=se>>>1&8190,de=z[10]&255|(z[11]&255)<<8,this.r[6]=(se>>>14|de<<2)&8191,be=z[12]&255|(z[13]&255)<<8,this.r[7]=(de>>>11|be<<5)&8065,_e=z[14]&255|(z[15]&255)<<8,this.r[8]=(be>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8};P.prototype.blocks=function(z,G,K){for(var T=this.fin?0:2048,Y,se,de,be,_e,it,He,hn,Qe,xt,St,Lt,Ut,Nt,Xe,kt,Je,ht,Ve,et=this.h[0],nt=this.h[1],ze=this.h[2],ge=this.h[3],ye=this.h[4],Ie=this.h[5],xe=this.h[6],Te=this.h[7],Re=this.h[8],Ct=this.h[9],jt=this.r[0],zt=this.r[1],Wt=this.r[2],ee=this.r[3],nn=this.r[4],Cn=this.r[5],An=this.r[6],Qt=this.r[7],ln=this.r[8],_n=this.r[9];K>=16;)Y=z[G+0]&255|(z[G+1]&255)<<8,et+=Y&8191,se=z[G+2]&255|(z[G+3]&255)<<8,nt+=(Y>>>13|se<<3)&8191,de=z[G+4]&255|(z[G+5]&255)<<8,ze+=(se>>>10|de<<6)&8191,be=z[G+6]&255|(z[G+7]&255)<<8,ge+=(de>>>7|be<<9)&8191,_e=z[G+8]&255|(z[G+9]&255)<<8,ye+=(be>>>4|_e<<12)&8191,Ie+=_e>>>1&8191,it=z[G+10]&255|(z[G+11]&255)<<8,xe+=(_e>>>14|it<<2)&8191,He=z[G+12]&255|(z[G+13]&255)<<8,Te+=(it>>>11|He<<5)&8191,hn=z[G+14]&255|(z[G+15]&255)<<8,Re+=(He>>>8|hn<<8)&8191,Ct+=hn>>>5|T,Qe=0,xt=Qe,xt+=et*jt,xt+=nt*(5*_n),xt+=ze*(5*ln),xt+=ge*(5*Qt),xt+=ye*(5*An),Qe=xt>>>13,xt&=8191,xt+=Ie*(5*Cn),xt+=xe*(5*nn),xt+=Te*(5*ee),xt+=Re*(5*Wt),xt+=Ct*(5*zt),Qe+=xt>>>13,xt&=8191,St=Qe,St+=et*zt,St+=nt*jt,St+=ze*(5*_n),St+=ge*(5*ln),St+=ye*(5*Qt),Qe=St>>>13,St&=8191,St+=Ie*(5*An),St+=xe*(5*Cn),St+=Te*(5*nn),St+=Re*(5*ee),St+=Ct*(5*Wt),Qe+=St>>>13,St&=8191,Lt=Qe,Lt+=et*Wt,Lt+=nt*zt,Lt+=ze*jt,Lt+=ge*(5*_n),Lt+=ye*(5*ln),Qe=Lt>>>13,Lt&=8191,Lt+=Ie*(5*Qt),Lt+=xe*(5*An),Lt+=Te*(5*Cn),Lt+=Re*(5*nn),Lt+=Ct*(5*ee),Qe+=Lt>>>13,Lt&=8191,Ut=Qe,Ut+=et*ee,Ut+=nt*Wt,Ut+=ze*zt,Ut+=ge*jt,Ut+=ye*(5*_n),Qe=Ut>>>13,Ut&=8191,Ut+=Ie*(5*ln),Ut+=xe*(5*Qt),Ut+=Te*(5*An),Ut+=Re*(5*Cn),Ut+=Ct*(5*nn),Qe+=Ut>>>13,Ut&=8191,Nt=Qe,Nt+=et*nn,Nt+=nt*ee,Nt+=ze*Wt,Nt+=ge*zt,Nt+=ye*jt,Qe=Nt>>>13,Nt&=8191,Nt+=Ie*(5*_n),Nt+=xe*(5*ln),Nt+=Te*(5*Qt),Nt+=Re*(5*An),Nt+=Ct*(5*Cn),Qe+=Nt>>>13,Nt&=8191,Xe=Qe,Xe+=et*Cn,Xe+=nt*nn,Xe+=ze*ee,Xe+=ge*Wt,Xe+=ye*zt,Qe=Xe>>>13,Xe&=8191,Xe+=Ie*jt,Xe+=xe*(5*_n),Xe+=Te*(5*ln),Xe+=Re*(5*Qt),Xe+=Ct*(5*An),Qe+=Xe>>>13,Xe&=8191,kt=Qe,kt+=et*An,kt+=nt*Cn,kt+=ze*nn,kt+=ge*ee,kt+=ye*Wt,Qe=kt>>>13,kt&=8191,kt+=Ie*zt,kt+=xe*jt,kt+=Te*(5*_n),kt+=Re*(5*ln),kt+=Ct*(5*Qt),Qe+=kt>>>13,kt&=8191,Je=Qe,Je+=et*Qt,Je+=nt*An,Je+=ze*Cn,Je+=ge*nn,Je+=ye*ee,Qe=Je>>>13,Je&=8191,Je+=Ie*Wt,Je+=xe*zt,Je+=Te*jt,Je+=Re*(5*_n),Je+=Ct*(5*ln),Qe+=Je>>>13,Je&=8191,ht=Qe,ht+=et*ln,ht+=nt*Qt,ht+=ze*An,ht+=ge*Cn,ht+=ye*nn,Qe=ht>>>13,ht&=8191,ht+=Ie*ee,ht+=xe*Wt,ht+=Te*zt,ht+=Re*jt,ht+=Ct*(5*_n),Qe+=ht>>>13,ht&=8191,Ve=Qe,Ve+=et*_n,Ve+=nt*ln,Ve+=ze*Qt,Ve+=ge*An,Ve+=ye*Cn,Qe=Ve>>>13,Ve&=8191,Ve+=Ie*nn,Ve+=xe*ee,Ve+=Te*Wt,Ve+=Re*zt,Ve+=Ct*jt,Qe+=Ve>>>13,Ve&=8191,Qe=(Qe<<2)+Qe|0,Qe=Qe+xt|0,xt=Qe&8191,Qe=Qe>>>13,St+=Qe,et=xt,nt=St,ze=Lt,ge=Ut,ye=Nt,Ie=Xe,xe=kt,Te=Je,Re=ht,Ct=Ve,G+=16,K-=16;this.h[0]=et,this.h[1]=nt,this.h[2]=ze,this.h[3]=ge,this.h[4]=ye,this.h[5]=Ie,this.h[6]=xe,this.h[7]=Te,this.h[8]=Re,this.h[9]=Ct},P.prototype.finish=function(z,G){var K=new Uint16Array(10),T,Y,se,de;if(this.leftover){for(de=this.leftover,this.buffer[de++]=1;de<16;de++)this.buffer[de]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(T=this.h[1]>>>13,this.h[1]&=8191,de=2;de<10;de++)this.h[de]+=T,T=this.h[de]>>>13,this.h[de]&=8191;for(this.h[0]+=T*5,T=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=T,T=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=T,K[0]=this.h[0]+5,T=K[0]>>>13,K[0]&=8191,de=1;de<10;de++)K[de]=this.h[de]+T,T=K[de]>>>13,K[de]&=8191;for(K[9]-=8192,Y=(T^1)-1,de=0;de<10;de++)K[de]&=Y;for(Y=~Y,de=0;de<10;de++)this.h[de]=this.h[de]&Y|K[de];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,se=this.h[0]+this.pad[0],this.h[0]=se&65535,de=1;de<8;de++)se=(this.h[de]+this.pad[de]|0)+(se>>>16)|0,this.h[de]=se&65535;z[G+0]=this.h[0]>>>0&255,z[G+1]=this.h[0]>>>8&255,z[G+2]=this.h[1]>>>0&255,z[G+3]=this.h[1]>>>8&255,z[G+4]=this.h[2]>>>0&255,z[G+5]=this.h[2]>>>8&255,z[G+6]=this.h[3]>>>0&255,z[G+7]=this.h[3]>>>8&255,z[G+8]=this.h[4]>>>0&255,z[G+9]=this.h[4]>>>8&255,z[G+10]=this.h[5]>>>0&255,z[G+11]=this.h[5]>>>8&255,z[G+12]=this.h[6]>>>0&255,z[G+13]=this.h[6]>>>8&255,z[G+14]=this.h[7]>>>0&255,z[G+15]=this.h[7]>>>8&255},P.prototype.update=function(z,G,K){var T,Y;if(this.leftover){for(Y=16-this.leftover,Y>K&&(Y=K),T=0;T<Y;T++)this.buffer[this.leftover+T]=z[G+T];if(K-=Y,G+=Y,this.leftover+=Y,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(Y=K-K%16,this.blocks(z,G,Y),G+=Y,K-=Y),K){for(T=0;T<K;T++)this.buffer[this.leftover+T]=z[G+T];this.leftover+=K}};function m(z,G,K,T,Y,se){var de=new P(se);return de.update(K,T,Y),de.finish(z,G),0}function C(z,G,K,T,Y,se){var de=new Uint8Array(16);return m(de,0,K,T,Y,se),x(z,G,de,0)}function S(z,G,K,T,Y){var se;if(K<32)return-1;for(H(z,0,G,0,K,T,Y),m(z,16,z,32,K-32,z),se=0;se<16;se++)z[se]=0;return 0}function _(z,G,K,T,Y){var se,de=new Uint8Array(32);if(K<32||($(de,0,32,T,Y),C(G,16,G,32,K-32,de)!==0))return-1;for(H(z,0,G,0,K,T,Y),se=0;se<32;se++)z[se]=0;return 0}function I(z,G){var K;for(K=0;K<16;K++)z[K]=G[K]|0}function j(z){var G,K,T=1;for(G=0;G<16;G++)K=z[G]+T+65535,T=Math.floor(K/65536),z[G]=K-T*65536;z[0]+=T-1+37*(T-1)}function W(z,G,K){for(var T,Y=~(K-1),se=0;se<16;se++)T=Y&(z[se]^G[se]),z[se]^=T,G[se]^=T}function B(z,G){var K,T,Y,se=n(),de=n();for(K=0;K<16;K++)de[K]=G[K];for(j(de),j(de),j(de),T=0;T<2;T++){for(se[0]=de[0]-65517,K=1;K<15;K++)se[K]=de[K]-65535-(se[K-1]>>16&1),se[K-1]&=65535;se[15]=de[15]-32767-(se[14]>>16&1),Y=se[15]>>16&1,se[14]&=65535,W(de,se,1-Y)}for(K=0;K<16;K++)z[2*K]=de[K]&255,z[2*K+1]=de[K]>>8}function E(z,G){var K=new Uint8Array(32),T=new Uint8Array(32);return B(K,z),B(T,G),k(K,0,T,0)}function U(z){var G=new Uint8Array(32);return B(G,z),G[0]&1}function J(z,G){var K;for(K=0;K<16;K++)z[K]=G[2*K]+(G[2*K+1]<<8);z[15]&=32767}function ie(z,G,K){for(var T=0;T<16;T++)z[T]=G[T]+K[T]}function ce(z,G,K){for(var T=0;T<16;T++)z[T]=G[T]-K[T]}function ue(z,G,K){var T,Y,se=0,de=0,be=0,_e=0,it=0,He=0,hn=0,Qe=0,xt=0,St=0,Lt=0,Ut=0,Nt=0,Xe=0,kt=0,Je=0,ht=0,Ve=0,et=0,nt=0,ze=0,ge=0,ye=0,Ie=0,xe=0,Te=0,Re=0,Ct=0,jt=0,zt=0,Wt=0,ee=K[0],nn=K[1],Cn=K[2],An=K[3],Qt=K[4],ln=K[5],_n=K[6],Er=K[7],bt=K[8],Ar=K[9],_r=K[10],gr=K[11],Fr=K[12],ni=K[13],ri=K[14],Zr=K[15];T=G[0],se+=T*ee,de+=T*nn,be+=T*Cn,_e+=T*An,it+=T*Qt,He+=T*ln,hn+=T*_n,Qe+=T*Er,xt+=T*bt,St+=T*Ar,Lt+=T*_r,Ut+=T*gr,Nt+=T*Fr,Xe+=T*ni,kt+=T*ri,Je+=T*Zr,T=G[1],de+=T*ee,be+=T*nn,_e+=T*Cn,it+=T*An,He+=T*Qt,hn+=T*ln,Qe+=T*_n,xt+=T*Er,St+=T*bt,Lt+=T*Ar,Ut+=T*_r,Nt+=T*gr,Xe+=T*Fr,kt+=T*ni,Je+=T*ri,ht+=T*Zr,T=G[2],be+=T*ee,_e+=T*nn,it+=T*Cn,He+=T*An,hn+=T*Qt,Qe+=T*ln,xt+=T*_n,St+=T*Er,Lt+=T*bt,Ut+=T*Ar,Nt+=T*_r,Xe+=T*gr,kt+=T*Fr,Je+=T*ni,ht+=T*ri,Ve+=T*Zr,T=G[3],_e+=T*ee,it+=T*nn,He+=T*Cn,hn+=T*An,Qe+=T*Qt,xt+=T*ln,St+=T*_n,Lt+=T*Er,Ut+=T*bt,Nt+=T*Ar,Xe+=T*_r,kt+=T*gr,Je+=T*Fr,ht+=T*ni,Ve+=T*ri,et+=T*Zr,T=G[4],it+=T*ee,He+=T*nn,hn+=T*Cn,Qe+=T*An,xt+=T*Qt,St+=T*ln,Lt+=T*_n,Ut+=T*Er,Nt+=T*bt,Xe+=T*Ar,kt+=T*_r,Je+=T*gr,ht+=T*Fr,Ve+=T*ni,et+=T*ri,nt+=T*Zr,T=G[5],He+=T*ee,hn+=T*nn,Qe+=T*Cn,xt+=T*An,St+=T*Qt,Lt+=T*ln,Ut+=T*_n,Nt+=T*Er,Xe+=T*bt,kt+=T*Ar,Je+=T*_r,ht+=T*gr,Ve+=T*Fr,et+=T*ni,nt+=T*ri,ze+=T*Zr,T=G[6],hn+=T*ee,Qe+=T*nn,xt+=T*Cn,St+=T*An,Lt+=T*Qt,Ut+=T*ln,Nt+=T*_n,Xe+=T*Er,kt+=T*bt,Je+=T*Ar,ht+=T*_r,Ve+=T*gr,et+=T*Fr,nt+=T*ni,ze+=T*ri,ge+=T*Zr,T=G[7],Qe+=T*ee,xt+=T*nn,St+=T*Cn,Lt+=T*An,Ut+=T*Qt,Nt+=T*ln,Xe+=T*_n,kt+=T*Er,Je+=T*bt,ht+=T*Ar,Ve+=T*_r,et+=T*gr,nt+=T*Fr,ze+=T*ni,ge+=T*ri,ye+=T*Zr,T=G[8],xt+=T*ee,St+=T*nn,Lt+=T*Cn,Ut+=T*An,Nt+=T*Qt,Xe+=T*ln,kt+=T*_n,Je+=T*Er,ht+=T*bt,Ve+=T*Ar,et+=T*_r,nt+=T*gr,ze+=T*Fr,ge+=T*ni,ye+=T*ri,Ie+=T*Zr,T=G[9],St+=T*ee,Lt+=T*nn,Ut+=T*Cn,Nt+=T*An,Xe+=T*Qt,kt+=T*ln,Je+=T*_n,ht+=T*Er,Ve+=T*bt,et+=T*Ar,nt+=T*_r,ze+=T*gr,ge+=T*Fr,ye+=T*ni,Ie+=T*ri,xe+=T*Zr,T=G[10],Lt+=T*ee,Ut+=T*nn,Nt+=T*Cn,Xe+=T*An,kt+=T*Qt,Je+=T*ln,ht+=T*_n,Ve+=T*Er,et+=T*bt,nt+=T*Ar,ze+=T*_r,ge+=T*gr,ye+=T*Fr,Ie+=T*ni,xe+=T*ri,Te+=T*Zr,T=G[11],Ut+=T*ee,Nt+=T*nn,Xe+=T*Cn,kt+=T*An,Je+=T*Qt,ht+=T*ln,Ve+=T*_n,et+=T*Er,nt+=T*bt,ze+=T*Ar,ge+=T*_r,ye+=T*gr,Ie+=T*Fr,xe+=T*ni,Te+=T*ri,Re+=T*Zr,T=G[12],Nt+=T*ee,Xe+=T*nn,kt+=T*Cn,Je+=T*An,ht+=T*Qt,Ve+=T*ln,et+=T*_n,nt+=T*Er,ze+=T*bt,ge+=T*Ar,ye+=T*_r,Ie+=T*gr,xe+=T*Fr,Te+=T*ni,Re+=T*ri,Ct+=T*Zr,T=G[13],Xe+=T*ee,kt+=T*nn,Je+=T*Cn,ht+=T*An,Ve+=T*Qt,et+=T*ln,nt+=T*_n,ze+=T*Er,ge+=T*bt,ye+=T*Ar,Ie+=T*_r,xe+=T*gr,Te+=T*Fr,Re+=T*ni,Ct+=T*ri,jt+=T*Zr,T=G[14],kt+=T*ee,Je+=T*nn,ht+=T*Cn,Ve+=T*An,et+=T*Qt,nt+=T*ln,ze+=T*_n,ge+=T*Er,ye+=T*bt,Ie+=T*Ar,xe+=T*_r,Te+=T*gr,Re+=T*Fr,Ct+=T*ni,jt+=T*ri,zt+=T*Zr,T=G[15],Je+=T*ee,ht+=T*nn,Ve+=T*Cn,et+=T*An,nt+=T*Qt,ze+=T*ln,ge+=T*_n,ye+=T*Er,Ie+=T*bt,xe+=T*Ar,Te+=T*_r,Re+=T*gr,Ct+=T*Fr,jt+=T*ni,zt+=T*ri,Wt+=T*Zr,se+=38*ht,de+=38*Ve,be+=38*et,_e+=38*nt,it+=38*ze,He+=38*ge,hn+=38*ye,Qe+=38*Ie,xt+=38*xe,St+=38*Te,Lt+=38*Re,Ut+=38*Ct,Nt+=38*jt,Xe+=38*zt,kt+=38*Wt,Y=1,T=se+Y+65535,Y=Math.floor(T/65536),se=T-Y*65536,T=de+Y+65535,Y=Math.floor(T/65536),de=T-Y*65536,T=be+Y+65535,Y=Math.floor(T/65536),be=T-Y*65536,T=_e+Y+65535,Y=Math.floor(T/65536),_e=T-Y*65536,T=it+Y+65535,Y=Math.floor(T/65536),it=T-Y*65536,T=He+Y+65535,Y=Math.floor(T/65536),He=T-Y*65536,T=hn+Y+65535,Y=Math.floor(T/65536),hn=T-Y*65536,T=Qe+Y+65535,Y=Math.floor(T/65536),Qe=T-Y*65536,T=xt+Y+65535,Y=Math.floor(T/65536),xt=T-Y*65536,T=St+Y+65535,Y=Math.floor(T/65536),St=T-Y*65536,T=Lt+Y+65535,Y=Math.floor(T/65536),Lt=T-Y*65536,T=Ut+Y+65535,Y=Math.floor(T/65536),Ut=T-Y*65536,T=Nt+Y+65535,Y=Math.floor(T/65536),Nt=T-Y*65536,T=Xe+Y+65535,Y=Math.floor(T/65536),Xe=T-Y*65536,T=kt+Y+65535,Y=Math.floor(T/65536),kt=T-Y*65536,T=Je+Y+65535,Y=Math.floor(T/65536),Je=T-Y*65536,se+=Y-1+37*(Y-1),Y=1,T=se+Y+65535,Y=Math.floor(T/65536),se=T-Y*65536,T=de+Y+65535,Y=Math.floor(T/65536),de=T-Y*65536,T=be+Y+65535,Y=Math.floor(T/65536),be=T-Y*65536,T=_e+Y+65535,Y=Math.floor(T/65536),_e=T-Y*65536,T=it+Y+65535,Y=Math.floor(T/65536),it=T-Y*65536,T=He+Y+65535,Y=Math.floor(T/65536),He=T-Y*65536,T=hn+Y+65535,Y=Math.floor(T/65536),hn=T-Y*65536,T=Qe+Y+65535,Y=Math.floor(T/65536),Qe=T-Y*65536,T=xt+Y+65535,Y=Math.floor(T/65536),xt=T-Y*65536,T=St+Y+65535,Y=Math.floor(T/65536),St=T-Y*65536,T=Lt+Y+65535,Y=Math.floor(T/65536),Lt=T-Y*65536,T=Ut+Y+65535,Y=Math.floor(T/65536),Ut=T-Y*65536,T=Nt+Y+65535,Y=Math.floor(T/65536),Nt=T-Y*65536,T=Xe+Y+65535,Y=Math.floor(T/65536),Xe=T-Y*65536,T=kt+Y+65535,Y=Math.floor(T/65536),kt=T-Y*65536,T=Je+Y+65535,Y=Math.floor(T/65536),Je=T-Y*65536,se+=Y-1+37*(Y-1),z[0]=se,z[1]=de,z[2]=be,z[3]=_e,z[4]=it,z[5]=He,z[6]=hn,z[7]=Qe,z[8]=xt,z[9]=St,z[10]=Lt,z[11]=Ut,z[12]=Nt,z[13]=Xe,z[14]=kt,z[15]=Je}function Ae(z,G){ue(z,G,G)}function $e(z,G){var K=n(),T;for(T=0;T<16;T++)K[T]=G[T];for(T=253;T>=0;T--)Ae(K,K),T!==2&&T!==4&&ue(K,K,G);for(T=0;T<16;T++)z[T]=K[T]}function le(z,G){var K=n(),T;for(T=0;T<16;T++)K[T]=G[T];for(T=250;T>=0;T--)Ae(K,K),T!==1&&ue(K,K,G);for(T=0;T<16;T++)z[T]=K[T]}function re(z,G,K){var T=new Uint8Array(32),Y=new Float64Array(80),se,de,be=n(),_e=n(),it=n(),He=n(),hn=n(),Qe=n();for(de=0;de<31;de++)T[de]=G[de];for(T[31]=G[31]&127|64,T[0]&=248,J(Y,K),de=0;de<16;de++)_e[de]=Y[de],He[de]=be[de]=it[de]=0;for(be[0]=He[0]=1,de=254;de>=0;--de)se=T[de>>>3]>>>(de&7)&1,W(be,_e,se),W(it,He,se),ie(hn,be,it),ce(be,be,it),ie(it,_e,He),ce(_e,_e,He),Ae(He,hn),Ae(Qe,be),ue(be,it,be),ue(it,_e,hn),ie(hn,be,it),ce(be,be,it),Ae(_e,be),ce(it,He,Qe),ue(be,it,d),ie(be,be,He),ue(it,it,be),ue(be,He,Qe),ue(He,_e,Y),Ae(_e,hn),W(be,_e,se),W(it,He,se);for(de=0;de<16;de++)Y[de+16]=be[de],Y[de+32]=it[de],Y[de+48]=_e[de],Y[de+64]=He[de];var xt=Y.subarray(32),St=Y.subarray(16);return $e(xt,xt),ue(St,St,xt),B(z,St),0}function ae(z,G){return re(z,G,s)}function Ce(z,G){return r(G,32),ae(z,G)}function we(z,G,K){var T=new Uint8Array(32);return re(T,K,G),O(z,i,T,D)}var Se=S,Ze=_;function Me(z,G,K,T,Y,se){var de=new Uint8Array(32);return we(de,Y,se),Se(z,G,K,T,de)}function wt(z,G,K,T,Y,se){var de=new Uint8Array(32);return we(de,Y,se),Ze(z,G,K,T,de)}var en=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function je(z,G,K,T){for(var Y=new Int32Array(16),se=new Int32Array(16),de,be,_e,it,He,hn,Qe,xt,St,Lt,Ut,Nt,Xe,kt,Je,ht,Ve,et,nt,ze,ge,ye,Ie,xe,Te,Re,Ct=z[0],jt=z[1],zt=z[2],Wt=z[3],ee=z[4],nn=z[5],Cn=z[6],An=z[7],Qt=G[0],ln=G[1],_n=G[2],Er=G[3],bt=G[4],Ar=G[5],_r=G[6],gr=G[7],Fr=0;T>=128;){for(nt=0;nt<16;nt++)ze=8*nt+Fr,Y[nt]=K[ze+0]<<24|K[ze+1]<<16|K[ze+2]<<8|K[ze+3],se[nt]=K[ze+4]<<24|K[ze+5]<<16|K[ze+6]<<8|K[ze+7];for(nt=0;nt<80;nt++)if(de=Ct,be=jt,_e=zt,it=Wt,He=ee,hn=nn,Qe=Cn,xt=An,St=Qt,Lt=ln,Ut=_n,Nt=Er,Xe=bt,kt=Ar,Je=_r,ht=gr,ge=An,ye=gr,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=(ee>>>14|bt<<18)^(ee>>>18|bt<<14)^(bt>>>9|ee<<23),ye=(bt>>>14|ee<<18)^(bt>>>18|ee<<14)^(ee>>>9|bt<<23),Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,ge=ee&nn^~ee&Cn,ye=bt&Ar^~bt&_r,Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,ge=en[nt*2],ye=en[nt*2+1],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,ge=Y[nt%16],ye=se[nt%16],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,Ve=Te&65535|Re<<16,et=Ie&65535|xe<<16,ge=Ve,ye=et,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=(Ct>>>28|Qt<<4)^(Qt>>>2|Ct<<30)^(Qt>>>7|Ct<<25),ye=(Qt>>>28|Ct<<4)^(Ct>>>2|Qt<<30)^(Ct>>>7|Qt<<25),Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,ge=Ct&jt^Ct&zt^jt&zt,ye=Qt&ln^Qt&_n^ln&_n,Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,xt=Te&65535|Re<<16,ht=Ie&65535|xe<<16,ge=it,ye=Nt,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=Ve,ye=et,Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,it=Te&65535|Re<<16,Nt=Ie&65535|xe<<16,jt=de,zt=be,Wt=_e,ee=it,nn=He,Cn=hn,An=Qe,Ct=xt,ln=St,_n=Lt,Er=Ut,bt=Nt,Ar=Xe,_r=kt,gr=Je,Qt=ht,nt%16===15)for(ze=0;ze<16;ze++)ge=Y[ze],ye=se[ze],Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=Y[(ze+9)%16],ye=se[(ze+9)%16],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,Ve=Y[(ze+1)%16],et=se[(ze+1)%16],ge=(Ve>>>1|et<<31)^(Ve>>>8|et<<24)^Ve>>>7,ye=(et>>>1|Ve<<31)^(et>>>8|Ve<<24)^(et>>>7|Ve<<25),Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,Ve=Y[(ze+14)%16],et=se[(ze+14)%16],ge=(Ve>>>19|et<<13)^(et>>>29|Ve<<3)^Ve>>>6,ye=(et>>>19|Ve<<13)^(Ve>>>29|et<<3)^(et>>>6|Ve<<26),Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,Y[ze]=Te&65535|Re<<16,se[ze]=Ie&65535|xe<<16;ge=Ct,ye=Qt,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[0],ye=G[0],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[0]=Ct=Te&65535|Re<<16,G[0]=Qt=Ie&65535|xe<<16,ge=jt,ye=ln,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[1],ye=G[1],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[1]=jt=Te&65535|Re<<16,G[1]=ln=Ie&65535|xe<<16,ge=zt,ye=_n,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[2],ye=G[2],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[2]=zt=Te&65535|Re<<16,G[2]=_n=Ie&65535|xe<<16,ge=Wt,ye=Er,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[3],ye=G[3],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[3]=Wt=Te&65535|Re<<16,G[3]=Er=Ie&65535|xe<<16,ge=ee,ye=bt,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[4],ye=G[4],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[4]=ee=Te&65535|Re<<16,G[4]=bt=Ie&65535|xe<<16,ge=nn,ye=Ar,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[5],ye=G[5],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[5]=nn=Te&65535|Re<<16,G[5]=Ar=Ie&65535|xe<<16,ge=Cn,ye=_r,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[6],ye=G[6],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[6]=Cn=Te&65535|Re<<16,G[6]=_r=Ie&65535|xe<<16,ge=An,ye=gr,Ie=ye&65535,xe=ye>>>16,Te=ge&65535,Re=ge>>>16,ge=z[7],ye=G[7],Ie+=ye&65535,xe+=ye>>>16,Te+=ge&65535,Re+=ge>>>16,xe+=Ie>>>16,Te+=xe>>>16,Re+=Te>>>16,z[7]=An=Te&65535|Re<<16,G[7]=gr=Ie&65535|xe<<16,Fr+=128,T-=128}return T}function At(z,G,K){var T=new Int32Array(8),Y=new Int32Array(8),se=new Uint8Array(256),de,be=K;for(T[0]=1779033703,T[1]=3144134277,T[2]=1013904242,T[3]=2773480762,T[4]=1359893119,T[5]=2600822924,T[6]=528734635,T[7]=1541459225,Y[0]=4089235720,Y[1]=2227873595,Y[2]=4271175723,Y[3]=1595750129,Y[4]=2917565137,Y[5]=725511199,Y[6]=4215389547,Y[7]=327033209,je(T,Y,G,K),K%=128,de=0;de<K;de++)se[de]=G[be-K+de];for(se[K]=128,K=256-128*(K<112?1:0),se[K-9]=0,v(se,K-8,be/536870912|0,be<<3),je(T,Y,se,K),de=0;de<8;de++)v(z,8*de,T[de],Y[de]);return 0}function Nn(z,G){var K=n(),T=n(),Y=n(),se=n(),de=n(),be=n(),_e=n(),it=n(),He=n();ce(K,z[1],z[0]),ce(He,G[1],G[0]),ue(K,K,He),ie(T,z[0],z[1]),ie(He,G[0],G[1]),ue(T,T,He),ue(Y,z[3],G[3]),ue(Y,Y,f),ue(se,z[2],G[2]),ie(se,se,se),ce(de,T,K),ce(be,se,Y),ie(_e,se,Y),ie(it,T,K),ue(z[0],de,be),ue(z[1],it,_e),ue(z[2],_e,be),ue(z[3],de,it)}function Zt(z,G,K){var T;for(T=0;T<4;T++)W(z[T],G[T],K)}function on(z,G){var K=n(),T=n(),Y=n();$e(Y,G[2]),ue(K,G[0],Y),ue(T,G[1],Y),B(z,T),z[31]^=U(K)<<7}function qn(z,G,K){var T,Y;for(I(z[0],o),I(z[1],a),I(z[2],a),I(z[3],o),Y=255;Y>=0;--Y)T=K[Y/8|0]>>(Y&7)&1,Zt(z,G,T),Nn(G,z),Nn(z,z),Zt(z,G,T)}function Ft(z,G){var K=[n(),n(),n(),n()];I(K[0],h),I(K[1],g),I(K[2],a),ue(K[3],h,g),qn(z,K,G)}function Kt(z,G,K){var T=new Uint8Array(64),Y=[n(),n(),n(),n()],se;for(K||r(G,32),At(T,G,32),T[0]&=248,T[31]&=127,T[31]|=64,Ft(Y,T),on(z,Y),se=0;se<32;se++)G[se+32]=z[se];return 0}var Pt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function dt(z,G){var K,T,Y,se;for(T=63;T>=32;--T){for(K=0,Y=T-32,se=T-12;Y<se;++Y)G[Y]+=K-16*G[T]*Pt[Y-(T-32)],K=Math.floor((G[Y]+128)/256),G[Y]-=K*256;G[Y]+=K,G[T]=0}for(K=0,Y=0;Y<32;Y++)G[Y]+=K-(G[31]>>4)*Pt[Y],K=G[Y]>>8,G[Y]&=255;for(Y=0;Y<32;Y++)G[Y]-=K*Pt[Y];for(T=0;T<32;T++)G[T+1]+=G[T]>>8,z[T]=G[T]&255}function Ke(z){var G=new Float64Array(64),K;for(K=0;K<64;K++)G[K]=z[K];for(K=0;K<64;K++)z[K]=0;dt(z,G)}function bn(z,G,K,T){var Y=new Uint8Array(64),se=new Uint8Array(64),de=new Uint8Array(64),be,_e,it=new Float64Array(64),He=[n(),n(),n(),n()];At(Y,T,32),Y[0]&=248,Y[31]&=127,Y[31]|=64;var hn=K+64;for(be=0;be<K;be++)z[64+be]=G[be];for(be=0;be<32;be++)z[32+be]=Y[32+be];for(At(de,z.subarray(32),K+32),Ke(de),Ft(He,de),on(z,He),be=32;be<64;be++)z[be]=T[be];for(At(se,z,K+64),Ke(se),be=0;be<64;be++)it[be]=0;for(be=0;be<32;be++)it[be]=de[be];for(be=0;be<32;be++)for(_e=0;_e<32;_e++)it[be+_e]+=se[be]*Y[_e];return dt(z.subarray(32),it),hn}function an(z,G){var K=n(),T=n(),Y=n(),se=n(),de=n(),be=n(),_e=n();return I(z[2],a),J(z[1],G),Ae(Y,z[1]),ue(se,Y,l),ce(Y,Y,z[2]),ie(se,z[2],se),Ae(de,se),Ae(be,de),ue(_e,be,de),ue(K,_e,Y),ue(K,K,se),le(K,K),ue(K,K,Y),ue(K,K,se),ue(K,K,se),ue(z[0],K,se),Ae(T,z[0]),ue(T,T,se),E(T,Y)&&ue(z[0],z[0],y),Ae(T,z[0]),ue(T,T,se),E(T,Y)?-1:(U(z[0])===G[31]>>7&&ce(z[0],o,z[0]),ue(z[3],z[0],z[1]),0)}function tn(z,G,K,T){var Y,se=new Uint8Array(32),de=new Uint8Array(64),be=[n(),n(),n(),n()],_e=[n(),n(),n(),n()];if(K<64||an(_e,T))return-1;for(Y=0;Y<K;Y++)z[Y]=G[Y];for(Y=0;Y<32;Y++)z[Y+32]=T[Y];if(At(de,z,K),Ke(de),qn(be,_e,de),Ft(_e,G.subarray(32)),Nn(be,_e),on(se,be),K-=64,k(G,0,se,0)){for(Y=0;Y<K;Y++)z[Y]=0;return-1}for(Y=0;Y<K;Y++)z[Y]=G[Y+64];return K}var fn=32,Ge=24,cn=32,Zi=16,On=32,Yn=32,zs=32,Hn=32,ir=32,Ws=Ge,Zn=cn,Cr=Zi,Ji=64,jn=32,Vn=64,Sa=32,sr=64;e.lowlevel={crypto_core_hsalsa20:O,crypto_stream_xor:H,crypto_stream:$,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:q,crypto_onetimeauth:m,crypto_onetimeauth_verify:C,crypto_verify_16:x,crypto_verify_32:k,crypto_secretbox:S,crypto_secretbox_open:_,crypto_scalarmult:re,crypto_scalarmult_base:ae,crypto_box_beforenm:we,crypto_box_afternm:Se,crypto_box:Me,crypto_box_open:wt,crypto_box_keypair:Ce,crypto_hash:At,crypto_sign:bn,crypto_sign_keypair:Kt,crypto_sign_open:tn,crypto_secretbox_KEYBYTES:fn,crypto_secretbox_NONCEBYTES:Ge,crypto_secretbox_ZEROBYTES:cn,crypto_secretbox_BOXZEROBYTES:Zi,crypto_scalarmult_BYTES:On,crypto_scalarmult_SCALARBYTES:Yn,crypto_box_PUBLICKEYBYTES:zs,crypto_box_SECRETKEYBYTES:Hn,crypto_box_BEFORENMBYTES:ir,crypto_box_NONCEBYTES:Ws,crypto_box_ZEROBYTES:Zn,crypto_box_BOXZEROBYTES:Cr,crypto_sign_BYTES:Ji,crypto_sign_PUBLICKEYBYTES:jn,crypto_sign_SECRETKEYBYTES:Vn,crypto_sign_SEEDBYTES:Sa,crypto_hash_BYTES:sr,gf:n,D:l,L:Pt,pack25519:B,unpack25519:J,M:ue,A:ie,S:Ae,Z:ce,pow2523:le,add:Nn,set25519:I,modL:dt,scalarmult:qn,scalarbase:Ft};function pr(z,G){if(z.length!==fn)throw new Error("bad key size");if(G.length!==Ge)throw new Error("bad nonce size")}function jo(z,G){if(z.length!==zs)throw new Error("bad public key size");if(G.length!==Hn)throw new Error("bad secret key size")}function pn(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Jn(z){for(var G=0;G<z.length;G++)z[G]=0}e.randomBytes=function(z){var G=new Uint8Array(z);return r(G,z),G},e.secretbox=function(z,G,K){pn(z,G,K),pr(K,G);for(var T=new Uint8Array(cn+z.length),Y=new Uint8Array(T.length),se=0;se<z.length;se++)T[se+cn]=z[se];return S(Y,T,T.length,G,K),Y.subarray(Zi)},e.secretbox.open=function(z,G,K){pn(z,G,K),pr(K,G);for(var T=new Uint8Array(Zi+z.length),Y=new Uint8Array(T.length),se=0;se<z.length;se++)T[se+Zi]=z[se];return T.length<32||_(Y,T,T.length,G,K)!==0?null:Y.subarray(cn)},e.secretbox.keyLength=fn,e.secretbox.nonceLength=Ge,e.secretbox.overheadLength=Zi,e.scalarMult=function(z,G){if(pn(z,G),z.length!==Yn)throw new Error("bad n size");if(G.length!==On)throw new Error("bad p size");var K=new Uint8Array(On);return re(K,z,G),K},e.scalarMult.base=function(z){if(pn(z),z.length!==Yn)throw new Error("bad n size");var G=new Uint8Array(On);return ae(G,z),G},e.scalarMult.scalarLength=Yn,e.scalarMult.groupElementLength=On,e.box=function(z,G,K,T){var Y=e.box.before(K,T);return e.secretbox(z,G,Y)},e.box.before=function(z,G){pn(z,G),jo(z,G);var K=new Uint8Array(ir);return we(K,z,G),K},e.box.after=e.secretbox,e.box.open=function(z,G,K,T){var Y=e.box.before(K,T);return e.secretbox.open(z,G,Y)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var z=new Uint8Array(zs),G=new Uint8Array(Hn);return Ce(z,G),{publicKey:z,secretKey:G}},e.box.keyPair.fromSecretKey=function(z){if(pn(z),z.length!==Hn)throw new Error("bad secret key size");var G=new Uint8Array(zs);return ae(G,z),{publicKey:G,secretKey:new Uint8Array(z)}},e.box.publicKeyLength=zs,e.box.secretKeyLength=Hn,e.box.sharedKeyLength=ir,e.box.nonceLength=Ws,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(z,G){if(pn(z,G),G.length!==Vn)throw new Error("bad secret key size");var K=new Uint8Array(Ji+z.length);return bn(K,z,z.length,G),K},e.sign.open=function(z,G){if(pn(z,G),G.length!==jn)throw new Error("bad public key size");var K=new Uint8Array(z.length),T=tn(K,z,z.length,G);if(T<0)return null;for(var Y=new Uint8Array(T),se=0;se<Y.length;se++)Y[se]=K[se];return Y},e.sign.detached=function(z,G){for(var K=e.sign(z,G),T=new Uint8Array(Ji),Y=0;Y<T.length;Y++)T[Y]=K[Y];return T},e.sign.detached.verify=function(z,G,K){if(pn(z,G,K),G.length!==Ji)throw new Error("bad signature size");if(K.length!==jn)throw new Error("bad public key size");var T=new Uint8Array(Ji+z.length),Y=new Uint8Array(Ji+z.length),se;for(se=0;se<Ji;se++)T[se]=G[se];for(se=0;se<z.length;se++)T[se+Ji]=z[se];return tn(Y,T,T.length,K)>=0},e.sign.keyPair=function(){var z=new Uint8Array(jn),G=new Uint8Array(Vn);return Kt(z,G),{publicKey:z,secretKey:G}},e.sign.keyPair.fromSecretKey=function(z){if(pn(z),z.length!==Vn)throw new Error("bad secret key size");for(var G=new Uint8Array(jn),K=0;K<G.length;K++)G[K]=z[32+K];return{publicKey:G,secretKey:new Uint8Array(z)}},e.sign.keyPair.fromSeed=function(z){if(pn(z),z.length!==Sa)throw new Error("bad seed size");for(var G=new Uint8Array(jn),K=new Uint8Array(Vn),T=0;T<32;T++)K[T]=z[T];return Kt(G,K,!0),{publicKey:G,secretKey:K}},e.sign.publicKeyLength=jn,e.sign.secretKeyLength=Vn,e.sign.seedLength=Sa,e.sign.signatureLength=Ji,e.hash=function(z){pn(z);var G=new Uint8Array(sr);return At(G,z,z.length),G},e.hash.hashLength=sr,e.verify=function(z,G){return pn(z,G),z.length===0||G.length===0||z.length!==G.length?!1:w(z,0,G,0,z.length)===0},e.setPRNG=function(z){r=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var G=65536;e.setPRNG(function(K,T){var Y,se=new Uint8Array(T);for(Y=0;Y<T;Y+=G)z.getRandomValues(se.subarray(Y,Y+Math.min(T-Y,G)));for(Y=0;Y<T;Y++)K[Y]=se[Y];Jn(se)})}else typeof OM<"u"&&(z=J4,z&&z.randomBytes&&e.setPRNG(function(K,T){var Y,se=z.randomBytes(T);for(Y=0;Y<T;Y++)K[Y]=se[Y];Jn(se)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})}(Zv)),Zv.exports}var LM=$M();const yg=Uo(LM);var Kc;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",t[t.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(Kc||(Kc={}));var hE;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(hE||(hE={}));var Yd;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(Yd||(Yd={}));var pE;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(pE||(pE={}));var gE;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",t[t.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(gE||(gE={}));var B0;(function(t){t.MAINNET="-239",t.TESTNET="-3"})(B0||(B0={}));function UM(t,e){const n=U0.encodeBase64(t);return e?encodeURIComponent(n):n}function BM(t,e){return e&&(t=decodeURIComponent(t)),U0.decodeBase64(t)}function FM(t,e=!1){let n;return t instanceof Uint8Array?n=t:(typeof t!="string"&&(t=JSON.stringify(t)),n=U0.decodeUTF8(t)),UM(n,e)}function jM(t,e=!1){const n=BM(t,e);return{toString(){return U0.encodeUTF8(n)},toObject(){try{return JSON.parse(U0.encodeUTF8(n))}catch{return null}},toUint8Array(){return n}}}const X4={encode:FM,decode:jM};function zM(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function WM(t,e){if(e>=t.length)throw new Error("Index is out of buffer");const n=t.slice(0,e),r=t.slice(e);return[n,r]}function Jv(t){let e="";return t.forEach(n=>{e+=("0"+(n&255).toString(16)).slice(-2)}),e}function Am(t){if(t.length%2!==0)throw new Error(`Cannot convert ${t} to bytesArray`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}class u3{constructor(e){this.nonceLength=24,this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=Jv(this.keyPair.publicKey)}createKeypair(){return yg.box.keyPair()}createKeypairFromString(e){return{publicKey:Am(e.publicKey),secretKey:Am(e.secretKey)}}createNonce(){return yg.randomBytes(this.nonceLength)}encrypt(e,n){const r=new TextEncoder().encode(e),i=this.createNonce(),s=yg.box(r,i,n,this.keyPair.secretKey);return zM(i,s)}decrypt(e,n){const[r,i]=WM(e,this.nonceLength),s=yg.box.open(i,r,n,this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(s)}stringifyKeypair(){return{publicKey:Jv(this.keyPair.publicKey),secretKey:Jv(this.keyPair.secretKey)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function st(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(h){o(h)}}function d(f){try{l(r.throw(f))}catch(h){o(h)}}function l(f){f.done?s(f.value):i(f.value).then(a,d)}l((r=r.apply(t,[])).next())})}class _t extends Error{constructor(e,n){super(e,n),this.message=`${_t.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${e?`
`+e:""}`,Object.setPrototypeOf(this,_t.prototype)}get info(){return""}}_t.prefix="[TON_CONNECT_SDK_ERROR]";class e5 extends _t{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,e5.prototype)}}class Ay extends _t{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,Ay.prototype)}}class _y extends _t{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,_y.prototype)}}class t5 extends _t{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...e){super(...e),Object.setPrototypeOf(this,t5.prototype)}}class _m extends _t{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,_m.prototype)}}function qM(t){return"jsBridgeKey"in t}class xy extends _t{get info(){return"User rejects the action in the wallet."}constructor(...e){super(...e),Object.setPrototypeOf(this,xy.prototype)}}class Sy extends _t{get info(){return"Request to the wallet contains errors."}constructor(...e){super(...e),Object.setPrototypeOf(this,Sy.prototype)}}class Iy extends _t{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,Iy.prototype)}}class n5 extends _t{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...e){super(...e),Object.setPrototypeOf(this,n5.prototype)}}class r5 extends _t{get info(){return"An error occurred while fetching the wallets list."}constructor(...e){super(...e),Object.setPrototypeOf(this,r5.prototype)}}class Zd extends _t{get info(){return"Passed address is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,Zd.prototype)}}class xm extends _t{get info(){return"Passed hex is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,xm.prototype)}}class Cl extends _t{constructor(...e){super(...e),Object.setPrototypeOf(this,Cl.prototype)}}const yE={[Kc.UNKNOWN_ERROR]:Cl,[Kc.USER_REJECTS_ERROR]:xy,[Kc.BAD_REQUEST_ERROR]:Sy,[Kc.UNKNOWN_APP_ERROR]:Iy,[Kc.MANIFEST_NOT_FOUND_ERROR]:_y,[Kc.MANIFEST_CONTENT_ERROR]:Ay};class HM{parseError(e){let n=Cl;return e.code in yE&&(n=yE[e.code]||Cl),new n(e.message)}}const VM=new HM;class KM{isError(e){return"error"in e}}const wE={[Yd.UNKNOWN_ERROR]:Cl,[Yd.USER_REJECTS_ERROR]:xy,[Yd.BAD_REQUEST_ERROR]:Sy,[Yd.UNKNOWN_APP_ERROR]:Iy};class GM extends KM{convertToRpcRequest(e){return{method:"sendTransaction",params:[JSON.stringify(e)]}}parseAndThrowError(e){let n=Cl;throw e.error.code in wE&&(n=wE[e.error.code]||Cl),new n(e.error.message)}convertFromRpcResponse(e){return{boc:e.result}}}const wg=new GM;class QM{constructor(e,n){this.storage=e,this.storeKey="ton-connect-storage_http-bridge-gateway::"+n}storeLastEventId(e){return st(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,e)})}removeLastEventId(){return st(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return st(this,void 0,void 0,function*(){const e=yield this.storage.getItem(this.storeKey);return e||null})}}function YM(t){return t.slice(-1)==="/"?t.slice(0,-1):t}function ES(t,e){return YM(t)+"/"+e}function hl(t){if(!t)return!1;const e=new URL(t);return e.protocol==="tg:"||e.hostname==="t.me"}function AS(t){return t.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}function _S(t,e){return st(this,void 0,void 0,function*(){return new Promise((n,r)=>{var i,s;if(!((i=void 0)===null||i===void 0)&&i.aborted){r(new _t("Delay aborted"));return}const o=setTimeout(()=>n(),t);(s=void 0)===null||s===void 0||s.addEventListener("abort",()=>{clearTimeout(o),r(new _t("Delay aborted"))})})})}function ko(t){const e=new AbortController;return t!=null&&t.aborted?e.abort():t==null||t.addEventListener("abort",()=>e.abort(),{once:!0}),e}function v0(t,e){var n,r;return st(this,void 0,void 0,function*(){const i=(n=e==null?void 0:e.attempts)!==null&&n!==void 0?n:10,s=(r=e==null?void 0:e.delayMs)!==null&&r!==void 0?r:200,o=ko(e==null?void 0:e.signal);if(typeof t!="function")throw new _t(`Expected a function, got ${typeof t}`);let a=0,d;for(;a<i;){if(o.signal.aborted)throw new _t(`Aborted after attempts ${a}`);try{return yield t({signal:o.signal})}catch(l){d=l,a++,a<i&&(yield _S(s))}}throw d})}function ci(...t){try{console.debug("[TON_CONNECT_SDK]",...t)}catch{}}function ec(...t){try{console.error("[TON_CONNECT_SDK]",...t)}catch{}}function ZM(...t){try{console.warn("[TON_CONNECT_SDK]",...t)}catch{}}function JM(t,e){let n=null,r=null,i=null,s=null,o=null;const a=(h,...g)=>st(this,void 0,void 0,function*(){if(s=h??null,o==null||o.abort(),o=ko(h),o.signal.aborted)throw new _t("Resource creation was aborted");r=g??null;const y=t(o.signal,...g);i=y;const v=yield y;if(i!==y&&v!==n)throw yield e(v),new _t("Resource creation was aborted by a new resource creation");return n=v,n});return{create:a,current:()=>n??null,dispose:()=>st(this,void 0,void 0,function*(){try{const h=n;n=null;const g=i;i=null;try{o==null||o.abort()}catch{}yield Promise.allSettled([h?e(h):Promise.resolve(),g?e(yield g):Promise.resolve()])}catch{}}),recreate:h=>st(this,void 0,void 0,function*(){const g=n,y=i,v=r,w=s;if(yield _S(h),g===n&&y===i&&v===r&&w===s)return yield a(s,...v??[]);throw new _t("Resource recreation was aborted by a new resource creation")})}}function XM(t,e){const n=e==null?void 0:e.timeout,r=e==null?void 0:e.signal,i=ko(r);return new Promise((s,o)=>st(this,void 0,void 0,function*(){if(i.signal.aborted){o(new _t("Operation aborted"));return}let a;typeof n<"u"&&(a=setTimeout(()=>{i.abort(),o(new _t(`Timeout after ${n}ms`))},n)),i.signal.addEventListener("abort",()=>{clearTimeout(a),o(new _t("Operation aborted"))},{once:!0});const d={timeout:n,abort:i.signal};yield t((...l)=>{clearTimeout(a),s(...l)},()=>{clearTimeout(a),o()},d)}))}class Xv{constructor(e,n,r,i,s){this.bridgeUrl=n,this.sessionId=r,this.listener=i,this.errorsListener=s,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.defaultReconnectDelay=2e3,this.defaultResendDelay=5e3,this.eventSource=JM((o,a)=>st(this,void 0,void 0,function*(){const d={bridgeUrl:this.bridgeUrl,ssePath:this.ssePath,sessionId:this.sessionId,bridgeGatewayStorage:this.bridgeGatewayStorage,errorHandler:this.errorsHandler.bind(this),messageHandler:this.messagesHandler.bind(this),signal:o,openingDeadlineMS:a};return yield eD(d)}),o=>st(this,void 0,void 0,function*(){o.close()})),this.bridgeGatewayStorage=new QM(e,n)}get isReady(){const e=this.eventSource.current();return(e==null?void 0:e.readyState)===EventSource.OPEN}get isClosed(){const e=this.eventSource.current();return(e==null?void 0:e.readyState)!==EventSource.OPEN}get isConnecting(){const e=this.eventSource.current();return(e==null?void 0:e.readyState)===EventSource.CONNECTING}registerSession(e){return st(this,void 0,void 0,function*(){yield this.eventSource.create(e==null?void 0:e.signal,e==null?void 0:e.openingDeadlineMS)})}send(e,n,r,i){var s;return st(this,void 0,void 0,function*(){const o={};typeof i=="number"?o.ttl=i:(o.ttl=i==null?void 0:i.ttl,o.signal=i==null?void 0:i.signal,o.attempts=i==null?void 0:i.attempts);const a=new URL(ES(this.bridgeUrl,this.postPath));a.searchParams.append("client_id",this.sessionId),a.searchParams.append("to",n),a.searchParams.append("ttl",((o==null?void 0:o.ttl)||this.defaultTtl).toString()),a.searchParams.append("topic",r);const d=X4.encode(e);yield v0(l=>st(this,void 0,void 0,function*(){const f=yield this.post(a,d,l.signal);if(!f.ok)throw new _t(`Bridge send failed, status ${f.status}`)}),{attempts:(s=o==null?void 0:o.attempts)!==null&&s!==void 0?s:Number.MAX_SAFE_INTEGER,delayMs:this.defaultResendDelay,signal:o==null?void 0:o.signal})})}pause(){this.eventSource.dispose().catch(e=>ec(`Bridge pause failed, ${e}`))}unPause(){return st(this,void 0,void 0,function*(){yield this.eventSource.recreate(0)})}close(){return st(this,void 0,void 0,function*(){yield this.eventSource.dispose().catch(e=>ec(`Bridge close failed, ${e}`))})}setListener(e){this.listener=e}setErrorsListener(e){this.errorsListener=e}post(e,n,r){return st(this,void 0,void 0,function*(){const i=yield fetch(e,{method:"post",body:n,signal:r});if(!i.ok)throw new _t(`Bridge send failed, status ${i.status}`);return i})}errorsHandler(e,n){return st(this,void 0,void 0,function*(){if(this.isConnecting)throw e.close(),new _t("Bridge error, failed to connect");if(this.isReady){try{this.errorsListener(n)}catch{}return}if(this.isClosed)return e.close(),ci(`Bridge reconnecting, ${this.defaultReconnectDelay}ms delay`),yield this.eventSource.recreate(this.defaultReconnectDelay);throw new _t("Bridge error, unknown state")})}messagesHandler(e){return st(this,void 0,void 0,function*(){if(e.data===this.heartbeatMessage||(yield this.bridgeGatewayStorage.storeLastEventId(e.lastEventId),this.isClosed))return;let n;try{n=JSON.parse(e.data)}catch(r){throw new _t(`Bridge message parse failed, message ${r.data}`)}this.listener(n)})}}function eD(t){return st(this,void 0,void 0,function*(){return yield XM((e,n,r)=>st(this,void 0,void 0,function*(){var i;const o=ko(r.signal).signal;if(o.aborted){n(new _t("Bridge connection aborted"));return}const a=new URL(ES(t.bridgeUrl,t.ssePath));a.searchParams.append("client_id",t.sessionId);const d=yield t.bridgeGatewayStorage.getLastEventId();if(d&&a.searchParams.append("last_event_id",d),o.aborted){n(new _t("Bridge connection aborted"));return}const l=new EventSource(a.toString());l.onerror=f=>st(this,void 0,void 0,function*(){if(o.aborted){l.close(),n(new _t("Bridge connection aborted"));return}try{const h=yield t.errorHandler(l,f);h!==l&&l.close(),h&&h!==l&&e(h)}catch(h){l.close(),n(h)}}),l.onopen=()=>{if(o.aborted){l.close(),n(new _t("Bridge connection aborted"));return}e(l)},l.onmessage=f=>{if(o.aborted){l.close(),n(new _t("Bridge connection aborted"));return}t.messageHandler(f)},(i=t.signal)===null||i===void 0||i.addEventListener("abort",()=>{l.close(),n(new _t("Bridge connection aborted"))})}),{timeout:t.openingDeadlineMS,signal:t.signal})})}function b0(t){return!("connectEvent"in t)}class F0{constructor(e){this.storage=e,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(e){return st(this,void 0,void 0,function*(){if(e.type==="injected")return this.storage.setItem(this.storeKey,JSON.stringify(e));if(!b0(e)){const r={sessionKeyPair:e.session.sessionCrypto.stringifyKeypair(),walletPublicKey:e.session.walletPublicKey,bridgeUrl:e.session.bridgeUrl},i={type:"http",connectEvent:e.connectEvent,session:r,lastWalletEventId:e.lastWalletEventId,nextRpcRequestId:e.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(i))}const n={type:"http",connectionSource:e.connectionSource,sessionCrypto:e.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(n))})}removeConnection(){return st(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return st(this,void 0,void 0,function*(){const e=yield this.storage.getItem(this.storeKey);if(!e)return null;const n=JSON.parse(e);if(n.type==="injected")return n;if("connectEvent"in n){const r=new u3(n.session.sessionKeyPair);return{type:"http",connectEvent:n.connectEvent,lastWalletEventId:n.lastWalletEventId,nextRpcRequestId:n.nextRpcRequestId,session:{sessionCrypto:r,bridgeUrl:n.session.bridgeUrl,walletPublicKey:n.session.walletPublicKey}}}return{type:"http",sessionCrypto:new u3(n.sessionCrypto),connectionSource:n.connectionSource}})}getHttpConnection(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();if(!e)throw new _t("Trying to read HTTP connection source while nothing is stored");if(e.type==="injected")throw new _t("Trying to read HTTP connection source while injected connection is stored");return e})}getHttpPendingConnection(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();if(!e)throw new _t("Trying to read HTTP connection source while nothing is stored");if(e.type==="injected")throw new _t("Trying to read HTTP connection source while injected connection is stored");if(!b0(e))throw new _t("Trying to read HTTP-pending connection while http connection is stored");return e})}getInjectedConnection(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();if(!e)throw new _t("Trying to read Injected bridge connection source while nothing is stored");if((e==null?void 0:e.type)==="http")throw new _t("Trying to read Injected bridge connection source while HTTP connection is stored");return e})}storedConnectionType(){return st(this,void 0,void 0,function*(){const e=yield this.storage.getItem(this.storeKey);return e?JSON.parse(e).type:null})}storeLastWalletEventId(e){return st(this,void 0,void 0,function*(){const n=yield this.getConnection();if(n&&n.type==="http"&&!b0(n))return n.lastWalletEventId=e,this.storeConnection(n)})}getLastWalletEventId(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}increaseNextRpcRequestId(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();if(e&&"nextRpcRequestId"in e){const n=e.nextRpcRequestId||0;return e.nextRpcRequestId=n+1,this.storeConnection(e)}})}getNextRpcRequestId(){return st(this,void 0,void 0,function*(){const e=yield this.getConnection();return e&&"nextRpcRequestId"in e&&e.nextRpcRequestId||0})}}const xS=2;class j0{constructor(e,n){this.storage=e,this.walletConnectionSource=n,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.defaultOpeningDeadlineMS=12e3,this.defaultRetryTimeoutMS=2e3,this.connectionStorage=new F0(e)}static fromStorage(e){return st(this,void 0,void 0,function*(){const r=yield new F0(e).getHttpConnection();return b0(r)?new j0(e,r.connectionSource):new j0(e,{bridgeUrl:r.session.bridgeUrl})})}connect(e,n){var r;const i=ko(n==null?void 0:n.signal);(r=this.abortController)===null||r===void 0||r.abort(),this.abortController=i,this.closeGateways();const s=new u3;this.session={sessionCrypto:s,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:s}).then(()=>st(this,void 0,void 0,function*(){i.signal.aborted||(yield v0(a=>{var d;return this.openGateways(s,{openingDeadlineMS:(d=n==null?void 0:n.openingDeadlineMS)!==null&&d!==void 0?d:this.defaultOpeningDeadlineMS,signal:a==null?void 0:a.signal})},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal}))}));const o="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(o,e)}restoreConnection(e){var n,r;return st(this,void 0,void 0,function*(){const i=ko(e==null?void 0:e.signal);if((n=this.abortController)===null||n===void 0||n.abort(),this.abortController=i,i.signal.aborted)return;this.closeGateways();const s=yield this.connectionStorage.getHttpConnection();if(!s||i.signal.aborted)return;const o=(r=e==null?void 0:e.openingDeadlineMS)!==null&&r!==void 0?r:this.defaultOpeningDeadlineMS;if(b0(s))return this.session={sessionCrypto:s.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},yield this.openGateways(s.sessionCrypto,{openingDeadlineMS:o,signal:i==null?void 0:i.signal});if(Array.isArray(this.walletConnectionSource))throw new _t("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");if(this.session=s.session,this.gateway&&(ci("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new Xv(this.storage,this.walletConnectionSource.bridgeUrl,s.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),!i.signal.aborted){this.listeners.forEach(a=>a(s.connectEvent));try{yield v0(a=>this.gateway.registerSession({openingDeadlineMS:o,signal:a.signal}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:i.signal})}catch{yield this.disconnect({signal:i.signal});return}}})}sendRequest(e,n){const r={};return typeof n=="function"?r.onRequestSent=n:(r.onRequestSent=n==null?void 0:n.onRequestSent,r.signal=n==null?void 0:n.signal,r.attempts=n==null?void 0:n.attempts),new Promise((i,s)=>st(this,void 0,void 0,function*(){var o;if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new _t("Trying to send bridge request without session");const a=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),ci("Send http-bridge request:",Object.assign(Object.assign({},e),{id:a}));const d=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{id:a})),Am(this.session.walletPublicKey));try{yield this.gateway.send(d,this.session.walletPublicKey,e.method,{attempts:r==null?void 0:r.attempts,signal:r==null?void 0:r.signal}),(o=r==null?void 0:r.onRequestSent)===null||o===void 0||o.call(r),this.pendingRequests.set(a.toString(),i)}catch(l){s(l)}}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(e){return st(this,void 0,void 0,function*(){return new Promise(n=>st(this,void 0,void 0,function*(){let r=!1,i=null;const s=()=>{r||(r=!0,this.removeBridgeAndSession().then(n))};try{this.closeGateways();const o=ko(e==null?void 0:e.signal);i=setTimeout(()=>{o.abort()},this.defaultOpeningDeadlineMS),yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:s,signal:o.signal,attempts:1})}catch(o){ci("Disconnect error:",o),r||this.removeBridgeAndSession().then(n)}finally{i&&clearTimeout(i),s()}}))})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(n=>n!==e)}pause(){var e;(e=this.gateway)===null||e===void 0||e.pause(),this.pendingGateways.forEach(n=>n.pause())}unPause(){return st(this,void 0,void 0,function*(){const e=this.pendingGateways.map(n=>n.unPause());this.gateway&&e.push(this.gateway.unPause()),yield Promise.all(e)})}pendingGatewaysListener(e,n,r){return st(this,void 0,void 0,function*(){if(!this.pendingGateways.includes(e)){yield e.close();return}return this.closeGateways({except:e}),this.gateway&&(ci("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.session.bridgeUrl=n,this.gateway=e,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(r)})}gatewayListener(e){return st(this,void 0,void 0,function*(){const n=JSON.parse(this.session.sessionCrypto.decrypt(X4.decode(e.message).toUint8Array(),Am(e.from)));if(ci("Wallet message received:",n),!("event"in n)){const i=n.id.toString(),s=this.pendingRequests.get(i);if(!s){ci(`Response id ${i} doesn't match any request's id`);return}s(n),this.pendingRequests.delete(i);return}if(n.id!==void 0){const i=yield this.connectionStorage.getLastWalletEventId();if(i!==void 0&&n.id<=i){ec(`Received event id (=${n.id}) must be greater than stored last wallet event id (=${i}) `);return}n.event!=="connect"&&(yield this.connectionStorage.storeLastWalletEventId(n.id))}const r=this.listeners;n.event==="connect"&&(yield this.updateSession(n,e.from)),n.event==="disconnect"&&(ci("Removing bridge and session: received disconnect event"),yield this.removeBridgeAndSession()),r.forEach(i=>i(n))})}gatewayErrorsListener(e){return st(this,void 0,void 0,function*(){throw new _t(`Bridge error ${JSON.stringify(e)}`)})}updateSession(e,n){return st(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:n});const r=e.payload.items.find(s=>s.name==="ton_addr"),i=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{items:[r]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:e.id,connectEvent:i,nextRpcRequestId:0})})}removeBridgeAndSession(){return st(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(e,n){return hl(e)?this.generateTGUniversalLink(e,n):this.generateRegularUniversalLink(e,n)}generateRegularUniversalLink(e,n){const r=new URL(e);return r.searchParams.append("v",xS.toString()),r.searchParams.append("id",this.session.sessionCrypto.sessionId),r.searchParams.append("r",JSON.stringify(n)),r.toString()}generateTGUniversalLink(e,n){const i=this.generateRegularUniversalLink("about:blank",n).split("?")[1],s="tonconnect-"+AS(i),o=this.convertToDirectLink(e),a=new URL(o);return a.searchParams.append("startapp",s),a.toString()}convertToDirectLink(e){const n=new URL(e);return n.searchParams.has("attach")&&(n.searchParams.delete("attach"),n.pathname+="/start"),n.toString()}openGateways(e,n){return st(this,void 0,void 0,function*(){if(Array.isArray(this.walletConnectionSource)){this.pendingGateways.map(r=>r.close().catch()),this.pendingGateways=this.walletConnectionSource.map(r=>{const i=new Xv(this.storage,r.bridgeUrl,e.sessionId,()=>{},()=>{});return i.setListener(s=>this.pendingGatewaysListener(i,r.bridgeUrl,s)),i}),yield Promise.allSettled(this.pendingGateways.map(r=>v0(i=>{var s;return this.pendingGateways.some(o=>o===r)?r.registerSession({openingDeadlineMS:(s=n==null?void 0:n.openingDeadlineMS)!==null&&s!==void 0?s:this.defaultOpeningDeadlineMS,signal:i.signal}):r.close()},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:n==null?void 0:n.signal})));return}else return this.gateway&&(ci("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new Xv(this.storage,this.walletConnectionSource.bridgeUrl,e.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.gateway.registerSession({openingDeadlineMS:n==null?void 0:n.openingDeadlineMS,signal:n==null?void 0:n.signal})})}closeGateways(e){var n;(n=this.gateway)===null||n===void 0||n.close(),this.pendingGateways.filter(r=>r!==(e==null?void 0:e.except)).forEach(r=>r.close()),this.pendingGateways=[]}}function vE(t,e){return SS(t,[e])}function SS(t,e){return!t||typeof t!="object"?!1:e.every(n=>n in t)}function tD(t){try{return!vE(t,"tonconnect")||!vE(t.tonconnect,"walletInfo")?!1:SS(t.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch{return!1}}let nD=class s0{constructor(){this.storage={}}static getInstance(){return s0.instance||(s0.instance=new s0),s0.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var n;return(n=this.storage[e])!==null&&n!==void 0?n:null}key(e){var n;const r=Object.keys(this.storage);return e<0||e>=r.length?null:(n=r[e])!==null&&n!==void 0?n:null}removeItem(e){delete this.storage[e]}setItem(e,n){this.storage[e]=n}};function Ty(){if(!(typeof window>"u"))return window}function rD(){const t=Ty();if(!t)return[];try{return Object.keys(t)}catch{return[]}}function iD(){if(!(typeof document>"u"))return document}function sD(){var t;const e=(t=Ty())===null||t===void 0?void 0:t.location.origin;return e?e+"/tonconnect-manifest.json":""}function oD(){if(aD())return localStorage;if(cD())throw new _t("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return nD.getInstance()}function aD(){try{return typeof localStorage<"u"}catch{return!1}}function cD(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}class Es{constructor(e,n){this.injectedWalletKey=n,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];const r=Es.window;if(!Es.isWindowContainsWallet(r,n))throw new n5;this.connectionStorage=new F0(e),this.injectedWallet=r[n].tonconnect}static fromStorage(e){return st(this,void 0,void 0,function*(){const r=yield new F0(e).getInjectedConnection();return new Es(e,r.jsBridgeKey)})}static isWalletInjected(e){return Es.isWindowContainsWallet(this.window,e)}static isInsideWalletBrowser(e){return Es.isWindowContainsWallet(this.window,e)?this.window[e].tonconnect.isWalletBrowser:!1}static getCurrentlyInjectedWallets(){return this.window?rD().filter(([r,i])=>tD(i)).map(([r,i])=>({name:i.tonconnect.walletInfo.name,appName:i.tonconnect.walletInfo.app_name,aboutUrl:i.tonconnect.walletInfo.about_url,imageUrl:i.tonconnect.walletInfo.image,tondns:i.tonconnect.walletInfo.tondns,jsBridgeKey:r,injected:!0,embedded:i.tonconnect.isWalletBrowser,platforms:i.tonconnect.walletInfo.platforms})):[]}static isWindowContainsWallet(e,n){return!!e&&n in e&&typeof e[n]=="object"&&"tonconnect"in e[n]}connect(e){this._connect(xS,e)}restoreConnection(){return st(this,void 0,void 0,function*(){try{ci("Injected Provider restoring connection...");const e=yield this.injectedWallet.restoreConnection();ci("Injected Provider restoring connection response",e),e.event==="connect"?(this.makeSubscriptions(),this.listeners.forEach(n=>n(e))):yield this.connectionStorage.removeConnection()}catch(e){yield this.connectionStorage.removeConnection(),console.error(e)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return st(this,void 0,void 0,function*(){return new Promise(e=>{const n=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(e)};try{this.injectedWallet.disconnect(),n()}catch(r){ci(r),this.sendRequest({method:"disconnect",params:[]},n)}})})}closeAllListeners(){var e;this.listenSubscriptions=!1,this.listeners=[],(e=this.unsubscribeCallback)===null||e===void 0||e.call(this)}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(n=>n!==e)}sendRequest(e,n){var r;return st(this,void 0,void 0,function*(){const i={};typeof n=="function"?i.onRequestSent=n:(i.onRequestSent=n==null?void 0:n.onRequestSent,i.signal=n==null?void 0:n.signal);const s=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),ci("Send injected-bridge request:",Object.assign(Object.assign({},e),{id:s}));const o=this.injectedWallet.send(Object.assign(Object.assign({},e),{id:s}));return o.then(a=>ci("Wallet message received:",a)),(r=i==null?void 0:i.onRequestSent)===null||r===void 0||r.call(i),o})}_connect(e,n){return st(this,void 0,void 0,function*(){try{ci(`Injected Provider connect request: protocolVersion: ${e}, message:`,n);const r=yield this.injectedWallet.connect(e,n);ci("Injected Provider connect response:",r),r.event==="connect"&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(i=>i(r))}catch(r){ci("Injected Provider connect error:",r);const i={event:"connect_error",payload:{code:0,message:r==null?void 0:r.toString()}};this.listeners.forEach(s=>s(i))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(e=>{ci("Wallet message received:",e),this.listenSubscriptions&&this.listeners.forEach(n=>n(e)),e.event==="disconnect"&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}Es.window=Ty();class lD{constructor(){this.localStorage=oD()}getItem(e){return st(this,void 0,void 0,function*(){return this.localStorage.getItem(e)})}removeItem(e){return st(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}setItem(e,n){return st(this,void 0,void 0,function*(){this.localStorage.setItem(e,n)})}}function bu(t){return uD(t)&&t.injected}function Py(t){return bu(t)&&t.embedded}function uD(t){return"jsBridgeKey"in t}function i5(t){return"bridgeUrl"in t}const dD=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://walletbot.me/tonconnect-bridge/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://static.mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"bitgetTonWallet",name:"Bitget Wallet",image:"https://raw.githubusercontent.com/bitgetwallet/download/refs/heads/main/logo/png/bitget_wallet_logo_288_mini.png",about_url:"https://web3.bitget.com",deepLink:"bitkeep://",bridge:[{type:"js",key:"bitgetTonWallet"},{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","chrome"],universal_url:"https://bkcode.vip/ton-connect"},{app_name:"okxMiniWallet",name:"OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/2411/8BE1A4A434D8F58A.png",about_url:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"binanceWeb3TonWallet",name:"Binance Web3 Wallet",image:"https://public.bnbstatic.com/static/binance-w3w/ton-provider/binancew3w.png",about_url:"https://www.binance.com/en/web3wallet",deepLink:"bnc://app.binance.com/cedefi/ton-connect",bridge:[{type:"js",key:"binancew3w"},{type:"sse",url:"https://wallet.binance.com/tonbridge/bridge"}],platforms:["ios","android","macos","windows","linux"],universal_url:"https://app.binance.com/cedefi/ton-connect"},{app_name:"fintopio-tg",name:"Fintopio",image:"https://fintopio.com/tonconnect-icon.png",about_url:"https://fintopio.com",universal_url:"https://t.me/fintopio?attach=wallet",bridge:[{type:"sse",url:"https://wallet-bridge.fintopio.com/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download?appendQuery=true&deeplink=okx://web3/wallet/tonconnect",bridge:[{type:"js",key:"okxTonWallet"},{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]},{app_name:"hot",name:"HOT",image:"https://raw.githubusercontent.com/hot-dao/media/main/logo.png",about_url:"https://hot-labs.org/",universal_url:"https://t.me/herewalletbot?attach=wallet",bridge:[{type:"sse",url:"https://sse-bridge.hot-labs.org"},{type:"js",key:"hotWallet"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"bybitTonWallet",name:"Bybit Wallet",image:"https://raw.githubusercontent.com/bybit-web3/bybit-web3.github.io/main/docs/images/bybit-logo.png",about_url:"https://www.bybit.com/web3",universal_url:"https://app.bybit.com/ton-connect",deepLink:"bybitapp://",bridge:[{type:"js",key:"bybitTonWallet"},{type:"sse",url:"https://api-node.bybit.com/spot/api/web3/bridge/ton/bridge"}],platforms:["ios","android","chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://raw.githubusercontent.com/delab-team/manifests-images/main/WalletAvatar.png",about_url:"https://delabwallet.com",universal_url:"https://t.me/dewallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.dewallet.pro/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"safepalwallet",name:"SafePal",image:"https://s.pvcliping.com/web/public_image/SafePal_x288.png",tondns:"",about_url:"https://www.safepal.com",universal_url:"https://link.safepal.io/ton-connect",deepLink:"safepal-tc://",bridge:[{type:"sse",url:"https://ton-bridge.safepal.com/tonbridge/v1/bridge"},{type:"js",key:"safepalwallet"}],platforms:["ios","android","chrome","firefox"]},{app_name:"GateWallet",name:"GateWallet",image:"https://img.gatedataimg.com/prd-ordinal-imgs/036f07bb8730716e/gateio-0925.png",about_url:"https://www.gate.io/",bridge:[{type:"js",key:"gatetonwallet"},{type:"sse",url:"https://dapp.gateio.services/tonbridge_api/bridge/v1"}],platforms:["ios","android"],universal_url:"https://gateio.go.link/gateio/web3?adj_t=1ff8khdw_1fu4ccc7"},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"BitgetWeb3",name:"BitgetWeb3",image:"https://img.bitgetimg.com/image/third/1731638059795.png",about_url:"​https://www.bitget.com",universal_url:"https://t.me/BitgetOfficialBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","windows","macos","linux"]},{app_name:"tobi",name:"Tobi",image:"https://app.tobiwallet.app/icons/logo-288.png",about_url:"https://tobi.fun",universal_url:"https://t.me/TobiCopilotBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-bridge.tobiwallet.app/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];class d3{constructor(e){this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource="https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",e!=null&&e.walletsListSource&&(this.walletsListSource=e.walletsListSource),e!=null&&e.cacheTTLMs&&(this.cacheTTLMs=e.cacheTTLMs)}getWallets(){return st(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return st(this,void 0,void 0,function*(){const n=(yield this.getWallets()).filter(Py);return n.length!==1?null:n[0]})}fetchWalletsList(){return st(this,void 0,void 0,function*(){let e=[];try{if(e=yield(yield fetch(this.walletsListSource)).json(),!Array.isArray(e))throw new r5("Wrong wallets list format, wallets list must be an array.");const i=e.filter(s=>!this.isCorrectWalletConfigDTO(s));i.length&&(ec(`Wallet(s) ${i.map(s=>s.name).join(", ")} config format is wrong. They were removed from the wallets list.`),e=e.filter(s=>this.isCorrectWalletConfigDTO(s)))}catch(r){ec(r),e=dD}let n=[];try{n=Es.getCurrentlyInjectedWallets()}catch(r){ec(r)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(e),n)})}walletConfigDTOListToWalletConfigList(e){return e.map(n=>{const i={name:n.name,appName:n.app_name,imageUrl:n.image,aboutUrl:n.about_url,tondns:n.tondns,platforms:n.platforms};return n.bridge.forEach(s=>{if(s.type==="sse"&&(i.bridgeUrl=s.url,i.universalLink=n.universal_url,i.deepLink=n.deepLink),s.type==="js"){const o=s.key;i.jsBridgeKey=o,i.injected=Es.isWalletInjected(o),i.embedded=Es.isInsideWalletBrowser(o)}}),i})}mergeWalletsLists(e,n){return[...new Set(e.concat(n).map(i=>i.name)).values()].map(i=>{const s=e.find(a=>a.name===i),o=n.find(a=>a.name===i);return Object.assign(Object.assign({},s&&Object.assign({},s)),o&&Object.assign({},o))})}isCorrectWalletConfigDTO(e){if(!e||typeof e!="object")return!1;const n="name"in e,r="app_name"in e,i="image"in e,s="about_url"in e,o="platforms"in e;if(!n||!i||!s||!o||!r||!e.platforms||!Array.isArray(e.platforms)||!e.platforms.length||!("bridge"in e)||!Array.isArray(e.bridge)||!e.bridge.length)return!1;const a=e.bridge;if(a.some(f=>!f||typeof f!="object"||!("type"in f)))return!1;const d=a.find(f=>f.type==="sse");if(d&&(!("url"in d)||!d.url||!e.universal_url))return!1;const l=a.find(f=>f.type==="js");return!(l&&(!("key"in l)||!l.key))}}class C0 extends _t{get info(){return"Wallet doesn't support requested feature method."}constructor(...e){super(...e),Object.setPrototypeOf(this,C0.prototype)}}function fD(t,e){const n=t.includes("SendTransaction"),r=t.find(i=>i&&typeof i=="object"&&i.name==="SendTransaction");if(!n&&!r)throw new C0("Wallet doesn't support SendTransaction feature.");if(e.requireExtraCurrencies&&(!r||!r.extraCurrencySupported))throw new C0("Wallet is not able to handle such SendTransaction request. Extra currencies support is required.");if(r&&r.maxMessages!==void 0){if(r.maxMessages<e.requiredMessagesNumber)throw new C0(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${r.maxMessages}, but ${e.requiredMessagesNumber} is required.`);return}ZM("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}function IS(){return{type:"request-version"}}function TS(t){return{type:"response-version",version:t}}function Hu(t){return{ton_connect_sdk_lib:t.ton_connect_sdk_lib,ton_connect_ui_lib:t.ton_connect_ui_lib}}function zf(t,e){var n,r,i,s,o,a,d,l;const h=((n=e==null?void 0:e.connectItems)===null||n===void 0?void 0:n.tonProof)&&"proof"in e.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(i=(r=e==null?void 0:e.account)===null||r===void 0?void 0:r.address)!==null&&i!==void 0?i:null,wallet_type:(s=e==null?void 0:e.device.appName)!==null&&s!==void 0?s:null,wallet_version:(o=e==null?void 0:e.device.appVersion)!==null&&o!==void 0?o:null,auth_type:h,custom_data:Object.assign({chain_id:(d=(a=e==null?void 0:e.account)===null||a===void 0?void 0:a.chain)!==null&&d!==void 0?d:null,provider:(l=e==null?void 0:e.provider)!==null&&l!==void 0?l:null},Hu(t))}}function PS(t){return{type:"connection-started",custom_data:Hu(t)}}function NS(t,e){return Object.assign({type:"connection-completed",is_success:!0},zf(t,e))}function kS(t,e,n){return{type:"connection-error",is_success:!1,error_message:e,error_code:n??null,custom_data:Hu(t)}}function RS(t){return{type:"connection-restoring-started",custom_data:Hu(t)}}function OS(t,e){return Object.assign({type:"connection-restoring-completed",is_success:!0},zf(t,e))}function MS(t,e){return{type:"connection-restoring-error",is_success:!1,error_message:e,custom_data:Hu(t)}}function s5(t,e){var n,r,i,s;return{valid_until:(n=String(e.validUntil))!==null&&n!==void 0?n:null,from:(s=(r=e.from)!==null&&r!==void 0?r:(i=t==null?void 0:t.account)===null||i===void 0?void 0:i.address)!==null&&s!==void 0?s:null,messages:e.messages.map(o=>{var a,d;return{address:(a=o.address)!==null&&a!==void 0?a:null,amount:(d=o.amount)!==null&&d!==void 0?d:null}})}}function DS(t,e,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},zf(t,e)),s5(e,n))}function $S(t,e,n,r){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:r.boc},zf(t,e)),s5(e,n))}function LS(t,e,n,r,i){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:r,error_code:i??null},zf(t,e)),s5(e,n))}function US(t,e,n){return Object.assign({type:"disconnection",scope:n},zf(t,e))}class BS{constructor(){this.window=Ty()}dispatchEvent(e,n){var r;return st(this,void 0,void 0,function*(){const i=new CustomEvent(e,{detail:n});(r=this.window)===null||r===void 0||r.dispatchEvent(i)})}addEventListener(e,n,r){var i;return st(this,void 0,void 0,function*(){return(i=this.window)===null||i===void 0||i.addEventListener(e,n,r),()=>{var s;return(s=this.window)===null||s===void 0?void 0:s.removeEventListener(e,n)}})}}class hD{constructor(e){var n;this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=(n=e==null?void 0:e.eventDispatcher)!==null&&n!==void 0?n:new BS,this.tonConnectSdkVersion=e.tonConnectSdkVersion,this.init().catch()}get version(){return Hu({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return st(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return st(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",()=>st(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",TS(this.tonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return st(this,void 0,void 0,function*(){return new Promise((e,n)=>st(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",r=>{e(r.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",IS())}catch(r){n(r)}}))})}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(...e){try{const n=PS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionCompleted(...e){try{const n=NS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionError(...e){try{const n=kS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringStarted(...e){try{const n=RS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringCompleted(...e){try{const n=OS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringError(...e){try{const n=MS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackDisconnection(...e){try{const n=US(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSentForSignature(...e){try{const n=DS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigned(...e){try{const n=$S(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigningFailed(...e){try{const n=LS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}}const pD="3.0.7";class Iu{constructor(e){if(this.walletsList=new d3,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(e==null?void 0:e.manifestUrl)||sD(),storage:(e==null?void 0:e.storage)||new lD},this.walletsList=new d3({walletsListSource:e==null?void 0:e.walletsListSource,cacheTTLMs:e==null?void 0:e.walletsListCacheTTLMs}),this.tracker=new hD({eventDispatcher:e==null?void 0:e.eventDispatcher,tonConnectSdkVersion:pD}),!this.dappSettings.manifestUrl)throw new e5("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new F0(this.dappSettings.storage),e!=null&&e.disableAutoPauseConnection||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return this._wallet!==null}get account(){var e;return((e=this._wallet)===null||e===void 0?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(n=>n(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(e,n){return this.statusChangeSubscriptions.push(e),n&&this.statusChangeErrorSubscriptions.push(n),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(r=>r!==e),n&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(r=>r!==n))}}connect(e,n){var r,i;const s={};if(typeof n=="object"&&"tonProof"in n&&(s.request=n),typeof n=="object"&&("openingDeadlineMS"in n||"signal"in n||"request"in n)&&(s.request=n==null?void 0:n.request,s.openingDeadlineMS=n==null?void 0:n.openingDeadlineMS,s.signal=n==null?void 0:n.signal),this.connected)throw new t5;const o=ko(s==null?void 0:s.signal);if((r=this.abortController)===null||r===void 0||r.abort(),this.abortController=o,o.signal.aborted)throw new _t("Connection was aborted");return(i=this.provider)===null||i===void 0||i.closeConnection(),this.provider=this.createProvider(e),o.signal.addEventListener("abort",()=>{var a;(a=this.provider)===null||a===void 0||a.closeConnection(),this.provider=null}),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(s==null?void 0:s.request),{openingDeadlineMS:s==null?void 0:s.openingDeadlineMS,signal:o.signal})}restoreConnection(e){var n,r;return st(this,void 0,void 0,function*(){this.tracker.trackConnectionRestoringStarted();const i=ko(e==null?void 0:e.signal);if((n=this.abortController)===null||n===void 0||n.abort(),this.abortController=i,i.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}const[s,o]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);if(i.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}let a=null;try{switch(s){case"http":a=yield j0.fromStorage(this.dappSettings.storage);break;case"injected":a=yield Es.fromStorage(this.dappSettings.storage);break;default:if(o)a=this.createProvider(o);else return}}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),a==null||a.closeConnection(),a=null;return}if(i.signal.aborted){a==null||a.closeConnection(),this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}if(!a){ec("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(r=this.provider)===null||r===void 0||r.closeConnection(),this.provider=a,a.listen(this.walletEventsListener.bind(this));const d=()=>{this.tracker.trackConnectionRestoringError("Connection restoring was aborted"),a==null||a.closeConnection(),a=null};i.signal.addEventListener("abort",d);const l=v0(h=>st(this,void 0,void 0,function*(){yield a==null?void 0:a.restoreConnection({openingDeadlineMS:e==null?void 0:e.openingDeadlineMS,signal:h.signal}),i.signal.removeEventListener("abort",d),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:2e3,signal:e==null?void 0:e.signal}),f=new Promise(h=>setTimeout(()=>h(),12e3));return Promise.race([l,f])})}sendTransaction(e,n){return st(this,void 0,void 0,function*(){const r={};typeof n=="function"?r.onRequestSent=n:(r.onRequestSent=n==null?void 0:n.onRequestSent,r.signal=n==null?void 0:n.signal);const i=ko(r==null?void 0:r.signal);if(i.signal.aborted)throw new _t("Transaction sending was aborted");this.checkConnection();const s=e.messages.length,o=e.messages.some(v=>v.extraCurrency&&Object.keys(v.extraCurrency).length>0);fD(this.wallet.device.features,{requiredMessagesNumber:s,requireExtraCurrencies:o}),this.tracker.trackTransactionSentForSignature(this.wallet,e);const{validUntil:a,messages:d}=e,l=mE(e,["validUntil","messages"]),f=e.from||this.account.address,h=e.network||this.account.chain,g=yield this.provider.sendRequest(wg.convertToRpcRequest(Object.assign(Object.assign({},l),{from:f,network:h,valid_until:a,messages:d.map(v=>{var{extraCurrency:w}=v,x=mE(v,["extraCurrency"]);return Object.assign(Object.assign({},x),{extra_currency:w})})})),{onRequestSent:r.onRequestSent,signal:i.signal});if(wg.isError(g))return this.tracker.trackTransactionSigningFailed(this.wallet,e,g.error.message,g.error.code),wg.parseAndThrowError(g);const y=wg.convertFromRpcResponse(g);return this.tracker.trackTransactionSigned(this.wallet,e,y),y})}disconnect(e){var n;return st(this,void 0,void 0,function*(){if(!this.connected)throw new _m;const r=ko(e==null?void 0:e.signal),i=this.abortController;if(this.abortController=r,r.signal.aborted)throw new _t("Disconnect was aborted");this.onWalletDisconnected("dapp"),yield(n=this.provider)===null||n===void 0?void 0:n.disconnect({signal:r.signal}),i==null||i.abort()})}pauseConnection(){var e;((e=this.provider)===null||e===void 0?void 0:e.type)==="http"&&this.provider.pause()}unPauseConnection(){var e;return((e=this.provider)===null||e===void 0?void 0:e.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){const e=iD();if(e)try{e.addEventListener("visibilitychange",()=>{e.hidden?this.pauseConnection():this.unPauseConnection().catch()})}catch(n){ec("Cannot subscribe to the document.visibilitychange: ",n)}}createProvider(e){let n;return!Array.isArray(e)&&qM(e)?n=new Es(this.dappSettings.storage,e.jsBridgeKey):n=new j0(this.dappSettings.storage,e),n.listen(this.walletEventsListener.bind(this)),n}walletEventsListener(e){switch(e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){const n=e.items.find(s=>s.name==="ton_addr"),r=e.items.find(s=>s.name==="ton_proof");if(!n)throw new _t("ton_addr connection item was not found");const i={device:e.device,provider:this.provider.type,account:{address:n.address,chain:n.network,walletStateInit:n.walletStateInit,publicKey:n.publicKey}};r&&(i.connectItems={tonProof:r}),this.wallet=i,this.tracker.trackConnectionCompleted(i)}onWalletConnectError(e){const n=VM.parseError(e);if(this.statusChangeErrorSubscriptions.forEach(r=>r(n)),ci(n),this.tracker.trackConnectionError(e.message,e.code),n instanceof _y||n instanceof Ay)throw ec(n),n}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}checkConnection(){if(!this.connected)throw new _m}createConnectRequest(e){const n=[{name:"ton_addr"}];return e!=null&&e.tonProof&&n.push({name:"ton_proof",payload:e.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:n}}}Iu.walletsList=new d3;Iu.isWalletInjected=t=>Es.isWalletInjected(t);Iu.isInsideWalletBrowser=t=>Es.isInsideWalletBrowser(t);const gD=81,mD=128;function o5(t,e=!1){const{wc:n,hex:r}=yD(t);let i=gD;e&&(i|=mD);const s=new Int8Array(34);s[0]=i,s[1]=n,s.set(r,2);const o=new Uint8Array(36);return o.set(s),o.set(wD(s),34),X4.encode(o).replace(/\+/g,"-").replace(/\//g,"_")}function yD(t){if(!t.includes(":"))throw new Zd(`Wrong address ${t}. Address must include ":".`);const e=t.split(":");if(e.length!==2)throw new Zd(`Wrong address ${t}. Address must include ":" only once.`);const n=parseInt(e[0]);if(n!==0&&n!==-1)throw new Zd(`Wrong address ${t}. WC must be eq 0 or -1, but ${n} received.`);const r=e[1];if((r==null?void 0:r.length)!==64)throw new Zd(`Wrong address ${t}. Hex part must be 64bytes length, but ${r==null?void 0:r.length} received.`);return{wc:n,hex:vD(r)}}function wD(t){let n=0;const r=new Uint8Array(t.length+2);r.set(t);for(let i of r){let s=128;for(;s>0;)n<<=1,i&s&&(n+=1),s>>=1,n>65535&&(n&=65535,n^=4129)}return new Uint8Array([Math.floor(n/256),n%256])}const f3={};for(let t=0;t<=255;t++){let e=t.toString(16);e.length<2&&(e="0"+e),f3[e]=t}function vD(t){t=t.toLowerCase();const e=t.length;if(e%2!==0)throw new xm("Hex string must have length a multiple of 2: "+t);const n=e/2,r=new Uint8Array(n);for(let i=0;i<n;i++){const s=i*2,o=t.substring(s,s+2);if(!f3.hasOwnProperty(o))throw new xm("Invalid hex character: "+o);r[i]=f3[o]}return r}var o0={exports:{}},bD=o0.exports,bE;function CD(){return bE||(bE=1,function(t,e){(function(n,r){var i="1.0.40",s="",o="?",a="function",d="undefined",l="object",f="string",h="major",g="model",y="name",v="type",w="vendor",x="version",k="architecture",N="console",R="mobile",L="tablet",O="smarttv",D="wearable",F="embedded",q=500,$="Amazon",H="Apple",P="ASUS",m="BlackBerry",C="Browser",S="Chrome",_="Edge",I="Firefox",j="Google",W="Huawei",B="LG",E="Microsoft",U="Motorola",J="Opera",ie="Samsung",ce="Sharp",ue="Sony",Ae="Xiaomi",$e="Zebra",le="Facebook",re="Chromium OS",ae="Mac OS",Ce=" Browser",we=function(Pt,dt){var Ke={};for(var bn in Pt)dt[bn]&&dt[bn].length%2===0?Ke[bn]=dt[bn].concat(Pt[bn]):Ke[bn]=Pt[bn];return Ke},Se=function(Pt){for(var dt={},Ke=0;Ke<Pt.length;Ke++)dt[Pt[Ke].toUpperCase()]=Pt[Ke];return dt},Ze=function(Pt,dt){return typeof Pt===f?Me(dt).indexOf(Me(Pt))!==-1:!1},Me=function(Pt){return Pt.toLowerCase()},wt=function(Pt){return typeof Pt===f?Pt.replace(/[^\d\.]/g,s).split(".")[0]:r},en=function(Pt,dt){if(typeof Pt===f)return Pt=Pt.replace(/^\s\s*/,s),typeof dt===d?Pt:Pt.substring(0,q)},je=function(Pt,dt){for(var Ke=0,bn,an,tn,fn,Ge,cn;Ke<dt.length&&!Ge;){var Zi=dt[Ke],On=dt[Ke+1];for(bn=an=0;bn<Zi.length&&!Ge&&Zi[bn];)if(Ge=Zi[bn++].exec(Pt),Ge)for(tn=0;tn<On.length;tn++)cn=Ge[++an],fn=On[tn],typeof fn===l&&fn.length>0?fn.length===2?typeof fn[1]==a?this[fn[0]]=fn[1].call(this,cn):this[fn[0]]=fn[1]:fn.length===3?typeof fn[1]===a&&!(fn[1].exec&&fn[1].test)?this[fn[0]]=cn?fn[1].call(this,cn,fn[2]):r:this[fn[0]]=cn?cn.replace(fn[1],fn[2]):r:fn.length===4&&(this[fn[0]]=cn?fn[3].call(this,cn.replace(fn[1],fn[2])):r):this[fn]=cn||r;Ke+=2}},At=function(Pt,dt){for(var Ke in dt)if(typeof dt[Ke]===l&&dt[Ke].length>0){for(var bn=0;bn<dt[Ke].length;bn++)if(Ze(dt[Ke][bn],Pt))return Ke===o?r:Ke}else if(Ze(dt[Ke],Pt))return Ke===o?r:Ke;return dt.hasOwnProperty("*")?dt["*"]:Pt},Nn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Zt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},on={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,J+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[y,J+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[y,J]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[x,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,x],[/quark(?:pc)?\/([-\w\.]+)/i],[x,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[x,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[y,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+C],x],[/\bfocus\/([\w\.]+)/i],[x,[y,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,J+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,J+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI"+Ce]],[/fxios\/([\w\.-]+)/i],[x,[y,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[x,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],x],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+Ce],x],[/samsungbrowser\/([\w\.]+)/i],[x,[y,ie+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[x,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,x],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[x,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,le],x],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,S+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,S+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,At,Nn]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[y,[x,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[k,"amd64"]],[/(ia32(?=;))/i],[[k,Me]],[/((?:i[346]|x)86)[;\)]/i],[[k,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[k,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[k,"armhf"]],[/windows (ce|mobile); ppc;/i],[[k,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[k,/ower/,s,Me]],[/(sun4\w)[;\)]/i],[[k,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[k,Me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[w,ie],[v,L]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[w,ie],[v,R]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[w,H],[v,R]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[w,H],[v,L]],[/(macintosh);/i],[g,[w,H]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[w,ce],[v,R]],[/(?:honor)([-\w ]+)[;\)]/i],[g,[w,"Honor"],[v,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[w,W],[v,L]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[w,W],[v,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[g,/_/g," "],[w,Ae],[v,R]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[w,Ae],[v,L]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[w,"OPPO"],[v,R]],[/\b(opd2\d{3}a?) bui/i],[g,[w,"OPPO"],[v,L]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[w,"Vivo"],[v,R]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[w,"Realme"],[v,R]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[w,U],[v,R]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[w,U],[v,L]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[w,B],[v,L]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[w,B],[v,R]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[w,"Lenovo"],[v,L]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[w,"Nokia"],[v,R]],[/(pixel c)\b/i],[g,[w,j],[v,L]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[w,j],[v,R]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[w,ue],[v,R]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[w,ue],[v,L]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[w,"OnePlus"],[v,R]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[w,$],[v,L]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[w,$],[v,R]],[/(playbook);[-\w\),; ]+(rim)/i],[g,w,[v,L]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[w,m],[v,R]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[w,P],[v,L]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[w,P],[v,R]],[/(nexus 9)/i],[g,[w,"HTC"],[v,L]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[g,/_/g," "],[v,R]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[w,"TCL"],[v,L]],[/(itel) ((\w+))/i],[[w,Me],g,[v,At,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[w,"Acer"],[v,L]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[w,"Meizu"],[v,R]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[w,"Ulefone"],[v,R]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[w,"Energizer"],[v,R]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[w,"Cat"],[v,R]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[w,"Smartfren"],[v,R]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[w,"Nothing"],[v,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,g,[v,R]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,g,[v,L]],[/(surface duo)/i],[g,[w,E],[v,L]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[w,"Fairphone"],[v,R]],[/(u304aa)/i],[g,[w,"AT&T"],[v,R]],[/\bsie-(\w*)/i],[g,[w,"Siemens"],[v,R]],[/\b(rct\w+) b/i],[g,[w,"RCA"],[v,L]],[/\b(venue[\d ]{2,7}) b/i],[g,[w,"Dell"],[v,L]],[/\b(q(?:mv|ta)\w+) b/i],[g,[w,"Verizon"],[v,L]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[w,"Barnes & Noble"],[v,L]],[/\b(tm\d{3}\w+) b/i],[g,[w,"NuVision"],[v,L]],[/\b(k88) b/i],[g,[w,"ZTE"],[v,L]],[/\b(nx\d{3}j) b/i],[g,[w,"ZTE"],[v,R]],[/\b(gen\d{3}) b.+49h/i],[g,[w,"Swiss"],[v,R]],[/\b(zur\d{3}) b/i],[g,[w,"Swiss"],[v,L]],[/\b((zeki)?tb.*\b) b/i],[g,[w,"Zeki"],[v,L]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],g,[v,L]],[/\b(ns-?\w{0,9}) b/i],[g,[w,"Insignia"],[v,L]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[w,"NextBook"],[v,L]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],g,[v,R]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],g,[v,R]],[/\b(ph-1) /i],[g,[w,"Essential"],[v,R]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[w,"Envizen"],[v,L]],[/\b(trio[-\w\. ]+) b/i],[g,[w,"MachSpeed"],[v,L]],[/\btu_(1491) b/i],[g,[w,"Rotor"],[v,L]],[/(shield[\w ]+) b/i],[g,[w,"Nvidia"],[v,L]],[/(sprint) (\w+)/i],[w,g,[v,R]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[w,E],[v,R]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[w,$e],[v,L]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[w,$e],[v,R]],[/smart-tv.+(samsung)/i],[w,[v,O]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[w,ie],[v,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,B],[v,O]],[/(apple) ?tv/i],[w,[g,H+" TV"],[v,O]],[/crkey/i],[[g,S+"cast"],[w,j],[v,O]],[/droid.+aft(\w+)( bui|\))/i],[g,[w,$],[v,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[w,ce],[v,O]],[/(bravia[\w ]+)( bui|\))/i],[g,[w,ue],[v,O]],[/(mitv-\w{5}) bui/i],[g,[w,Ae],[v,O]],[/Hbbtv.*(technisat) (.*);/i],[w,g,[v,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,en],[g,en],[v,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,g,[v,N]],[/droid.+; (shield) bui/i],[g,[w,"Nvidia"],[v,N]],[/(playstation [345portablevi]+)/i],[g,[w,ue],[v,N]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[w,E],[v,N]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[g,[w,ie],[v,D]],[/((pebble))app/i],[w,g,[v,D]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[w,H],[v,D]],[/droid.+; (glass) \d/i],[g,[w,j],[v,D]],[/droid.+; (wt63?0{2,3})\)/i],[g,[w,$e],[v,D]],[/droid.+; (glass) \d/i],[g,[w,j],[v,D]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,g,[v,D]],[/; (quest( \d| pro)?)/i],[g,[w,le],[v,D]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[v,F]],[/(aeobc)\b/i],[g,[w,$],[v,F]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[v,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[v,L]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,L]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,R]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,_+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[y,x],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[y,[x,At,Zt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,At,Zt],[y,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,ae],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,x],[/\(bb(10);/i],[x,[y,m]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[y,S+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,re],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},qn=function(Pt,dt){if(typeof Pt===l&&(dt=Pt,Pt=r),!(this instanceof qn))return new qn(Pt,dt).getResult();var Ke=typeof n!==d&&n.navigator?n.navigator:r,bn=Pt||(Ke&&Ke.userAgent?Ke.userAgent:s),an=Ke&&Ke.userAgentData?Ke.userAgentData:r,tn=dt?we(on,dt):on,fn=Ke&&Ke.userAgent==bn;return this.getBrowser=function(){var Ge={};return Ge[y]=r,Ge[x]=r,je.call(Ge,bn,tn.browser),Ge[h]=wt(Ge[x]),fn&&Ke&&Ke.brave&&typeof Ke.brave.isBrave==a&&(Ge[y]="Brave"),Ge},this.getCPU=function(){var Ge={};return Ge[k]=r,je.call(Ge,bn,tn.cpu),Ge},this.getDevice=function(){var Ge={};return Ge[w]=r,Ge[g]=r,Ge[v]=r,je.call(Ge,bn,tn.device),fn&&!Ge[v]&&an&&an.mobile&&(Ge[v]=R),fn&&Ge[g]=="Macintosh"&&Ke&&typeof Ke.standalone!==d&&Ke.maxTouchPoints&&Ke.maxTouchPoints>2&&(Ge[g]="iPad",Ge[v]=L),Ge},this.getEngine=function(){var Ge={};return Ge[y]=r,Ge[x]=r,je.call(Ge,bn,tn.engine),Ge},this.getOS=function(){var Ge={};return Ge[y]=r,Ge[x]=r,je.call(Ge,bn,tn.os),fn&&!Ge[y]&&an&&an.platform&&an.platform!="Unknown"&&(Ge[y]=an.platform.replace(/chrome os/i,re).replace(/macos/i,ae)),Ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return bn},this.setUA=function(Ge){return bn=typeof Ge===f&&Ge.length>q?en(Ge,q):Ge,this},this.setUA(bn),this};qn.VERSION=i,qn.BROWSER=Se([y,x,h]),qn.CPU=Se([k]),qn.DEVICE=Se([g,w,v,N,R,O,L,D,F]),qn.ENGINE=qn.OS=Se([y,x]),t.exports&&(e=t.exports=qn),e.UAParser=qn;var Ft=typeof n!==d&&(n.jQuery||n.Zepto);if(Ft&&!Ft.ua){var Kt=new qn;Ft.ua=Kt.getResult(),Ft.ua.get=function(){return Kt.getUA()},Ft.ua.set=function(Pt){Kt.setUA(Pt);var dt=Kt.getResult();for(var Ke in dt)Ft.ua[Ke]=dt[Ke]}}})(typeof window=="object"?window:bD)}(o0,o0.exports)),o0.exports}var ED=CD();const AD=Uo(ED);var eb,CE;function _D(){if(CE)return eb;CE=1;var t=function(N){return e(N)&&!n(N)};function e(k){return!!k&&typeof k=="object"}function n(k){var N=Object.prototype.toString.call(k);return N==="[object RegExp]"||N==="[object Date]"||s(k)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(k){return k.$$typeof===i}function o(k){return Array.isArray(k)?[]:{}}function a(k,N){return N.clone!==!1&&N.isMergeableObject(k)?w(o(k),k,N):k}function d(k,N,R){return k.concat(N).map(function(L){return a(L,R)})}function l(k,N){if(!N.customMerge)return w;var R=N.customMerge(k);return typeof R=="function"?R:w}function f(k){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(k).filter(function(N){return Object.propertyIsEnumerable.call(k,N)}):[]}function h(k){return Object.keys(k).concat(f(k))}function g(k,N){try{return N in k}catch{return!1}}function y(k,N){return g(k,N)&&!(Object.hasOwnProperty.call(k,N)&&Object.propertyIsEnumerable.call(k,N))}function v(k,N,R){var L={};return R.isMergeableObject(k)&&h(k).forEach(function(O){L[O]=a(k[O],R)}),h(N).forEach(function(O){y(k,O)||(g(k,O)&&R.isMergeableObject(N[O])?L[O]=l(O,R)(k[O],N[O],R):L[O]=a(N[O],R))}),L}function w(k,N,R){R=R||{},R.arrayMerge=R.arrayMerge||d,R.isMergeableObject=R.isMergeableObject||t,R.cloneUnlessOtherwiseSpecified=a;var L=Array.isArray(N),O=Array.isArray(k),D=L===O;return D?L?R.arrayMerge(k,N,R):v(k,N,R):a(N,R)}w.all=function(N,R){if(!Array.isArray(N))throw new Error("first argument should be an array");return N.reduce(function(L,O){return w(L,O,R)},{})};var x=w;return eb=x,eb}var xD=_D();const SD=Uo(xD);var tb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var EE;function ID(){return EE||(EE=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(tb)),tb.exports}var TD=ID();const nm=Uo(TD);var PD=Object.defineProperty,ND=Object.defineProperties,kD=Object.getOwnPropertyDescriptors,AE=Object.getOwnPropertySymbols,RD=Object.prototype.hasOwnProperty,OD=Object.prototype.propertyIsEnumerable,h3=(t,e,n)=>e in t?PD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wn=(t,e)=>{for(var n in e||(e={}))RD.call(e,n)&&h3(t,n,e[n]);if(AE)for(var n of AE(e))OD.call(e,n)&&h3(t,n,e[n]);return t},Us=(t,e)=>ND(t,kD(e)),Tt=(t,e,n)=>(h3(t,typeof e!="symbol"?e+"":e,n),n),Dn=(t,e,n)=>new Promise((r,i)=>{var s=d=>{try{a(n.next(d))}catch(l){i(l)}},o=d=>{try{a(n.throw(d))}catch(l){i(l)}},a=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,o);a((n=n.apply(t,e)).next())}),_E,xE,SE,IE,TE,PE,NE,kE;const Rr={};function MD(t){Rr.context=t}const DD=(t,e)=>t===e,Do=Symbol("solid-proxy"),p3=Symbol("solid-track"),Sm={equals:DD};let FS=KS;const hc=1,Im=2,jS={owned:null,cleanups:null,context:null,owner:null},nb={};var di=null;let Cu=null,Dr=null,Ki=null,tc=null,a5=0;function E0(t,e){const n=Dr,r=di,i=t.length===0,s=i?jS:{owned:null,cleanups:null,context:null,owner:e===void 0?r:e},o=i?t:()=>t(()=>Ai(()=>Oy(s)));di=s,Dr=null;try{return El(o,!0)}finally{Dr=n,di=r}}function Dt(t,e){e=e?Object.assign({},Sm,e):Sm;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),VS(n,i));return[HS.bind(n),r]}function c5(t,e,n){const r=Ry(t,e,!0,hc);Wf(r)}function wn(t,e,n){const r=Ry(t,e,!1,hc);Wf(r)}function fi(t,e,n){FS=zD;const r=Ry(t,e,!1,hc);r.user=!0,tc?tc.push(r):Wf(r)}function ot(t,e,n){n=n?Object.assign({},Sm,n):Sm;const r=Ry(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Wf(r),HS.bind(r)}function $D(t,e,n){let r,i,s;arguments.length===1?(r=!0,i=t,s={}):(r=t,i=e,s={});let o=null,a=nb,d=null,l=!1,f="initialValue"in s,h=typeof r=="function"&&ot(r);const g=new Set,[y,v]=(s.storage||Dt)(s.initialValue),[w,x]=Dt(void 0),[k,N]=Dt(void 0,{equals:!1}),[R,L]=Dt(f?"ready":"unresolved");if(Rr.context){d=`${Rr.context.id}${Rr.context.count++}`;let $;s.ssrLoadFrom==="initial"?a=s.initialValue:Rr.load&&($=Rr.load(d))&&(a=$[0])}function O($,H,P,m){return o===$&&(o=null,f=!0,($===a||H===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(m,{value:H})),a=nb,D(H,P)),H}function D($,H){El(()=>{H===void 0&&v(()=>$),L(H!==void 0?"errored":"ready"),x(H);for(const P of g.keys())P.decrement();g.clear()},!1)}function F(){const $=BD,H=y(),P=w();if(P!==void 0&&!o)throw P;return Dr&&Dr.user,H}function q($=!0){if($!==!1&&l)return;l=!1;const H=h?h():r;if(H==null||H===!1){O(o,Ai(y));return}const P=a!==nb?a:Ai(()=>i(H,{value:y(),refetching:$}));return typeof P!="object"||!(P&&"then"in P)?(O(o,P,void 0,H),P):(o=P,l=!0,queueMicrotask(()=>l=!1),El(()=>{L(f?"refreshing":"pending"),N()},!1),P.then(m=>O(P,m,void 0,H),m=>O(P,void 0,QS(m),H)))}return Object.defineProperties(F,{state:{get:()=>R()},error:{get:()=>w()},loading:{get(){const $=R();return $==="pending"||$==="refreshing"}},latest:{get(){if(!f)return F();const $=w();if($&&!o)throw $;return y()}}}),h?c5(()=>q(!1)):q(!1),[F,{refetch:q,mutate:v}]}function zS(t){return El(t,!1)}function Ai(t){if(Dr===null)return t();const e=Dr;Dr=null;try{return t()}finally{Dr=e}}function LD(t,e,n){const r=Array.isArray(t);let i;return s=>{let o;if(r){o=Array(t.length);for(let d=0;d<t.length;d++)o[d]=t[d]()}else o=t();const a=Ai(()=>e(o,i,s));return i=o,a}}function WS(t){fi(()=>Ai(t))}function ss(t){return di===null||(di.cleanups===null?di.cleanups=[t]:di.cleanups.push(t)),t}function qS(){return Dr}function UD(){return di}function Ny(t,e){const n=Symbol("context");return{id:n,Provider:WD(n),defaultValue:t}}function os(t){let e;return(e=ZS(di,t.id))!==void 0?e:t.defaultValue}function ky(t){const e=ot(t),n=ot(()=>g3(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let BD;function HS(){const t=Cu;if(this.sources&&(this.state||t))if(this.state===hc||t)Wf(this);else{const e=Ki;Ki=null,El(()=>Pm(this),!1),Ki=e}if(Dr){const e=this.observers?this.observers.length:0;Dr.sources?(Dr.sources.push(this),Dr.sourceSlots.push(e)):(Dr.sources=[this],Dr.sourceSlots=[e]),this.observers?(this.observers.push(Dr),this.observerSlots.push(Dr.sources.length-1)):(this.observers=[Dr],this.observerSlots=[Dr.sources.length-1])}return this.value}function VS(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&El(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=Cu&&Cu.running;o&&Cu.disposed.has(s),(o&&!s.tState||!o&&!s.state)&&(s.pure?Ki.push(s):tc.push(s),s.observers&&GS(s)),o||(s.state=hc)}if(Ki.length>1e6)throw Ki=[],new Error},!1)),e}function Wf(t){if(!t.fn)return;Oy(t);const e=di,n=Dr,r=a5;Dr=di=t,FD(t,t.value,r),Dr=n,di=e}function FD(t,e,n){let r;try{r=t.fn(e)}catch(i){t.pure&&(t.state=hc,t.owned&&t.owned.forEach(Oy),t.owned=null),YS(i)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?VS(t,r):t.value=r,t.updatedAt=n)}function Ry(t,e,n,r=hc,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:di,context:null,pure:n};return di===null||di!==jS&&(di.owned?di.owned.push(s):di.owned=[s]),s}function Tm(t){const e=Cu;if(t.state===0||e)return;if(t.state===Im||e)return Pm(t);if(t.suspense&&Ai(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<a5);)(t.state||e)&&n.push(t);for(let r=n.length-1;r>=0;r--)if(t=n[r],t.state===hc||e)Wf(t);else if(t.state===Im||e){const i=Ki;Ki=null,El(()=>Pm(t,n[0]),!1),Ki=i}}function El(t,e){if(Ki)return t();let n=!1;e||(Ki=[]),tc?n=!0:tc=[],a5++;try{const r=t();return jD(n),r}catch(r){n||(tc=null),Ki=null,YS(r)}}function jD(t){if(Ki&&(KS(Ki),Ki=null),t)return;const e=tc;tc=null,e.length&&El(()=>FS(e),!1)}function KS(t){for(let e=0;e<t.length;e++)Tm(t[e])}function zD(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Tm(r)}for(Rr.context&&MD(),e=0;e<n;e++)Tm(t[e])}function Pm(t,e){const n=Cu;t.state=0;for(let r=0;r<t.sources.length;r+=1){const i=t.sources[r];i.sources&&(i.state===hc||n?i!==e&&Tm(i):(i.state===Im||n)&&Pm(i,e))}}function GS(t){const e=Cu;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!r.state||e)&&(r.state=Im,r.pure?Ki.push(r):tc.push(r),r.observers&&GS(r))}}function Oy(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(t.owned){for(e=0;e<t.owned.length;e++)Oy(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function QS(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function YS(t){throw t=QS(t),t}function ZS(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:ZS(t.owner,e):void 0}function g3(t){if(typeof t=="function"&&!t.length)return g3(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=g3(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function WD(t,e){return function(r){let i;return wn(()=>i=Ai(()=>(di.context={[t]:r.value},ky(()=>r.children))),void 0),i}}const qD=Symbol("fallback");function RE(t){for(let e=0;e<t.length;e++)t[e]()}function HD(t,e,n={}){let r=[],i=[],s=[],o=0,a=e.length>1?[]:null;return ss(()=>RE(s)),()=>{let d=t()||[],l,f;return d[p3],Ai(()=>{let g=d.length,y,v,w,x,k,N,R,L,O;if(g===0)o!==0&&(RE(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[qD],i[0]=E0(D=>(s[0]=D,n.fallback())),o=1);else if(o===0){for(i=new Array(g),f=0;f<g;f++)r[f]=d[f],i[f]=E0(h);o=g}else{for(w=new Array(g),x=new Array(g),a&&(k=new Array(g)),N=0,R=Math.min(o,g);N<R&&r[N]===d[N];N++);for(R=o-1,L=g-1;R>=N&&L>=N&&r[R]===d[L];R--,L--)w[L]=i[R],x[L]=s[R],a&&(k[L]=a[R]);for(y=new Map,v=new Array(L+1),f=L;f>=N;f--)O=d[f],l=y.get(O),v[f]=l===void 0?-1:l,y.set(O,f);for(l=N;l<=R;l++)O=r[l],f=y.get(O),f!==void 0&&f!==-1?(w[f]=i[l],x[f]=s[l],a&&(k[f]=a[l]),f=v[f],y.set(O,f)):s[l]();for(f=N;f<g;f++)f in w?(i[f]=w[f],s[f]=x[f],a&&(a[f]=k[f],a[f](f))):i[f]=E0(h);i=i.slice(0,o=g),r=d.slice(0)}return i});function h(g){if(s[f]=g,a){const[y,v]=Dt(f);return a[f]=v,e(d[f],y)}return e(d[f])}}}function Q(t,e){return Ai(()=>t(e||{}))}function vg(){return!0}const m3={get(t,e,n){return e===Do?n:t.get(e)},has(t,e){return e===Do?!0:t.has(e)},set:vg,deleteProperty:vg,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:vg,deleteProperty:vg}},ownKeys(t){return t.keys()}};function rb(t){return(t=typeof t=="function"?t():t)?t:{}}function la(...t){let e=!1;for(let r=0;r<t.length;r++){const i=t[r];e=e||!!i&&Do in i,t[r]=typeof i=="function"?(e=!0,ot(i)):i}if(e)return new Proxy({get(r){for(let i=t.length-1;i>=0;i--){const s=rb(t[i])[r];if(s!==void 0)return s}},has(r){for(let i=t.length-1;i>=0;i--)if(r in rb(t[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<t.length;i++)r.push(...Object.keys(rb(t[i])));return[...new Set(r)]}},m3);const n={};for(let r=t.length-1;r>=0;r--)if(t[r]){const i=Object.getOwnPropertyDescriptors(t[r]);for(const s in i)s in n||Object.defineProperty(n,s,{enumerable:!0,get(){for(let o=t.length-1;o>=0;o--){const a=(t[o]||{})[s];if(a!==void 0)return a}}})}return n}function l5(t,...e){const n=new Set(e.flat());if(Do in t){const i=e.map(s=>new Proxy({get(o){return s.includes(o)?t[o]:void 0},has(o){return s.includes(o)&&o in t},keys(){return s.filter(o=>o in t)}},m3));return i.push(new Proxy({get(s){return n.has(s)?void 0:t[s]},has(s){return n.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!n.has(s))}},m3)),i}const r=Object.getOwnPropertyDescriptors(t);return e.push(Object.keys(r).filter(i=>!n.has(i))),e.map(i=>{const s={};for(let o=0;o<i.length;o++){const a=i[o];a in t&&Object.defineProperty(s,a,r[a]?r[a]:{get(){return t[a]},set(){return!0},enumerable:!0})}return s})}function Bp(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ot(HD(()=>t.each,t.children,e||void 0))}function Vt(t){let e=!1;const n=t.keyed,r=ot(()=>t.when,void 0,{equals:(i,s)=>e?i===s:!i==!s});return ot(()=>{const i=r();if(i){const s=t.children,o=typeof s=="function"&&s.length>0;return e=n||o,o?Ai(()=>s(i)):s}return t.fallback},void 0,void 0)}function Fp(t){let e=!1,n=!1;const r=(o,a)=>o[0]===a[0]&&(e?o[1]===a[1]:!o[1]==!a[1])&&o[2]===a[2],i=ky(()=>t.children),s=ot(()=>{let o=i();Array.isArray(o)||(o=[o]);for(let a=0;a<o.length;a++){const d=o[a].when;if(d)return n=!!o[a].keyed,[a,d,o[a]]}return[-1]},void 0,{equals:r});return ot(()=>{const[o,a,d]=s();if(o<0)return t.fallback;const l=d.children,f=typeof l=="function"&&l.length>0;return e=n||f,f?Ai(()=>l(a)):l},void 0,void 0)}function Ri(t){return t}const VD=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],KD=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...VD]),GD=new Set(["innerHTML","textContent","innerText","children"]),QD=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),OE=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),YD=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ZD=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),JD={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function XD(t,e,n){let r=n.length,i=e.length,s=r,o=0,a=0,d=e[i-1].nextSibling,l=null;for(;o<i||a<s;){if(e[o]===n[a]){o++,a++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const f=s<r?a?n[a-1].nextSibling:n[s-a]:d;for(;a<s;)t.insertBefore(n[a++],f)}else if(s===a)for(;o<i;)(!l||!l.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[a]===e[i-1]){const f=e[--i].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--s],f),e[i]=n[s]}else{if(!l){l=new Map;let h=a;for(;h<s;)l.set(n[h],h++)}const f=l.get(e[o]);if(f!=null)if(a<f&&f<s){let h=o,g=1,y;for(;++h<i&&h<s&&!((y=l.get(e[h]))==null||y!==f+g);)g++;if(g>f-a){const v=e[o];for(;a<f;)t.insertBefore(n[a++],v)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const ME="_$DX_DELEGATE";function e$(t,e,n,r={}){let i;return E0(s=>{i=s,e===document?t():Oi(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function vn(t,e,n){if(typeof window>"u")return null;const r=document.createElement("template");r.innerHTML=t;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function t$(t,e=window.document){const n=e[ME]||(e[ME]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,l$))}}function Mt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function n$(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function u5(t,e){e==null?t.removeAttribute("class"):t.className=e}function r$(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function i$(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||e[a]||(DE(t,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],d=!!e[a];!a||a==="undefined"||n[a]===d||!d||(DE(t,a,!0),n[a]=d)}return n}function s$(t,e,n){if(!e)return n?Mt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function JS(t,e={},n,r){const i={};return wn(()=>i.children=z0(t,e.children,i.children)),wn(()=>e.ref&&e.ref(t)),wn(()=>o$(t,e,n,!0,i,!0)),i}function sf(t,e,n){return Ai(()=>t(e,n))}function Oi(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return z0(t,e,r,n);wn(i=>z0(t,e(),i,n),r)}function o$(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=$E(t,o,null,i[o],n,s)}for(const o in e){if(o==="children")continue;const a=e[o];i[o]=$E(t,o,a,i[o],n,s)}}function a$(t){let e,n;return!Rr.context||!(e=Rr.registry.get(n=u$()))?t.cloneNode(!0):(Rr.completed&&Rr.completed.add(e),Rr.registry.delete(n),e)}function c$(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function DE(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function $E(t,e,n,r,i,s){let o,a,d;if(e==="style")return s$(t,n,r);if(e==="classList")return i$(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const l=e.slice(3);r&&t.removeEventListener(l,r),n&&t.addEventListener(l,n)}else if(e.slice(0,10)==="oncapture:"){const l=e.slice(10);r&&t.removeEventListener(l,r,!0),n&&t.addEventListener(l,n,!0)}else if(e.slice(0,2)==="on"){const l=e.slice(2).toLowerCase(),f=YD.has(l);if(!f&&r){const h=Array.isArray(r)?r[0]:r;t.removeEventListener(l,h)}(f||n)&&(r$(t,l,n,f),f&&t$([l]))}else if((d=GD.has(e))||!i&&(OE[e]||(a=KD.has(e)))||(o=t.nodeName.includes("-")))e==="class"||e==="className"?u5(t,n):o&&!a&&!d?t[c$(e)]=n:t[OE[e]||e]=n;else{const l=i&&e.indexOf(":")>-1&&JD[e.split(":")[0]];l?n$(t,l,e,n):Mt(t,QD[e]||e,n)}return n}function l$(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),Rr.registry&&!Rr.done&&(Rr.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+t;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function z0(t,e,n,r,i){for(Rr.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(Rr.context)return n;if(s==="number"&&(e=e.toString()),o){let a=n[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),n=xd(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean"){if(Rr.context)return n;n=xd(t,n,r)}else{if(s==="function")return wn(()=>{let a=e();for(;typeof a=="function";)a=a();n=z0(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],d=n&&Array.isArray(n);if(y3(a,e,n,i))return wn(()=>n=z0(t,a,n,r,!0)),()=>n;if(Rr.context){if(!a.length)return n;for(let l=0;l<a.length;l++)if(a[l].parentNode)return n=a}if(a.length===0){if(n=xd(t,n,r),o)return n}else d?n.length===0?LE(t,a,r):XD(t,n,a):(n&&xd(t),LE(t,a));n=a}else if(e instanceof Node){if(Rr.context&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=xd(t,n,r,e);xd(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function y3(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],d=n&&n[s];if(a instanceof Node)t.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))i=y3(t,a,d)||i;else if(typeof a=="function")if(r){for(;typeof a=="function";)a=a();i=y3(t,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||i}else t.push(a),i=!0;else{const l=String(a);d&&d.nodeType===3&&d.data===l?t.push(d):t.push(document.createTextNode(l))}}return i}function LE(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function xd(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const d=a.parentNode===t;!s&&!o?d?t.replaceChild(i,a):t.insertBefore(i,n):d&&a.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}function u$(){const t=Rr.context;return`${t.id}${t.count++}`}const d$="http://www.w3.org/2000/svg";function XS(t,e=!1){return e?document.createElementNS(d$,t):document.createElement(t)}function eI(t){const{useShadow:e}=t,n=document.createTextNode(""),r=t.mount||document.body;function i(){if(Rr.context){const[s,o]=Dt(!1);return queueMicrotask(()=>o(!0)),()=>s()&&t.children}else return()=>t.children}if(r instanceof HTMLHeadElement){const[s,o]=Dt(!1),a=()=>o(!0);E0(d=>Oi(r,()=>s()?d():i()(),null)),ss(()=>{Rr.context?queueMicrotask(a):a()})}else{const s=XS(t.isSVG?"g":"div",t.isSVG),o=e&&s.attachShadow?s.attachShadow({mode:"open"}):s;Object.defineProperty(s,"_$host",{get(){return n.parentNode},configurable:!0}),Oi(o,i()),r.appendChild(s),t.ref&&t.ref(s),ss(()=>r.removeChild(s))}return n}function Af(t){const[e,n]=l5(t,["component"]),r=ot(()=>e.component);return ot(()=>{const i=r();switch(typeof i){case"function":return Ai(()=>i(n));case"string":const s=ZD.has(i),o=Rr.context?a$():XS(i,s);return JS(o,n,s),o}})}var Lr=(t=>(t.DARK="DARK",t.LIGHT="LIGHT",t))(Lr||{});let f$={data:""},h$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||f$,p$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,g$=/\/\*[^]*?\*\/|  +/g,UE=/\n+/g,ru=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ru(o,s):s+"{"+ru(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ru(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,a):a?a+" "+d:d)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ru.p?ru.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Da={},tI=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+tI(t[n]);return e}return t},m$=(t,e,n,r,i)=>{let s=tI(t),o=Da[s]||(Da[s]=(d=>{let l=0,f=11;for(;l<d.length;)f=101*f+d.charCodeAt(l++)>>>0;return"go"+f})(s));if(!Da[o]){let d=s!==t?t:(l=>{let f,h,g=[{}];for(;f=p$.exec(l.replace(g$,""));)f[4]?g.shift():f[3]?(h=f[3].replace(UE," ").trim(),g.unshift(g[0][h]=g[0][h]||{})):g[0][f[1]]=f[2].replace(UE," ").trim();return g[0]})(t);Da[o]=ru(i?{["@keyframes "+o]:d}:d,n?"":"."+o)}let a=n&&Da.g?Da.g:null;return n&&(Da.g=Da[o]),((d,l,f,h)=>{h?l.data=l.data.replace(h,d):l.data.indexOf(d)===-1&&(l.data=f?d+l.data:l.data+d)})(Da[o],e,r,a),o},y$=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),d=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=d?"."+d:a&&typeof a=="object"?a.props?"":ru(a,""):a===!1?"":a}return r+i+(o??"")},"");function cc(t){let e=this||{},n=t.call?t(e.p):t;return m$(n.unshift?n.raw?y$(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,h$(e.target),e.g,e.o,e.k)}cc.bind({g:1});let w$=cc.bind({k:1});const d5=Ny();function v$(t){return Q(d5.Provider,{value:t.theme,get children(){return t.children}})}function br(){return os(d5)}function nI(t){let e=this||{};return(...n)=>{const r=i=>{const s=os(d5),o=la(i,{theme:s}),a=la(o,{get class(){const y=o.class,v="class"in o&&/^go[0-9]+/.test(y);let w=cc.apply({target:e.target,o:v,p:o,g:e.g},n);return[y,w].filter(Boolean).join(" ")}}),[d,l]=l5(a,["as","theme"]),f=l,h=d.as||t;let g;return typeof h=="function"?g=h(f):e.g==1?(g=document.createElement(h),JS(g,f)):g=Af(la({component:h},f)),g};return r.class=i=>Ai(()=>cc.apply({target:e.target,p:i,g:e.g},n)),r}}const Ee=new Proxy(nI,{get(t,e){return t(e)}});function b$(){const t=nI.call({g:1},"div").apply(null,arguments);return function(n){return t(n),null}}const Ga="tc-root",f5="tc-disable-scroll",ib="tc-using-mouse",C$=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(ib)),document.body.addEventListener("keydown",e=>{e.key==="Tab"&&document.body.classList.remove(ib)});const t=b$`
    ${Ga} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${Ga} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${Ga} *:focus {
        outline: #08f auto 2px;
    }
    
    ${Ga} li {
        list-style: none;
    }
    
    ${Ga} button {
        outline: none;
    }
    
    body.${f5} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${ib} ${Ga} *:focus {
        outline: none;
    }
`;return Q(t,{})};function E$(t){t[0]==="#"&&(t=t.slice(1));const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i].join(",")}function Vu(t,e){return t[0]==="#"&&(t=E$(t)),`rgba(${t}, ${e})`}function ua(t){return t.toString()+"px"}const a0=class{constructor(){Tt(this,"storage",{})}static getInstance(){return a0.instance||(a0.instance=new a0),a0.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(t){var e;return(e=this.storage[t])!=null?e:null}key(t){var e;const n=Object.keys(this.storage);return t<0||t>=n.length?null:(e=n[t])!=null?e:null}removeItem(t){delete this.storage[t]}setItem(t,e){this.storage[t]=e}};let rI=a0;Tt(rI,"instance");class Gr extends _t{constructor(...e){super(...e),Object.setPrototypeOf(this,Gr.prototype)}}function rm(...t){try{console.debug("[TON_CONNECT_UI]",...t)}catch{}}function A$(...t){try{console.error("[TON_CONNECT_UI]",...t)}catch{}}function _$(...t){try{console.warn("[TON_CONNECT_UI]",...t)}catch{}}function A0(t,e="_self"){rm("openLink",t,e),window.open(t,e,"noopener noreferrer")}function hr(t){A0(t,"_blank")}function al(t,e){const n=()=>{sn("safari")||Po("android")&&sn("firefox")||e()},r=setTimeout(()=>n(),200);window.addEventListener("blur",()=>clearTimeout(r),{once:!0}),A0(t,"_self")}function x$(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Lr.LIGHT:Lr.DARK}function S$(t){const e=n=>t(n.matches?Lr.DARK:Lr.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}function I$(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=ua(-document.documentElement.scrollTop),document.body.classList.add(f5))}function T$(){document.body.classList.remove(f5),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function P$(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function N$(){customElements.define(Ga,class extends HTMLElement{})}function iI(t){return Dn(this,null,function*(){yield new Promise(e=>requestAnimationFrame(e)),t()})}function k$(t){return Dn(this,null,function*(){return yield new Promise(e=>requestAnimationFrame(e)),t()})}function sI(t){document.readyState!=="complete"?window.addEventListener("load",()=>iI(()=>sI(t)),{once:!0}):t.forEach(e=>{const n=new window.Image;n.src=e})}function Ca(){if(typeof window<"u")return window}function h5(){if(R$())return localStorage;if(O$())throw new Gr("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return rI.getInstance()}function R$(){try{return typeof localStorage<"u"}catch{return!1}}function O$(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function p5(){var t,e,n;const r=new AD().getResult(),i=(t=r.os.name)==null?void 0:t.toLowerCase(),s=(e=r.device.model)==null?void 0:e.toLowerCase();let o;switch(!0){case s==="ipad":o="ipad";break;case i==="ios":o="ios";break;case i==="android":o="android";break;case i==="mac os":o="macos";break;case i==="linux":o="linux";break;case(i==null?void 0:i.includes("windows")):o="windows";break}const a=(n=r.browser.name)==null?void 0:n.toLowerCase();let d;switch(!0){case a==="chrome":d="chrome";break;case a==="firefox":d="firefox";break;case(a==null?void 0:a.includes("safari")):d="safari";break;case(a==null?void 0:a.includes("opera")):d="opera";break}return{os:o,browser:d}}function Po(...t){return t.includes(p5().os)}function sn(...t){return t.includes(p5().browser)}function bg(t,e){const n=new URL(t);return e+n.search}class M${constructor(){Tt(this,"localStorage"),Tt(this,"storageKey","ton-connect-ui_wallet-info"),this.localStorage=h5()}setWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getWalletInfo(){const e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}}class D${constructor(){Tt(this,"localStorage"),Tt(this,"storageKey","ton-connect-ui_preferred-wallet"),this.localStorage=h5()}setPreferredWalletAppName(e){this.localStorage.setItem(this.storageKey,e)}getPreferredWalletAppName(){return this.localStorage.getItem(this.storageKey)||void 0}}class oI{constructor(){Tt(this,"localStorage"),Tt(this,"storageKey","ton-connect-ui_last-selected-wallet-info"),this.localStorage=h5()}setLastSelectedWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getLastSelectedWalletInfo(){const e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[w3,BE]=Dt({status:"closed",closeReason:null}),FE=ot(()=>w3().status==="opened"),[Nm,jE]=Dt({status:"closed",closeReason:null}),zE=ot(()=>Nm().status==="opened"),$$=ot(()=>{const t=Nm();return t.status==="opened"?t.walletInfo:null});let Jd=typeof window<"u"?new oI:void 0;const[L$,U$]=Dt((Jd==null?void 0:Jd.getLastSelectedWalletInfo())||null),Mi=t=>{Jd||(Jd=new oI),t?Jd.setLastSelectedWalletInfo(t):Jd.removeLastSelectedWalletInfo(),U$(t)},[Ja,Xd]=Dt(null),B$={close:"Close",openWallet:"Open wallet",copyLink:"Copy Link",linkCopied:"Link Copied",copied:"Copied",yourWallet:"Your Wallet",retry:"Retry",get:"GET",mobile:"Mobile",browserExtension:"Browser Extension",desktop:"Desktop"},F$={connectWallet:"Connect Wallet",dropdown:{copy:"Copy address",copied:"Address copied!",disconnect:"Disconnect"}},j$={confirm:{header:"Open {{ name }} to confirm the transaction."},transactionSent:{header:"Transaction sent",text:"Your transaction will be processed in a few seconds."},transactionCanceled:{header:"Transaction canceled",text:"There will be no changes to your account."}},z$={walletOn:"Wallet in",recent:"Recent",installed:"Installed",popular:"Popular"},W$={loading:"Loading wallets",wallets:"Wallets",mobileUniversalModal:{connectYourWallet:"Connect your TON wallet",openWalletOnTelegramOrSelect:"Use Wallet in Telegram or choose other application",openWalletOnTelegram:"Connect Wallet in Telegram",chooseOtherApplication:"Choose other application",openLink:"Open Link",scan:"Scan with your mobile wallet"},desktopUniversalModal:{connectYourWallet:"Connect your TON wallet",scan:"Scan with your mobile wallet",availableWallets:"Available wallets"},mobileConnectionModal:{showQR:"Show QR Code",scanQR:"Scan the QR code below with your phone’s or {{ name }}’s camera",continueIn:"Continue in {{ name }}…",connectionDeclined:"Connection declined"},desktopConnectionModal:{scanQR:"Scan the QR code below with your phone’s or {{ name }}’s camera",continueInExtension:"Continue in {{ name }} browser extension…",dontHaveExtension:"Seems you don't have installed {{ name }} browser extension",getWallet:"Get {{ name }}",continueOnDesktop:"Continue in {{ name }} on desktop…",openWalletOnTelegram:"Connect Wallet in Telegram on desktop",connectionDeclined:"Connection declined"},infoModal:{whatIsAWallet:"What is a wallet",secureDigitalAssets:"Secure digital assets storage",walletProtects:"A wallet protects and manages your digital assets including TON, tokens and collectables.",controlIdentity:"Control your Web3 identity",manageIdentity:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in the blockchain ecosystem.",effortlessCryptoTransactions:"Effortless crypto transactions",easilySend:"Easily send, receive, monitor your cryptocurrencies. Streamline your operations with decentralized applications.",getAWallet:"Get a Wallet"}},q$={confirmTransaction:{header:"Confirm the transaction in {{ name }}",text:"It will only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},H$={common:B$,button:F$,notifications:j$,walletItem:z$,walletModal:W$,actionModal:q$},V$={close:"Закрыть",openWallet:"Открыть кошелёк",copyLink:"Скопировать",linkCopied:"Ссылка скопирована",copied:"Скопировано",yourWallet:"Ваш кошелёк",retry:"Повторить",get:"Скачать",mobile:"Мобильный",browserExtension:"Расширение",desktop:"Десктоп"},K$={connectWallet:"Подключить кошелёк",dropdown:{copy:"Скопировать адрес",copied:"Адрес скопирован!",disconnect:"Отключить кошелёк"}},G$={confirm:{header:"Откройте {{ name }}, чтобы подтвердить транзакцию."},transactionSent:{header:"Транзакция отправлена",text:"Ваша транзакция будет обработана через несколько секунд."},transactionCanceled:{header:"Транзакция отменена",text:"Состояние вашего счёта не изменится."}},Q$={walletOn:"Wallet в",recent:"Недавний",installed:"Установлен",popular:"Популярен"},Y$={loading:"Кошельки загружаются",wallets:"Кошельки",mobileUniversalModal:{connectYourWallet:"Подключите TON кошелёк",openWalletOnTelegramOrSelect:"Подключите Wallet в Telegram или выберете другое приложение",openWalletOnTelegram:"Открыть Wallet в Telegram",chooseOtherApplication:"Выберите другое приложение",openLink:"Открыть",scan:"Отсканируйте камерой вашего телефона"},desktopUniversalModal:{connectYourWallet:"Подключите TON кошелёк",scan:"Отсканируйте QR-код камерой вашего телефона",availableWallets:"Доступные кошельки"},mobileConnectionModal:{showQR:"Показать QR-код",scanQR:"Отсканируйте QR-код ниже камерой в приложении {{ name }}, или камерой телефона",continueIn:"Продолжите в {{ name }}…",connectionDeclined:"Подключение отклонено"},desktopConnectionModal:{scanQR:"Отсканируйте QR-код ниже камерой в приложении {{ name }}, или камерой телефона",continueInExtension:"Откройте браузерное расширение {{ name }}",dontHaveExtension:"Похоже, у вас не установлено браузерное расширение {{ name }}",getWallet:"Скачать {{ name }}",continueOnDesktop:"Откройте {{ name }} на компьютере…",openWalletOnTelegram:"Открыть Wallet в Telegram",connectionDeclined:"Подключение отклонено"},infoModal:{whatIsAWallet:"Что такое кошелёк?",secureDigitalAssets:"Надежное хранилище цифровых активов",walletProtects:"Кошелёк защищает ваши цифровые активы, включая TON, токены и предметы коллекционирования, и управляет ими.",controlIdentity:"Контроль своей личности Web3",manageIdentity:"Управляйте своей цифровой идентификацией и с легкостью получайте доступ к децентрализованным приложениям. Сохраняйте контроль над своими данными и безопасно участвуйте в экосистеме блокчейна.",effortlessCryptoTransactions:"Простые криптотранзакции",easilySend:"Легко отправляйте, получайте и отслеживайте свои криптовалюты. Оптимизируйте свои операции с помощью децентрализованных приложений.",getAWallet:"Скачать кошелёк"}},Z$={confirmTransaction:{header:"Подтвердите действие в {{ name }}",text:"Это займет пару секунд."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},J$={common:V$,button:K$,notifications:G$,walletItem:Q$,walletModal:Y$,actionModal:Z$},X$={en:WE(H$),ru:WE(J$)};function WE(t){const e="$",n=r=>{Object.entries(r).forEach(([i,s])=>{if(typeof s=="object"&&s)return n(s);if(typeof s=="string"){if(s[0]===e){const o=s.slice(1).split(".");let a=t;o.forEach(d=>{if(d in a)a=a[d];else throw new Error(`Cannot parse translations: there is no property ${d} in translation`)}),r[i]=a}s.slice(0,2)===`\\${e}`&&(r[i]=s.slice(1))}})};return n(t),t}const qf=Ny(),v3=Symbol("store-raw"),W0=Symbol("store-node"),eL=Symbol("store-name");function aI(t,e){let n=t[Do];if(!n&&(Object.defineProperty(t,Do,{value:n=new Proxy(t,rL)}),!Array.isArray(t))){const r=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let s=0,o=r.length;s<o;s++){const a=r[s];i[a].get&&Object.defineProperty(t,a,{enumerable:i[a].enumerable,get:i[a].get.bind(n)})}}return n}function km(t){let e;return t!=null&&typeof t=="object"&&(t[Do]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function _f(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[v3])return n;if(!km(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)i=t[o],(r=_f(i,e))!==i&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let d=0,l=o.length;d<l;d++)s=o[d],!a[s].get&&(i=t[s],(r=_f(i,e))!==i&&(t[s]=r))}return t}function g5(t){let e=t[W0];return e||Object.defineProperty(t,W0,{value:e={}}),e}function b3(t,e,n){return t[e]||(t[e]=lI(n))}function tL(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Do||e===W0||e===eL||(delete n.value,delete n.writable,n.get=()=>t[Do][e]),n}function cI(t){if(qS()){const e=g5(t);(e._||(e._=lI()))()}}function nL(t){return cI(t),Reflect.ownKeys(t)}function lI(t){const[e,n]=Dt(t,{equals:!1,internal:!0});return e.$=n,e}const rL={get(t,e,n){if(e===v3)return t;if(e===Do)return n;if(e===p3)return cI(t),n;const r=g5(t),i=r.hasOwnProperty(e);let s=i?r[e]():t[e];if(e===W0||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);qS()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=b3(r,e,s)())}return km(s)?aI(s):s},has(t,e){return e===v3||e===Do||e===p3||e===W0||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:nL,getOwnPropertyDescriptor:tL};function Rm(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?delete t[e]:t[e]=n;let o=g5(t),a;(a=b3(o,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==s&&(a=b3(o,"length",s))&&a.$(t.length),(a=o._)&&a.$()}function uI(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];Rm(t,i,e[i])}}function iL(t,e){if(typeof e=="function"&&(e=e(t)),e=_f(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&Rm(t,n,i)}Rm(t,"length",r)}else uI(t,e)}function c0(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let d=0;d<r.length;d++)c0(t,[r[d]].concat(e),n);return}else if(a&&o==="function"){for(let d=0;d<t.length;d++)r(t[d],d)&&c0(t,[d].concat(e),n);return}else if(a&&o==="object"){const{from:d=0,to:l=t.length-1,by:f=1}=r;for(let h=d;h<=l;h+=f)c0(t,[h].concat(e),n);return}else if(e.length>1){c0(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=_f(s),r===void 0||km(i)&&km(s)&&!Array.isArray(s)?uI(i,s):Rm(t,r,s))}function m5(...[t,e]){const n=_f(t||{}),r=Array.isArray(n),i=aI(n);function s(...o){zS(()=>{r&&o.length===1?iL(n,o[0]):c0(n,o)})}return[i,s]}const dI={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#F1F3F5"},text:{primary:"#0F0F0F",secondary:"#6A7785"}},sL={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#FFFFFF"},text:{primary:"#E5E5EA",secondary:"#7D7D85"}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function qE(t){return Object.prototype.toString.call(t)==="[object Object]"}function oL(t){var e,n;return qE(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(qE(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function pl(t,e){return t?SD(e,t,{arrayMerge:(r,i,s)=>i,isMergeableObject:oL}):e}const[aL,y5]=m5({theme:Lr.LIGHT,colors:dI,borderRadius:"m"}),fI={[Lr.LIGHT]:dI,[Lr.DARK]:sL},aa={[Lr.LIGHT]:void 0,[Lr.DARK]:void 0};function sb(t,e){e&&(aa[Lr.DARK]=pl(e[Lr.DARK],aa[Lr.DARK]),aa[Lr.LIGHT]=pl(e[Lr.LIGHT],aa[Lr.LIGHT])),y5({theme:t,colors:pl(aa[t],fI[t])})}function cL(t){y5({borderRadius:t})}function lL(t){aa[Lr.DARK]=pl(t[Lr.DARK],aa[Lr.DARK]),aa[Lr.LIGHT]=pl(t[Lr.LIGHT],aa[Lr.LIGHT]),y5(e=>({colors:pl(aa[e.theme],fI[e.theme])}))}const uL=Ee.div`
    background-color: ${t=>t.theme.colors.background.secondary};
`,Ku=t=>{let e;const[n,r]=Dt(null);return fi(()=>{const i=new window.Image;return i.src=t.src,i.alt=t.alt||"",i.setAttribute("draggable","false"),t.class&&i.classList.add(t.class),i.complete?r(i):(i.addEventListener("load",()=>r(i)),()=>i.removeEventListener("load",()=>r(i)))}),[Q(Vt,{get when(){return n()},get children(){return n()}}),Q(Vt,{get when(){return!n()},get children(){return Q(uL,{get class(){return t.class},ref(i){const s=e;typeof s=="function"?s(i):e=i}})}})]};let Eu={};try{let t=location.hash.toString();Eu=dL(t)}catch{}let xf="unknown";Eu!=null&&Eu.tgWebAppPlatform&&(xf=(_E=Eu.tgWebAppPlatform)!=null?_E:"unknown");if(xf==="unknown"){const t=Ca();xf=(IE=(SE=(xE=t==null?void 0:t.Telegram)==null?void 0:xE.WebApp)==null?void 0:SE.platform)!=null?IE:"unknown"}let Om="6.0";Eu!=null&&Eu.tgWebAppVersion&&(Om=Eu.tgWebAppVersion);if(!Om){const t=Ca();Om=(NE=(PE=(TE=t==null?void 0:t.Telegram)==null?void 0:TE.WebApp)==null?void 0:PE.version)!=null?NE:"6.0"}function au(...t){return t.includes(xf)}function fa(){var t;return xf!=="unknown"||!!((t=Ca())!=null&&t.TelegramWebviewProxy)}function hI(){var t;const e=!!((t=Ca())!=null&&t.TelegramWebview);return(fa()||e)&&xf==="unknown"}function w5(){gI("web_app_expand",{})}function C3(t,e){const n=new URL(t);if(n.protocol!=="http:"&&n.protocol!=="https:"){if(e)return e();throw new Gr(`Url protocol is not supported: ${n}`)}if(n.hostname!=="t.me"){if(e)return e();throw new Gr(`Url host is not supported: ${n}`)}const r=n.pathname+n.search;pI()||pL("6.1")?gI("web_app_open_tg_link",{path_full:r}):hr("https://t.me"+r)}function pI(){try{const t=Ca();return t?t.parent!=null&&t!==t.parent:!1}catch{return!1}}function gI(t,e){try{const n=Ca();if(!n)throw new Gr("Can't post event to parent window: window is not defined");if(n.TelegramWebviewProxy!==void 0)rm("postEvent",t,e),n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e));else if(n.external&&"notify"in n.external)rm("postEvent",t,e),n.external.notify(JSON.stringify({eventType:t,eventData:e}));else if(pI()){const r="*",i=JSON.stringify({eventType:t,eventData:e});rm("postEvent",t,e),n.parent.postMessage(i,r)}else throw new Gr("Can't post event to TMA")}catch(n){A$(`Can't post event to parent window: ${n}`)}}function dL(t){t=t.replace(/^#/,"");let e={};if(!t.length)return e;if(t.indexOf("=")<0&&t.indexOf("?")<0)return e._path=Mm(t),e;let n=t.indexOf("?");if(n>=0){let i=t.substr(0,n);e._path=Mm(i),t=t.substr(n+1)}let r=fL(t);for(let i in r)e[i]=r[i];return e}function Mm(t){try{return t=t.replace(/\+/g,"%20"),decodeURIComponent(t)}catch{return t}}function fL(t){let e={};if(!t.length)return e;let n=t.split("&"),r,i,s,o;for(r=0;r<n.length;r++)i=n[r].split("="),s=Mm(i[0]),o=i[1]==null?null:Mm(i[1]),e[s]=o;return e}function hL(t,e){typeof t!="string"&&(t="");let n=t.replace(/^\s+|\s+$/g,"").split("."),r=e.replace(/^\s+|\s+$/g,"").split("."),i,s,o,a;for(i=Math.max(n.length,r.length),s=0;s<i;s++)if(o=parseInt(n[s])||0,a=parseInt(r[s])||0,o!==a)return o>a?1:-1;return 0}function pL(t){return hL(Om,t)>=0}const cu={mobile:440,tablet:1020};function ef(t){const e=Ca();if(!e)return t==="desktop";if(au("weba"))return!0;const n=e.innerWidth;switch(t){case"desktop":return n>cu.tablet;case"tablet":return n>cu.mobile;default:case"mobile":return n<=cu.mobile||Po("ios","android","ipad")}}function ao(t){switch(t){case"mobile":return`@media (max-width: ${cu.mobile}px)`;case"tablet":return`@media (max-width: ${cu.tablet}px) (min-width: ${cu.mobile}px)`;default:case"desktop":return`@media (min-width: ${cu.tablet}px)`}}const jp="@media (hover: none)",zp="@media not all and (hover: none)",gL={m:"100vh",s:"8px",none:"0"},ob={s:.02,m:.04},mL=Ee.button`
    display: ${t=>t.leftIcon||t.rightIcon?"flex":"inline-block"};
    gap: ${t=>t.leftIcon||t.rightIcon?"6px":"unset"};
    align-items: ${t=>t.leftIcon||t.rightIcon?"center":"unset"};
    justify-content: ${t=>t.leftIcon||t.rightIcon?"space-between":"unset"};
    background-color: ${t=>t.appearance==="flat"?"transparent":t.appearance==="secondary"?t.theme.colors.background.tint:Vu(t.theme.colors.accent,.12)};
    color: ${t=>t.appearance==="secondary"?t.theme.colors.text.primary:t.theme.colors.accent};

    padding: ${t=>t.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${t=>t.leftIcon&&t.appearance!=="flat"?"12px":"16px"};
    padding-right: ${t=>t.rightIcon&&t.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${t=>gL[t.theme.borderRadius]};
    cursor: ${t=>t.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${zp} {
        &:hover {
            transform: ${t=>t.disabled?"unset":`scale(${1+ob[t.scale]})`};
        }
    }

    &:active {
        transform: ${t=>t.disabled?"unset":`scale(${1-ob[t.scale]})`};
    }

    ${jp} {
        &:active {
            transform: ${t=>t.disabled?"unset":`scale(${1-ob[t.scale]*2})`};
        }
    }
`;function Wp(t){const e=Ai(()=>Object.keys(t).filter(r=>r.startsWith("data-"))),[n]=l5(t,e);return n}const Ur=t=>{const e=Wp(t);return Q(mL,la({get appearance(){return t.appearance||"primary"},get class(){return t.class},onClick:n=>{var r;return(r=t.onClick)==null?void 0:r.call(t,n)},onMouseEnter:n=>{var r;return(r=t.onMouseEnter)==null?void 0:r.call(t,n)},onMouseLeave:n=>{var r;return(r=t.onMouseLeave)==null?void 0:r.call(t,n)},ref(n){const r=t.ref;typeof r=="function"?r(n):t.ref=n},get disabled(){return t.disabled},get scale(){return t.scale||"m"},get leftIcon(){return!!t.leftIcon},get rightIcon(){return!!t.rightIcon},"data-tc-button":"true"},e,{get children(){return[ot(()=>t.leftIcon),ot(()=>t.children),ot(()=>t.rightIcon)]}}))};function Dm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}const v5=t=>{let e,n=!0;const[r,i]=Dt(),[s,o]=Dt(),a=ky(()=>t.children),{onBeforeEnter:d,onEnter:l,onAfterEnter:f,onBeforeExit:h,onExit:g,onAfterExit:y}=t,v=ot(()=>{const k=t.name||"s";return{enterActiveClass:t.enterActiveClass||k+"-enter-active",enterClass:t.enterClass||k+"-enter",enterToClass:t.enterToClass||k+"-enter-to",exitActiveClass:t.exitActiveClass||k+"-exit-active",exitClass:t.exitClass||k+"-exit",exitToClass:t.exitToClass||k+"-exit-to"}});function w(k,N){if(!n||t.appear){let R=function(F){k&&(!F||F.target===k)&&(k.removeEventListener("transitionend",R),k.removeEventListener("animationend",R),k.classList.remove(...O),k.classList.remove(...D),zS(()=>{r()!==k&&i(k),s()===k&&o(void 0)}),f&&f(k),t.mode==="inout"&&x(k,N))};const L=v().enterClass.split(" "),O=v().enterActiveClass.split(" "),D=v().enterToClass.split(" ");d&&d(k),k.classList.add(...L),k.classList.add(...O),Dm(()=>{k.classList.remove(...L),k.classList.add(...D),l&&l(k,()=>R()),(!l||l.length<2)&&(k.addEventListener("transitionend",R),k.addEventListener("animationend",R))})}N&&!t.mode?o(k):i(k)}function x(k,N){const R=v().exitClass.split(" "),L=v().exitActiveClass.split(" "),O=v().exitToClass.split(" ");if(!N.parentNode)return D();h&&h(N),N.classList.add(...R),N.classList.add(...L),Dm(()=>{N.classList.remove(...R),N.classList.add(...O)}),g&&g(N,()=>D()),(!g||g.length<2)&&(N.addEventListener("transitionend",D),N.addEventListener("animationend",D));function D(F){(!F||F.target===N)&&(N.removeEventListener("transitionend",D),N.removeEventListener("animationend",D),N.classList.remove(...L),N.classList.remove(...O),r()===N&&i(void 0),y&&y(N),t.mode==="outin"&&w(k,N))}}return c5(k=>{for(e=a();typeof e=="function";)e=e();return Ai(()=>(e&&e!==k&&(t.mode!=="outin"?w(e,k):n&&i(e)),k&&k!==e&&t.mode!=="inout"&&x(e,k),n=!1,e))}),[r,s]};function Cg(t){const{top:e,bottom:n,left:r,right:i,width:s,height:o}=t.getBoundingClientRect(),a=t.parentNode.getBoundingClientRect();return{top:e-a.top,bottom:n,left:r-a.left,right:i,width:s,height:o}}const yL=t=>{const e=ky(()=>t.children),n=ot(()=>{const y=t.name||"s";return{enterActiveClass:t.enterActiveClass||y+"-enter-active",enterClass:t.enterClass||y+"-enter",enterToClass:t.enterToClass||y+"-enter-to",exitActiveClass:t.exitActiveClass||y+"-exit-active",exitClass:t.exitClass||y+"-exit",exitToClass:t.exitToClass||y+"-exit-to",moveClass:t.moveClass||y+"-move"}}),{onBeforeEnter:r,onEnter:i,onAfterEnter:s,onBeforeExit:o,onExit:a,onAfterExit:d}=t,[l,f]=Dt();let h=[],g=!0;return c5(()=>{const y=e(),v=[...y],w=new Set(y),x=new Set(h),k=n().enterClass.split(" "),N=n().enterActiveClass.split(" "),R=n().enterToClass.split(" "),L=n().exitClass.split(" "),O=n().exitActiveClass.split(" "),D=n().exitToClass.split(" ");for(let F=0;F<y.length;F++){const q=y[F];if(!g&&!x.has(q)){let $=function(H){q&&(!H||H.target===q)&&(q.removeEventListener("transitionend",$),q.removeEventListener("animationend",$),q.classList.remove(...N),q.classList.remove(...R),s&&s(q))};r&&r(q),q.classList.add(...k),q.classList.add(...N),Dm(()=>{q.classList.remove(...k),q.classList.add(...R),i&&i(q,()=>$()),(!i||i.length<2)&&(q.addEventListener("transitionend",$),q.addEventListener("animationend",$))})}}for(let F=0;F<h.length;F++){const q=h[F];if(!w.has(q)&&q.parentNode){let $=function(H){(!H||H.target===q)&&(q.removeEventListener("transitionend",$),q.removeEventListener("animationend",$),q.classList.remove(...O),q.classList.remove(...D),d&&d(q),h=h.filter(P=>P!==q),f(h))};v.splice(F,0,q),o&&o(q),q.classList.add(...L),q.classList.add(...O),Dm(()=>{q.classList.remove(...L),q.classList.add(...D)}),a&&a(q,()=>$()),(!a||a.length<2)&&(q.addEventListener("transitionend",$),q.addEventListener("animationend",$))}}h=v,f(v)}),fi(y=>{const v=l();return v.forEach(w=>{let x;(x=y.get(w))?x.new&&(x.new=!1,x.newPos=Cg(w)):y.set(w,x={pos:Cg(w),new:!g}),x.new&&w.addEventListener("transitionend",()=>{x.new=!1,w.parentNode&&(x.newPos=Cg(w))},{once:!0}),x.newPos&&(x.pos=x.newPos),x.newPos=Cg(w)}),g?(g=!1,y):(v.forEach(w=>{const x=y.get(w),k=x.pos,N=x.newPos,R=k.left-N.left,L=k.top-N.top;if(R||L){x.moved=!0;const O=w.style;O.transform=`translate(${R}px,${L}px)`,O.transitionDuration="0s"}}),document.body.offsetHeight,v.forEach(w=>{const x=y.get(w);if(x.moved){let k=function(L){L&&L.target!==w||!w.parentNode||(!L||/transform$/.test(L.propertyName))&&(w.removeEventListener("transitionend",k),w.classList.remove(...R))};x.moved=!1;const N=w.style,R=n().moveClass.split(" ");w.classList.add(...R),N.transform=N.transitionDuration="",w.addEventListener("transitionend",k)}}),y)},new Map),l};function wL(t,e){const n=r=>{var i;return!t.contains(r.target)&&((i=e())==null?void 0:i())};document.body.addEventListener("click",n),ss(()=>document.body.removeEventListener("click",n))}function vL(t,e){const n=r=>{var i,s;r.key==="Escape"&&((i=document.activeElement)==null||i.blur(),(s=e())==null||s())};document.body.addEventListener("keydown",n),ss(()=>document.body.removeEventListener("keydown",n))}function bL(t,e){const{isEnabled:n,onClose:r}=e();if(!n||!(p5().os==="android"))return;window.history.pushState(CL,"");const s=o=>{o.preventDefault(),r()};window.addEventListener("popstate",s,{once:!0}),ss(()=>{window.removeEventListener("popstate",s),iI(()=>{var o;((o=window.history.state)==null?void 0:o[mI])===!0&&window.history.back()})})}const mI="androidBackHandler",CL={[mI]:!0},EL=vn('<svg><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></path></svg>',4,!0),AL={left:0,top:90,right:180,bottom:270},yI=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary,r=()=>t.direction||"left",i=Ee("svg")`
        transform: rotate(${s=>AL[s.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return Q(i,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return r()},get children(){const s=EL.cloneNode(!0);return wn(()=>Mt(s,"fill",n())),s}})},_L=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.71966 2.71968C3.01255 2.42678 3.48743 2.42677 3.78032 2.71966L8.00002 6.93925L12.2197 2.71967C12.5126 2.42677 12.9874 2.42678 13.2803 2.71967C13.5732 3.01257 13.5732 3.48744 13.2803 3.78033L9.06068 7.99991L13.2803 12.2197C13.5732 12.5126 13.5732 12.9874 13.2803 13.2803C12.9874 13.5732 12.5126 13.5732 12.2197 13.2803L8.00002 9.06057L3.78033 13.2803C3.48744 13.5732 3.01257 13.5732 2.71967 13.2803C2.42678 12.9874 2.42677 12.5126 2.71967 12.2197L6.93936 7.99991L2.71968 3.78034C2.42678 3.48745 2.42677 3.01257 2.71966 2.71968Z"></path></svg>'),xL=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=_L.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},SL=Ee.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: ${t=>t.theme.colors.background.tint};
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${zp} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${jp} {
        &:active {
            transform: scale(0.92);
        }
    }
`,Gu=t=>{const e=Wp(t),n=()=>t.icon||"close";return Q(SL,la({get class(){return t.class},onClick:()=>t.onClick(),"data-tc-icon-button":"true"},e,{get children(){return[Q(Vt,{get when(){return!!t.children},get children(){return t.children}}),Q(Vt,{get when(){return!t.children},get children(){return Q(Fp,{get children(){return[Q(Ri,{get when(){return n()==="close"},get children(){return Q(xL,{get fill(){return t.fill}})}}),Q(Ri,{get when(){return n()==="arrow"},get children(){return Q(yI,{get fill(){return t.fill}})}}),Q(Ri,{get when(){return n()==="question"},get children(){return Q(NU,{get fill(){return t.fill}})}}),Q(Ri,{get when(){return typeof n()!="string"},get children(){return n()}})]}})}})]}}))},of={m:"24px",s:"16px",none:"0"},IL=Ee.div`
    display: flex;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    padding: 20px 0;
    overflow-y: auto;

    ${ao("mobile")} {
        padding-bottom: 0;
    }
`,TL=cc`
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
    width: fit-content;
    margin: auto;

    ${ao("mobile")} {
        width: 100%;
        height: fit-content;
        margin: auto 0 0 0;
    }
`,PL=Ee.div`
    position: relative;
    min-height: 100px;
    width: 416px;
    padding: 44px 56px 24px;

    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

    background-color: ${t=>t.theme.colors.background.primary};
    border-radius: ${t=>of[t.theme.borderRadius]};

    ${ao("mobile")} {
        width: 100%;
    }
`,NL=Ee(Gu)`
    position: absolute;
    right: 16px;
    top: 16px;
`,kL=Ee.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 16px 16px 18px;
    border-radius: 0 0 ${t=>of[t.theme.borderRadius]}
        ${t=>of[t.theme.borderRadius]};
`,RL=Ee(Gu)`
    background-color: ${t=>Vu(t.theme.colors.icon.secondary,.12)};
`;class OL{constructor(){Tt(this,"currentTime",0)}}const l0=class{constructor(){Tt(this,"currentTime",0),Tt(this,"playbackRate",1),Tt(this,"startTime",null),Tt(this,"timeline",new OL),Tt(this,"finished",Promise.resolve(this)),Tt(this,"effect",null),Tt(this,"id",""),Tt(this,"pending",!1),Tt(this,"playState","finished"),Tt(this,"replaceState","active"),Tt(this,"ready",Promise.resolve(this)),Tt(this,"oncancel",null),Tt(this,"onfinish",null),Tt(this,"onremove",null)}static create(){return l0._instance||(_$("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),l0._instance=new l0),l0._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(t,e,n){}dispatchEvent(t){return!1}removeEventListener(t,e,n){}updatePlaybackRate(t){}commitStyles(){}persist(){}};let wI=l0;Tt(wI,"_instance",null);function ca(t,e,n){return"animate"in t?t.animate(e,n):wI.create()}const ML=vn("<div></div>"),DL=wL,$L=vL,LL=bL,vI=t=>{const e=br(),n=Wp(t);return fi(()=>{t.opened?I$():T$()}),Q(v5,{onBeforeEnter:r=>{const i=ef("mobile")?200:100;ca(r,[{opacity:0},{opacity:1}],{duration:i}),ef("mobile")&&ca(r.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:i})},onExit:(r,i)=>{const s=ef("mobile")?200:100,o=ca(r,[{opacity:1},{opacity:0}],{duration:s});if(ef("mobile")){const a=ca(r.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:s});Promise.all([o.finished,a.finished]).then(i)}else o.finished.then(i)},get children(){return Q(Vt,{get when(){return t.opened},get children(){return Q(IL,la({"data-tc-modal":"true"},n,{get children(){const r=ML.cloneNode(!0);return sf(LL,r,()=>({isEnabled:t.enableAndroidBackHandler,onClose:()=>t.onClose()})),sf($L,r,()=>()=>t.onClose()),sf(DL,r,()=>()=>t.onClose()),Oi(r,Q(PL,{get class(){return t.class},get children(){return[Q(NL,{icon:"close",onClick:()=>t.onClose()}),ot(()=>t.children)]}}),null),Oi(r,Q(Vt,{get when(){return t.onClickQuestion},get children(){return Q(kL,{get children(){return[Q(TU,{}),Q(RL,{get onClick(){return t.onClickQuestion},icon:"question"})]}})}}),null),wn(()=>u5(r,nm(TL,cc`
                                border-radius: ${of[e.borderRadius]};
                                background-color: ${e.colors.background.tint};

                                ${ao("mobile")} {
                                    border-radius: ${of[e.borderRadius]}
                                        ${of[e.borderRadius]} 0 0;
                                }
                            `))),r}}))}})}})},UL={m:"22px",s:"12px",none:"0"},BL={m:"18px",s:"8px",none:"0"},FL=Ee.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${t=>UL[t.theme.borderRadius]};

    background-color: ${t=>t.theme.colors.background.secondary};
`,jL=Ee.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${t=>BL[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.segment};

    transform: ${t=>t.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`,HE=Ee.input`
    display: none;
`,VE=Ee.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${t=>t.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${t=>t.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${t=>t.isActive?"":`color: ${t.theme.colors.text.secondary};`}
    }
`,zL=t=>{const e="tabBar"+Math.floor(Math.random()*1e4);return Q(FL,{get class(){return t.class},"data-tc-tab-bar":"true",get children(){return[Q(jL,{get right(){return t.selectedTabIndex===1}}),Q(VE,{get isActive(){return t.selectedTabIndex===0},get children(){return[Q(HE,{type:"radio",name:e,get checked(){return t.selectedTabIndex===0},onInput:()=>{var n;return(n=t.onSelectedTabIndexChange)==null?void 0:n.call(t,0)}}),ot(()=>t.tab1)]}}),Q(VE,{get isActive(){return t.selectedTabIndex===1},get children(){return[Q(HE,{type:"radio",get checked(){return t.selectedTabIndex===1},name:e,onInput:()=>{var n;return(n=t.onSelectedTabIndexChange)==null?void 0:n.call(t,1)}}),ot(()=>t.tab2)]}})]}})},WL={m:"16px",s:"12px",none:"0"},qL={m:"12px",s:"8px",none:"0"},bI=256,E3=60,KE=48,GE=24,im=Ee.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,HL=Ee.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${t=>t.theme.colors.background.qr};
    border-radius: ${t=>WL[t.theme.borderRadius]};
    padding: ${ua(GE)} 0;
    height: ${ua(bI+GE*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${zp} {
        &:hover {
            ${im.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${im.class} {
            transform: scale(0.96);
        }
    }

    ${jp} {
        &:active {
            ${im.class} {
                transform: scale(0.92);
            }
        }
    }
`,VL=Ee.div`
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    rect {
        fill: transparent;
    }

    path {
        fill: ${t=>t.theme.colors.constant.black};
    }
`,KL=Ee.div`
    position: absolute;
    width: ${ua(E3)};
    height: ${ua(E3)};
    background: ${t=>t.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,GL=Ee(Ku)`
    width: ${t=>ua(t.size)};
    height: ${t=>ua(t.size)};
    border-radius: ${t=>qL[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.qr};
`,QL=Ee.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${t=>t.theme.colors.background.segment};
`;var CI={exports:{}};(function(t,e){var n=function(){var r=function(O,D){var F=236,q=17,$=O,H=s[D],P=null,m=0,C=null,S=[],_={},I=function(le,re){m=$*4+17,P=function(ae){for(var Ce=new Array(ae),we=0;we<ae;we+=1){Ce[we]=new Array(ae);for(var Se=0;Se<ae;Se+=1)Ce[we][Se]=null}return Ce}(m),j(0,0),j(m-7,0),j(0,m-7),E(),B(),J(le,re),$>=7&&U(le),C==null&&(C=ue($,H,S)),ie(C,re)},j=function(le,re){for(var ae=-1;ae<=7;ae+=1)if(!(le+ae<=-1||m<=le+ae))for(var Ce=-1;Ce<=7;Ce+=1)re+Ce<=-1||m<=re+Ce||(0<=ae&&ae<=6&&(Ce==0||Ce==6)||0<=Ce&&Ce<=6&&(ae==0||ae==6)||2<=ae&&ae<=4&&2<=Ce&&Ce<=4?P[le+ae][re+Ce]=!0:P[le+ae][re+Ce]=!1)},W=function(){for(var le=0,re=0,ae=0;ae<8;ae+=1){I(!0,ae);var Ce=a.getLostPoint(_);(ae==0||le>Ce)&&(le=Ce,re=ae)}return re},B=function(){for(var le=8;le<m-8;le+=1)P[le][6]==null&&(P[le][6]=le%2==0);for(var re=8;re<m-8;re+=1)P[6][re]==null&&(P[6][re]=re%2==0)},E=function(){for(var le=a.getPatternPosition($),re=0;re<le.length;re+=1)for(var ae=0;ae<le.length;ae+=1){var Ce=le[re],we=le[ae];if(P[Ce][we]==null)for(var Se=-2;Se<=2;Se+=1)for(var Ze=-2;Ze<=2;Ze+=1)Se==-2||Se==2||Ze==-2||Ze==2||Se==0&&Ze==0?P[Ce+Se][we+Ze]=!0:P[Ce+Se][we+Ze]=!1}},U=function(le){for(var re=a.getBCHTypeNumber($),ae=0;ae<18;ae+=1){var Ce=!le&&(re>>ae&1)==1;P[Math.floor(ae/3)][ae%3+m-8-3]=Ce}for(var ae=0;ae<18;ae+=1){var Ce=!le&&(re>>ae&1)==1;P[ae%3+m-8-3][Math.floor(ae/3)]=Ce}},J=function(le,re){for(var ae=H<<3|re,Ce=a.getBCHTypeInfo(ae),we=0;we<15;we+=1){var Se=!le&&(Ce>>we&1)==1;we<6?P[we][8]=Se:we<8?P[we+1][8]=Se:P[m-15+we][8]=Se}for(var we=0;we<15;we+=1){var Se=!le&&(Ce>>we&1)==1;we<8?P[8][m-we-1]=Se:we<9?P[8][15-we-1+1]=Se:P[8][15-we-1]=Se}P[m-8][8]=!le},ie=function(le,re){for(var ae=-1,Ce=m-1,we=7,Se=0,Ze=a.getMaskFunction(re),Me=m-1;Me>0;Me-=2)for(Me==6&&(Me-=1);;){for(var wt=0;wt<2;wt+=1)if(P[Ce][Me-wt]==null){var en=!1;Se<le.length&&(en=(le[Se]>>>we&1)==1);var je=Ze(Ce,Me-wt);je&&(en=!en),P[Ce][Me-wt]=en,we-=1,we==-1&&(Se+=1,we=7)}if(Ce+=ae,Ce<0||m<=Ce){Ce-=ae,ae=-ae;break}}},ce=function(le,re){for(var ae=0,Ce=0,we=0,Se=new Array(re.length),Ze=new Array(re.length),Me=0;Me<re.length;Me+=1){var wt=re[Me].dataCount,en=re[Me].totalCount-wt;Ce=Math.max(Ce,wt),we=Math.max(we,en),Se[Me]=new Array(wt);for(var je=0;je<Se[Me].length;je+=1)Se[Me][je]=255&le.getBuffer()[je+ae];ae+=wt;var At=a.getErrorCorrectPolynomial(en),Nn=l(Se[Me],At.getLength()-1),Zt=Nn.mod(At);Ze[Me]=new Array(At.getLength()-1);for(var je=0;je<Ze[Me].length;je+=1){var on=je+Zt.getLength()-Ze[Me].length;Ze[Me][je]=on>=0?Zt.getAt(on):0}}for(var qn=0,je=0;je<re.length;je+=1)qn+=re[je].totalCount;for(var Ft=new Array(qn),Kt=0,je=0;je<Ce;je+=1)for(var Me=0;Me<re.length;Me+=1)je<Se[Me].length&&(Ft[Kt]=Se[Me][je],Kt+=1);for(var je=0;je<we;je+=1)for(var Me=0;Me<re.length;Me+=1)je<Ze[Me].length&&(Ft[Kt]=Ze[Me][je],Kt+=1);return Ft},ue=function(le,re,ae){for(var Ce=f.getRSBlocks(le,re),we=h(),Se=0;Se<ae.length;Se+=1){var Ze=ae[Se];we.put(Ze.getMode(),4),we.put(Ze.getLength(),a.getLengthInBits(Ze.getMode(),le)),Ze.write(we)}for(var Me=0,Se=0;Se<Ce.length;Se+=1)Me+=Ce[Se].dataCount;if(we.getLengthInBits()>Me*8)throw"code length overflow. ("+we.getLengthInBits()+">"+Me*8+")";for(we.getLengthInBits()+4<=Me*8&&we.put(0,4);we.getLengthInBits()%8!=0;)we.putBit(!1);for(;!(we.getLengthInBits()>=Me*8||(we.put(F,8),we.getLengthInBits()>=Me*8));)we.put(q,8);return ce(we,Ce)};_.addData=function(le,re){re=re||"Byte";var ae=null;switch(re){case"Numeric":ae=g(le);break;case"Alphanumeric":ae=y(le);break;case"Byte":ae=v(le);break;case"Kanji":ae=w(le);break;default:throw"mode:"+re}S.push(ae),C=null},_.isDark=function(le,re){if(le<0||m<=le||re<0||m<=re)throw le+","+re;return P[le][re]},_.getModuleCount=function(){return m},_.make=function(){if($<1){for(var le=1;le<40;le++){for(var re=f.getRSBlocks(le,H),ae=h(),Ce=0;Ce<S.length;Ce++){var we=S[Ce];ae.put(we.getMode(),4),ae.put(we.getLength(),a.getLengthInBits(we.getMode(),le)),we.write(ae)}for(var Se=0,Ce=0;Ce<re.length;Ce++)Se+=re[Ce].dataCount;if(ae.getLengthInBits()<=Se*8)break}$=le}I(!1,W())},_.createTableTag=function(le,re){le=le||2,re=typeof re>"u"?le*4:re;var ae="";ae+='<table style="',ae+=" border-width: 0px; border-style: none;",ae+=" border-collapse: collapse;",ae+=" padding: 0px; margin: "+re+"px;",ae+='">',ae+="<tbody>";for(var Ce=0;Ce<_.getModuleCount();Ce+=1){ae+="<tr>";for(var we=0;we<_.getModuleCount();we+=1)ae+='<td style="',ae+=" border-width: 0px; border-style: none;",ae+=" border-collapse: collapse;",ae+=" padding: 0px; margin: 0px;",ae+=" width: "+le+"px;",ae+=" height: "+le+"px;",ae+=" background-color: ",ae+=_.isDark(Ce,we)?"#000000":"#ffffff",ae+=";",ae+='"/>';ae+="</tr>"}return ae+="</tbody>",ae+="</table>",ae},_.createSvgTag=function(le,re,ae,Ce){var we={};typeof arguments[0]=="object"&&(we=arguments[0],le=we.cellSize,re=we.margin,ae=we.alt,Ce=we.title),le=le||2,re=typeof re>"u"?le*4:re,ae=typeof ae=="string"?{text:ae}:ae||{},ae.text=ae.text||null,ae.id=ae.text?ae.id||"qrcode-description":null,Ce=typeof Ce=="string"?{text:Ce}:Ce||{},Ce.text=Ce.text||null,Ce.id=Ce.text?Ce.id||"qrcode-title":null;var Se=_.getModuleCount()*le+re*2,Ze,Me,wt,en,je="",At;for(At="l"+le+",0 0,"+le+" -"+le+",0 0,-"+le+"z ",je+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',je+=we.scalable?"":' width="'+Se+'px" height="'+Se+'px"',je+=' viewBox="0 0 '+Se+" "+Se+'" ',je+=' preserveAspectRatio="xMinYMin meet"',je+=Ce.text||ae.text?' role="img" aria-labelledby="'+Ae([Ce.id,ae.id].join(" ").trim())+'"':"",je+=">",je+=Ce.text?'<title id="'+Ae(Ce.id)+'">'+Ae(Ce.text)+"</title>":"",je+=ae.text?'<description id="'+Ae(ae.id)+'">'+Ae(ae.text)+"</description>":"",je+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',je+='<path d="',wt=0;wt<_.getModuleCount();wt+=1)for(en=wt*le+re,Ze=0;Ze<_.getModuleCount();Ze+=1)_.isDark(wt,Ze)&&(Me=Ze*le+re,je+="M"+Me+","+en+At);return je+='" stroke="transparent" fill="black"/>',je+="</svg>",je},_.createDataURL=function(le,re){le=le||2,re=typeof re>"u"?le*4:re;var ae=_.getModuleCount()*le+re*2,Ce=re,we=ae-re;return L(ae,ae,function(Se,Ze){if(Ce<=Se&&Se<we&&Ce<=Ze&&Ze<we){var Me=Math.floor((Se-Ce)/le),wt=Math.floor((Ze-Ce)/le);return _.isDark(wt,Me)?0:1}else return 1})},_.createImgTag=function(le,re,ae){le=le||2,re=typeof re>"u"?le*4:re;var Ce=_.getModuleCount()*le+re*2,we="";return we+="<img",we+=' src="',we+=_.createDataURL(le,re),we+='"',we+=' width="',we+=Ce,we+='"',we+=' height="',we+=Ce,we+='"',ae&&(we+=' alt="',we+=Ae(ae),we+='"'),we+="/>",we};var Ae=function(le){for(var re="",ae=0;ae<le.length;ae+=1){var Ce=le.charAt(ae);switch(Ce){case"<":re+="&lt;";break;case">":re+="&gt;";break;case"&":re+="&amp;";break;case'"':re+="&quot;";break;default:re+=Ce;break}}return re},$e=function(le){var re=1;le=typeof le>"u"?re*2:le;var ae=_.getModuleCount()*re+le*2,Ce=le,we=ae-le,Se,Ze,Me,wt,en,je={"██":"█","█ ":"▀"," █":"▄","  ":" "},At={"██":"▀","█ ":"▀"," █":" ","  ":" "},Nn="";for(Se=0;Se<ae;Se+=2){for(Me=Math.floor((Se-Ce)/re),wt=Math.floor((Se+1-Ce)/re),Ze=0;Ze<ae;Ze+=1)en="█",Ce<=Ze&&Ze<we&&Ce<=Se&&Se<we&&_.isDark(Me,Math.floor((Ze-Ce)/re))&&(en=" "),Ce<=Ze&&Ze<we&&Ce<=Se+1&&Se+1<we&&_.isDark(wt,Math.floor((Ze-Ce)/re))?en+=" ":en+="█",Nn+=le<1&&Se+1>=we?At[en]:je[en];Nn+=`
`}return ae%2&&le>0?Nn.substring(0,Nn.length-ae-1)+Array(ae+1).join("▀"):Nn.substring(0,Nn.length-1)};return _.createASCII=function(le,re){if(le=le||1,le<2)return $e(re);le-=1,re=typeof re>"u"?le*2:re;var ae=_.getModuleCount()*le+re*2,Ce=re,we=ae-re,Se,Ze,Me,wt,en=Array(le+1).join("██"),je=Array(le+1).join("  "),At="",Nn="";for(Se=0;Se<ae;Se+=1){for(Me=Math.floor((Se-Ce)/le),Nn="",Ze=0;Ze<ae;Ze+=1)wt=1,Ce<=Ze&&Ze<we&&Ce<=Se&&Se<we&&_.isDark(Me,Math.floor((Ze-Ce)/le))&&(wt=0),Nn+=wt?en:je;for(Me=0;Me<le;Me+=1)At+=Nn+`
`}return At.substring(0,At.length-1)},_.renderTo2dContext=function(le,re){re=re||2;for(var ae=_.getModuleCount(),Ce=0;Ce<ae;Ce++)for(var we=0;we<ae;we++)le.fillStyle=_.isDark(Ce,we)?"black":"white",le.fillRect(Ce*re,we*re,re,re)},_};r.stringToBytesFuncs={default:function(O){for(var D=[],F=0;F<O.length;F+=1){var q=O.charCodeAt(F);D.push(q&255)}return D}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(O,D){var F=function(){for(var $=N(O),H=function(){var B=$.read();if(B==-1)throw"eof";return B},P=0,m={};;){var C=$.read();if(C==-1)break;var S=H(),_=H(),I=H(),j=String.fromCharCode(C<<8|S),W=_<<8|I;m[j]=W,P+=1}if(P!=D)throw P+" != "+D;return m}(),q=63;return function($){for(var H=[],P=0;P<$.length;P+=1){var m=$.charCodeAt(P);if(m<128)H.push(m);else{var C=F[$.charAt(P)];typeof C=="number"?(C&255)==C?H.push(C):(H.push(C>>>8),H.push(C&255)):H.push(q)}}return H}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var O=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],D=1335,F=7973,q=21522,$={},H=function(P){for(var m=0;P!=0;)m+=1,P>>>=1;return m};return $.getBCHTypeInfo=function(P){for(var m=P<<10;H(m)-H(D)>=0;)m^=D<<H(m)-H(D);return(P<<10|m)^q},$.getBCHTypeNumber=function(P){for(var m=P<<12;H(m)-H(F)>=0;)m^=F<<H(m)-H(F);return P<<12|m},$.getPatternPosition=function(P){return O[P-1]},$.getMaskFunction=function(P){switch(P){case o.PATTERN000:return function(m,C){return(m+C)%2==0};case o.PATTERN001:return function(m,C){return m%2==0};case o.PATTERN010:return function(m,C){return C%3==0};case o.PATTERN011:return function(m,C){return(m+C)%3==0};case o.PATTERN100:return function(m,C){return(Math.floor(m/2)+Math.floor(C/3))%2==0};case o.PATTERN101:return function(m,C){return m*C%2+m*C%3==0};case o.PATTERN110:return function(m,C){return(m*C%2+m*C%3)%2==0};case o.PATTERN111:return function(m,C){return(m*C%3+(m+C)%2)%2==0};default:throw"bad maskPattern:"+P}},$.getErrorCorrectPolynomial=function(P){for(var m=l([1],0),C=0;C<P;C+=1)m=m.multiply(l([1,d.gexp(C)],0));return m},$.getLengthInBits=function(P,m){if(1<=m&&m<10)switch(P){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+P}else if(m<27)switch(P){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+P}else if(m<41)switch(P){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+P}else throw"type:"+m},$.getLostPoint=function(P){for(var m=P.getModuleCount(),C=0,S=0;S<m;S+=1)for(var _=0;_<m;_+=1){for(var I=0,j=P.isDark(S,_),W=-1;W<=1;W+=1)if(!(S+W<0||m<=S+W))for(var B=-1;B<=1;B+=1)_+B<0||m<=_+B||W==0&&B==0||j==P.isDark(S+W,_+B)&&(I+=1);I>5&&(C+=3+I-5)}for(var S=0;S<m-1;S+=1)for(var _=0;_<m-1;_+=1){var E=0;P.isDark(S,_)&&(E+=1),P.isDark(S+1,_)&&(E+=1),P.isDark(S,_+1)&&(E+=1),P.isDark(S+1,_+1)&&(E+=1),(E==0||E==4)&&(C+=3)}for(var S=0;S<m;S+=1)for(var _=0;_<m-6;_+=1)P.isDark(S,_)&&!P.isDark(S,_+1)&&P.isDark(S,_+2)&&P.isDark(S,_+3)&&P.isDark(S,_+4)&&!P.isDark(S,_+5)&&P.isDark(S,_+6)&&(C+=40);for(var _=0;_<m;_+=1)for(var S=0;S<m-6;S+=1)P.isDark(S,_)&&!P.isDark(S+1,_)&&P.isDark(S+2,_)&&P.isDark(S+3,_)&&P.isDark(S+4,_)&&!P.isDark(S+5,_)&&P.isDark(S+6,_)&&(C+=40);for(var U=0,_=0;_<m;_+=1)for(var S=0;S<m;S+=1)P.isDark(S,_)&&(U+=1);var J=Math.abs(100*U/m/m-50)/5;return C+=J*10,C},$}(),d=function(){for(var O=new Array(256),D=new Array(256),F=0;F<8;F+=1)O[F]=1<<F;for(var F=8;F<256;F+=1)O[F]=O[F-4]^O[F-5]^O[F-6]^O[F-8];for(var F=0;F<255;F+=1)D[O[F]]=F;var q={};return q.glog=function($){if($<1)throw"glog("+$+")";return D[$]},q.gexp=function($){for(;$<0;)$+=255;for(;$>=256;)$-=255;return O[$]},q}();function l(O,D){if(typeof O.length>"u")throw O.length+"/"+D;var F=function(){for(var $=0;$<O.length&&O[$]==0;)$+=1;for(var H=new Array(O.length-$+D),P=0;P<O.length-$;P+=1)H[P]=O[P+$];return H}(),q={};return q.getAt=function($){return F[$]},q.getLength=function(){return F.length},q.multiply=function($){for(var H=new Array(q.getLength()+$.getLength()-1),P=0;P<q.getLength();P+=1)for(var m=0;m<$.getLength();m+=1)H[P+m]^=d.gexp(d.glog(q.getAt(P))+d.glog($.getAt(m)));return l(H,0)},q.mod=function($){if(q.getLength()-$.getLength()<0)return q;for(var H=d.glog(q.getAt(0))-d.glog($.getAt(0)),P=new Array(q.getLength()),m=0;m<q.getLength();m+=1)P[m]=q.getAt(m);for(var m=0;m<$.getLength();m+=1)P[m]^=d.gexp(d.glog($.getAt(m))+H);return l(P,0).mod($)},q}var f=function(){var O=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],D=function($,H){var P={};return P.totalCount=$,P.dataCount=H,P},F={},q=function($,H){switch(H){case s.L:return O[($-1)*4+0];case s.M:return O[($-1)*4+1];case s.Q:return O[($-1)*4+2];case s.H:return O[($-1)*4+3];default:return}};return F.getRSBlocks=function($,H){var P=q($,H);if(typeof P>"u")throw"bad rs block @ typeNumber:"+$+"/errorCorrectionLevel:"+H;for(var m=P.length/3,C=[],S=0;S<m;S+=1)for(var _=P[S*3+0],I=P[S*3+1],j=P[S*3+2],W=0;W<_;W+=1)C.push(D(I,j));return C},F}(),h=function(){var O=[],D=0,F={};return F.getBuffer=function(){return O},F.getAt=function(q){var $=Math.floor(q/8);return(O[$]>>>7-q%8&1)==1},F.put=function(q,$){for(var H=0;H<$;H+=1)F.putBit((q>>>$-H-1&1)==1)},F.getLengthInBits=function(){return D},F.putBit=function(q){var $=Math.floor(D/8);O.length<=$&&O.push(0),q&&(O[$]|=128>>>D%8),D+=1},F},g=function(O){var D=i.MODE_NUMBER,F=O,q={};q.getMode=function(){return D},q.getLength=function(P){return F.length},q.write=function(P){for(var m=F,C=0;C+2<m.length;)P.put($(m.substring(C,C+3)),10),C+=3;C<m.length&&(m.length-C==1?P.put($(m.substring(C,C+1)),4):m.length-C==2&&P.put($(m.substring(C,C+2)),7))};var $=function(P){for(var m=0,C=0;C<P.length;C+=1)m=m*10+H(P.charAt(C));return m},H=function(P){if("0"<=P&&P<="9")return P.charCodeAt(0)-48;throw"illegal char :"+P};return q},y=function(O){var D=i.MODE_ALPHA_NUM,F=O,q={};q.getMode=function(){return D},q.getLength=function(H){return F.length},q.write=function(H){for(var P=F,m=0;m+1<P.length;)H.put($(P.charAt(m))*45+$(P.charAt(m+1)),11),m+=2;m<P.length&&H.put($(P.charAt(m)),6)};var $=function(H){if("0"<=H&&H<="9")return H.charCodeAt(0)-48;if("A"<=H&&H<="Z")return H.charCodeAt(0)-65+10;switch(H){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+H}};return q},v=function(O){var D=i.MODE_8BIT_BYTE,F=r.stringToBytes(O),q={};return q.getMode=function(){return D},q.getLength=function($){return F.length},q.write=function($){for(var H=0;H<F.length;H+=1)$.put(F[H],8)},q},w=function(O){var D=i.MODE_KANJI,F=r.stringToBytesFuncs.SJIS;if(!F)throw"sjis not supported.";(function(H,P){var m=F(H);if(m.length!=2||(m[0]<<8|m[1])!=P)throw"sjis not supported."})("友",38726);var q=F(O),$={};return $.getMode=function(){return D},$.getLength=function(H){return~~(q.length/2)},$.write=function(H){for(var P=q,m=0;m+1<P.length;){var C=(255&P[m])<<8|255&P[m+1];if(33088<=C&&C<=40956)C-=33088;else if(57408<=C&&C<=60351)C-=49472;else throw"illegal char at "+(m+1)+"/"+C;C=(C>>>8&255)*192+(C&255),H.put(C,13),m+=2}if(m<P.length)throw"illegal char at "+(m+1)},$},x=function(){var O=[],D={};return D.writeByte=function(F){O.push(F&255)},D.writeShort=function(F){D.writeByte(F),D.writeByte(F>>>8)},D.writeBytes=function(F,q,$){q=q||0,$=$||F.length;for(var H=0;H<$;H+=1)D.writeByte(F[H+q])},D.writeString=function(F){for(var q=0;q<F.length;q+=1)D.writeByte(F.charCodeAt(q))},D.toByteArray=function(){return O},D.toString=function(){var F="";F+="[";for(var q=0;q<O.length;q+=1)q>0&&(F+=","),F+=O[q];return F+="]",F},D},k=function(){var O=0,D=0,F=0,q="",$={},H=function(m){q+=String.fromCharCode(P(m&63))},P=function(m){if(!(m<0)){if(m<26)return 65+m;if(m<52)return 97+(m-26);if(m<62)return 48+(m-52);if(m==62)return 43;if(m==63)return 47}throw"n:"+m};return $.writeByte=function(m){for(O=O<<8|m&255,D+=8,F+=1;D>=6;)H(O>>>D-6),D-=6},$.flush=function(){if(D>0&&(H(O<<6-D),O=0,D=0),F%3!=0)for(var m=3-F%3,C=0;C<m;C+=1)q+="="},$.toString=function(){return q},$},N=function(O){var D=O,F=0,q=0,$=0,H={};H.read=function(){for(;$<8;){if(F>=D.length){if($==0)return-1;throw"unexpected end of file./"+$}var m=D.charAt(F);if(F+=1,m=="=")return $=0,-1;if(m.match(/^\s$/))continue;q=q<<6|P(m.charCodeAt(0)),$+=6}var C=q>>>$-8&255;return $-=8,C};var P=function(m){if(65<=m&&m<=90)return m-65;if(97<=m&&m<=122)return m-97+26;if(48<=m&&m<=57)return m-48+52;if(m==43)return 62;if(m==47)return 63;throw"c:"+m};return H},R=function(O,D){var F=O,q=D,$=new Array(O*D),H={};H.setPixel=function(S,_,I){$[_*F+S]=I},H.write=function(S){S.writeString("GIF87a"),S.writeShort(F),S.writeShort(q),S.writeByte(128),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(0),S.writeByte(255),S.writeByte(255),S.writeByte(255),S.writeString(","),S.writeShort(0),S.writeShort(0),S.writeShort(F),S.writeShort(q),S.writeByte(0);var _=2,I=m(_);S.writeByte(_);for(var j=0;I.length-j>255;)S.writeByte(255),S.writeBytes(I,j,255),j+=255;S.writeByte(I.length-j),S.writeBytes(I,j,I.length-j),S.writeByte(0),S.writeString(";")};var P=function(S){var _=S,I=0,j=0,W={};return W.write=function(B,E){if(B>>>E)throw"length over";for(;I+E>=8;)_.writeByte(255&(B<<I|j)),E-=8-I,B>>>=8-I,j=0,I=0;j=B<<I|j,I=I+E},W.flush=function(){I>0&&_.writeByte(j)},W},m=function(S){for(var _=1<<S,I=(1<<S)+1,j=S+1,W=C(),B=0;B<_;B+=1)W.add(String.fromCharCode(B));W.add(String.fromCharCode(_)),W.add(String.fromCharCode(I));var E=x(),U=P(E);U.write(_,j);var J=0,ie=String.fromCharCode($[J]);for(J+=1;J<$.length;){var ce=String.fromCharCode($[J]);J+=1,W.contains(ie+ce)?ie=ie+ce:(U.write(W.indexOf(ie),j),W.size()<4095&&(W.size()==1<<j&&(j+=1),W.add(ie+ce)),ie=ce)}return U.write(W.indexOf(ie),j),U.write(I,j),U.flush(),E.toByteArray()},C=function(){var S={},_=0,I={};return I.add=function(j){if(I.contains(j))throw"dup key:"+j;S[j]=_,_+=1},I.size=function(){return _},I.indexOf=function(j){return S[j]},I.contains=function(j){return typeof S[j]<"u"},I};return H},L=function(O,D,F){for(var q=R(O,D),$=0;$<D;$+=1)for(var H=0;H<O;H+=1)q.setPixel(H,$,F(H,$));var P=x();q.write(P);for(var m=k(),C=P.toByteArray(),S=0;S<C.length;S+=1)m.writeByte(C[S]);return m.flush(),"data:image/gif;base64,"+m};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(s){for(var o=[],a=0;a<s.length;a++){var d=s.charCodeAt(a);d<128?o.push(d):d<2048?o.push(192|d>>6,128|d&63):d<55296||d>=57344?o.push(224|d>>12,128|d>>6&63,128|d&63):(a++,d=65536+((d&1023)<<10|s.charCodeAt(a)&1023),o.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63))}return o}return i(r)}})(),function(r){t.exports=r()}(function(){return n})})(CI);const YL=CI.exports;function My(t){return Dn(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new Gr("Clipboard API not available");return yield navigator.clipboard.writeText(t)}catch{}ZL(t)})}function ZL(t){const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}finally{document.body.removeChild(e)}}const JL=vn("<div></div>"),Dy=t=>{let e,n,r;const[i,s]=Dt(!1),[o,a]=Dt(KE);fi(()=>{const g=YL(0,"L");g.addData(t.sourceUrl),g.make(),e.innerHTML=g.createSvgTag(4,0);const y=e.firstElementChild.clientWidth,v=Math.round(bI/y*1e5)/1e5;if(r){const w=Math.ceil(E3/(v*4))*4,x=ua(Math.ceil((y-w)/(2*4))*4);r.style.top=x,r.style.left=x,r.style.height=ua(w),r.style.width=ua(w),a(Math.round(KE/v))}n.style.transform=`scale(${v})`});let d=null;return Q(HL,{get class(){return t.class},onClick:()=>{s(!0),My(t.sourceUrl),d!=null&&clearTimeout(d),d=setTimeout(()=>s(!1),1500)},get children(){return[Q(VL,{ref(f){const h=n;typeof h=="function"?h(f):n=f},get children(){return[(()=>{const f=JL.cloneNode(!0),h=e;return typeof h=="function"?sf(h,f):e=f,f})(),Q(Vt,{get when(){return t.imageUrl},get children(){return Q(KL,{ref(f){const h=r;typeof h=="function"?h(f):r=f},get children(){return Q(GL,{get src(){return t.imageUrl},alt:"",get size(){return o()}})}})}})]}}),Q(v5,{onBeforeEnter:f=>{ca(f,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(f,h)=>{ca(f,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{h()})},get children(){return Q(Vt,{get when(){return i()&&!t.disableCopy},get children(){return Q(QL,{get children(){return[Q(C5,{size:"xs"}),Q($o,{translationKey:"common.linkCopied",children:"Link Copied"})]}})}})}}),Q(Vt,{get when(){return!t.disableCopy},get children(){return Q(im,{get children(){return Q(YU,{})}})}})]}})};var A3=(t,e,n)=>{const r=e.trim().split(".").reduce((i,s)=>i?i[s]:void 0,t);return r!==void 0?r:n},XL=(t,e,n=/{{(.*?)}}/g)=>t.replace(n,(r,i)=>A3(e,i,"")),eU=(t={},e=navigator.language in t?navigator.language:Object.keys(t)[0])=>{const[n,r]=Dt(e),[i,s]=m5(t);return[(d,l,f)=>{const h=A3(i[n()],d,f||"");return typeof h=="function"?h(l):typeof h=="string"?XL(h,l||{}):h},{add(d,l){s(d,f=>Object.assign(f||{},l))},locale:d=>d?r(d):n(),dict:d=>A3(i,d)}]},EI=Ny({}),Ea=()=>os(EI);const tU=Ee.div`
    font-style: normal;
    font-weight: ${t=>t.fontWeight};
    font-size: ${t=>t.fontSize};
    line-height: ${t=>t.lineHeight};

    color: ${t=>t.color};
`,$o=t=>{const e=br(),[n]=Ea();let r;const i=()=>t.color||e.colors.text.primary,s=la({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},t);return fi(()=>{r&&s.cursor!=="unset"&&getComputedStyle(r).cursor!=="pointer"&&(r.style.cursor="default")}),Q(tU,{get fontSize(){return s.fontSize},get fontWeight(){return s.fontWeight},get lineHeight(){return s.lineHeight},get color(){return i()},get class(){return s.class},ref(o){const a=r;typeof a=="function"?a(o):r=o},"data-tc-text":"true",get children(){var o;return ot(()=>!!s.translationKey)()?n(s.translationKey,s.translationValues,(o=s.children)==null?void 0:o.toString()):s.children}})},nU=Ee.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);
        border-radius: inherit;
    }
`,rU=Ee(Ku)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,AI=t=>Q(nU,{get class(){return t.class},get children(){return[Q(rU,{get src(){return t.src}}),ot(()=>t.badge)]}}),iU={m:"16px",s:"12px",none:"0"},sU={m:"6px",s:"6px",none:"0"},oU=Ee.ul`
    display: flex;
    gap: 0;
    width: 100%;
    overflow-x: auto;
    padding: 8px 12px 16px 12px;
    margin: 0;
    list-style: none;
    flex-wrap: nowrap;

    &&::-webkit-scrollbar {
        display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;

    > li {
        display: flex;
        flex: 1;
        min-width: 78px;
        height: fit-content;
    }

    > li > button {
        width: 100%;
    }
`,aU=Ee.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 100%;
    min-width: 78px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${zp} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${jp} {
        &:active {
            transform: scale(0.92);
        }
    }
`,cU=Ee(AI)`
    width: 60px;
    height: 60px;
    border-radius: ${t=>iU[t.theme.borderRadius]};
    margin-bottom: 8px;
    position: relative;
`,lU=Ee(Ku)`
    position: absolute;
    right: -6px;
    bottom: -6px;
    width: 24px;
    height: 24px;
    border-radius: ${t=>sU[t.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,uU=Ee($o)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${ao("mobile")} {
        max-width: 80px;
    }
`,dU=Ee($o)`
    font-weight: ${t=>t.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${t=>t.colorPrimary?t.theme.colors.text.primary:t.theme.colors.text.secondary};

    ${ao("mobile")} {
        max-width: 80px;
    }
`,fU=vn("<div></div>"),$m=t=>{let e=null;const n=()=>{const r=e==null?void 0:e.querySelector("div");if(r&&r.scrollWidth>r.clientWidth){let i=0;const s=-.4,o=.05;for(;r.scrollWidth>r.clientWidth&&i>=s;)i-=o,r.style.letterSpacing=`${i}px`;i!==0&&(i-=o,r.style.letterSpacing=`${i}px`)}};return WS(()=>n()),fi(()=>{n()}),Q(aU,{get class(){return t.class},onClick:()=>t.onClick(),"data-tc-wallet-item":"true",get children(){return[ot(()=>ot(()=>typeof t.icon=="string")()?Q(cU,{get src(){return t.icon},get badge(){return ot(()=>!!t.badgeUrl)()&&Q(lU,{get src(){return t.badgeUrl}})}}):t.icon),(()=>{const r=fU.cloneNode(!0);return sf(i=>e=i,r),Oi(r,Q(uU,{get children(){return t.name}})),r})(),ot(()=>ot(()=>!!t.secondLine)()&&Q(dU,{get colorPrimary(){var r;return(r=t.secondLineColorPrimary)!=null?r:!0},get children(){return t.secondLine}}))]}})},hU=Ee.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Aa=t=>{const[e]=Ea();return Q(hU,{get class(){return t.class},"data-tc-h1":"true",get children(){var n;return ot(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},pU=Ee.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${t=>t.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,Nl=t=>{const[e]=Ea();return Q(pU,{get class(){return t.class},"data-tc-h2":"true",get children(){var n;return ot(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},gU=Ee.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,b5=t=>{const[e]=Ea();return Q(gU,{"data-tc-h3":"true",get class(){return t.class},get children(){var n;return ot(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},mU=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z"></path></svg>'),yU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=mU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},wU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_3783_2045)"><circle cx="8" cy="8.00098" r="8"></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_3783_2045"><rect width="16" height="16" fill="white" transform="translate(0 0.000976562)"></rect></clipPath></defs></svg>'),vU=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z"></path></svg>'),bU=vn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z"></path></svg>'),C5=t=>{const e=br(),n=()=>t.size||"s",r=()=>t.fill||e.colors.icon.success;return ot((()=>{const i=ot(()=>n()==="xs");return()=>i()?(()=>{const s=wU.cloneNode(!0),o=s.firstChild,a=o.firstChild,d=a.nextSibling;return wn(l=>{const f=t.class,h=r(),g=e.colors.constant.white;return f!==l._v$&&Mt(s,"class",l._v$=f),h!==l._v$2&&Mt(a,"fill",l._v$2=h),g!==l._v$3&&Mt(d,"stroke",l._v$3=g),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})():(()=>{const s=ot(()=>n()==="s");return()=>s()?(()=>{const o=vU.cloneNode(!0),a=o.firstChild,d=a.nextSibling;return wn(l=>{const f=t.class,h=r(),g=e.colors.constant.white;return f!==l._v$4&&Mt(o,"class",l._v$4=f),h!==l._v$5&&Mt(a,"fill",l._v$5=h),g!==l._v$6&&Mt(d,"fill",l._v$6=g),l},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),o})():(()=>{const o=bU.cloneNode(!0),a=o.firstChild,d=a.nextSibling;return wn(l=>{const f=t.class,h=r(),g=e.colors.constant.white;return f!==l._v$7&&Mt(o,"class",l._v$7=f),h!==l._v$8&&Mt(a,"fill",l._v$8=h),g!==l._v$9&&Mt(d,"fill",l._v$9=g),l},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),o})()})()})())},CU=vn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M24.0858 26.9142C23.3047 26.1332 23.3047 24.8668 24.0858 24.0858C24.8668 23.3047 26.1332 23.3047 26.9142 24.0858L36 33.1716L45.0858 24.0858C45.8668 23.3047 47.1332 23.3047 47.9142 24.0858C48.6953 24.8668 48.6953 26.1332 47.9142 26.9142L38.8284 36L47.9142 45.0858C48.6953 45.8668 48.6953 47.1332 47.9142 47.9142C47.1332 48.6953 45.8668 48.6953 45.0858 47.9142L36 38.8284L26.9142 47.9142C26.1332 48.6953 24.8668 48.6953 24.0858 47.9142C23.3047 47.1332 23.3047 45.8668 24.0858 45.0858L33.1716 36L24.0858 26.9142Z"></path></svg>'),EU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24.001" r="22"></circle><path d="M24 24.001L31.5 16.501M24 24.001L16.5 16.501M24 24.001L16.5 31.501M24 24.001L31.5 31.501" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),AU=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M7.86361 9.1364C7.51214 8.78493 7.51214 8.21508 7.86361 7.86361C8.21508 7.51214 8.78493 7.51214 9.1364 7.86361L12 10.7272L14.8636 7.86361C15.2151 7.51214 15.7849 7.51214 16.1364 7.86361C16.4879 8.21508 16.4879 8.78493 16.1364 9.1364L13.2728 12L16.1364 14.8636C16.4879 15.2151 16.4879 15.7849 16.1364 16.1364C15.7849 16.4879 15.2151 16.4879 14.8636 16.1364L12 13.2728L9.1364 16.1364C8.78493 16.4879 8.21508 16.4879 7.86361 16.1364C7.51214 15.7849 7.51214 15.2151 7.86361 14.8636L10.7272 12L7.86361 9.1364Z"></path></svg>'),$y=t=>{const e=br(),n=()=>t.size||"m",r=()=>t.fill||e.colors.icon.error;return ot((()=>{const i=ot(()=>n()==="m");return()=>i()?(()=>{const s=CU.cloneNode(!0),o=s.firstChild,a=o.nextSibling;return wn(d=>{const l=t.class,f=r(),h=e.colors.constant.white;return l!==d._v$&&Mt(s,"class",d._v$=l),f!==d._v$2&&Mt(o,"fill",d._v$2=f),h!==d._v$3&&Mt(a,"fill",d._v$3=h),d},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})():(()=>{const s=ot(()=>n()==="s");return()=>s()?(()=>{const o=EU.cloneNode(!0),a=o.firstChild,d=a.nextSibling;return wn(l=>{const f=t.class,h=r(),g=e.colors.constant.white;return f!==l._v$4&&Mt(o,"class",l._v$4=f),h!==l._v$5&&Mt(a,"fill",l._v$5=h),g!==l._v$6&&Mt(d,"stroke",l._v$6=g),l},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),o})():(()=>{const o=AU.cloneNode(!0),a=o.firstChild,d=a.nextSibling;return wn(l=>{const f=t.class,h=r(),g=e.colors.constant.white;return f!==l._v$7&&Mt(o,"class",l._v$7=f),h!==l._v$8&&Mt(a,"fill",l._v$8=h),g!==l._v$9&&Mt(d,"fill",l._v$9=g),l},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),o})()})()})())},_U=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z"></path></svg>'),xU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z"></path></svg>'),SU=vn('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),pc=t=>{const e=br(),n=()=>t.size||"xs",r=()=>t.fill||e.colors.icon.tertiary,i=w$`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,s=cc`
        animation: ${i} 1s linear infinite;
    `;return ot((()=>{const o=ot(()=>n()==="xs");return()=>o()?(()=>{const a=_U.cloneNode(!0),d=a.firstChild;return wn(l=>{const f=nm(s,t.class),h=r();return f!==l._v$&&Mt(a,"class",l._v$=f),h!==l._v$2&&Mt(d,"fill",l._v$2=h),l},{_v$:void 0,_v$2:void 0}),a})():(()=>{const a=ot(()=>n()==="s");return()=>a()?(()=>{const d=xU.cloneNode(!0),l=d.firstChild;return wn(f=>{const h=nm(s,t.class),g=r();return h!==f._v$3&&Mt(d,"class",f._v$3=h),g!==f._v$4&&Mt(l,"fill",f._v$4=g),f},{_v$3:void 0,_v$4:void 0}),d})():(()=>{const d=SU.cloneNode(!0),l=d.firstChild;return wn(f=>{const h=nm(s,t.class),g=r();return h!==f._v$5&&Mt(d,"class",f._v$5=h),g!==f._v$6&&Mt(l,"stroke",f._v$6=g),f},{_v$5:void 0,_v$6:void 0}),d})()})()})())},IU=vn('<svg width="158" height="28" viewBox="0 0 158 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 14.001C28 21.733 21.732 28.001 14 28.001C6.26801 28.001 0 21.733 0 14.001C0 6.26899 6.26801 0.000976562 14 0.000976562C21.732 0.000976562 28 6.26899 28 14.001ZM9.21931 8.00098H18.7801H18.7813C20.538 8.00098 21.6522 9.89966 20.7691 11.4302L14.8672 21.6576C14.4822 22.3254 13.5172 22.3254 13.1322 21.6576L7.23158 11.4302C6.34721 9.89726 7.4614 8.00098 9.21931 8.00098ZM13.1262 18.5882V9.74806H9.21811C8.78976 9.74806 8.53708 10.2029 8.74163 10.5578L11.8423 16.1035L13.1262 18.5882ZM16.1559 16.1047L19.2554 10.5566C19.4599 10.2017 19.2073 9.74685 18.7789 9.74685H14.8709V18.5906L16.1559 16.1047Z" fill="#0098EA"></path><path d="M18.7802 8.00098H9.21936C7.46145 8.00098 6.34727 9.89726 7.23164 11.4302L13.1322 21.6576C13.5173 22.3254 14.4823 22.3254 14.8673 21.6576L20.7691 11.4302C21.6523 9.89966 20.5381 8.00098 18.7814 8.00098H18.7802ZM13.1274 18.5906L11.8424 16.1035L8.74168 10.5578C8.53714 10.2029 8.78981 9.74806 9.21816 9.74806H13.1262V18.5918L13.1274 18.5906ZM19.2555 10.5566L16.156 16.1047L14.8709 18.5906V9.74685H18.779C19.2073 9.74685 19.46 10.2017 19.2555 10.5566Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M51.7483 22.1967C55.7182 22.1967 58.9609 18.954 58.9609 14.9841C58.9609 11.0142 55.7182 7.77148 51.7483 7.77148C47.7588 7.77148 44.5357 11.0142 44.5357 14.9841C44.5357 18.954 47.7588 22.1967 51.7483 22.1967ZM51.7483 19.1702C49.4686 19.1702 47.6802 17.2442 47.6802 14.9841C47.6802 12.724 49.4686 10.798 51.7483 10.798C54.0084 10.798 55.7968 12.724 55.7968 14.9841C55.7968 17.2442 54.0084 19.1702 51.7483 19.1702ZM37.0698 21.9609H40.2142V10.9946H44.2843V8.00732H33V10.9946H37.0698V21.9609ZM69.9379 8.00732H73.0823V21.9609H70.3899L63.59 13.3333V21.9609H60.4652V8.00732H63.1576L69.9379 16.6153V8.00732ZM79.2259 14.9887C79.2259 10.9202 82.351 7.77539 86.4982 7.77539C89.8592 7.77539 92.5519 9.95709 93.2202 12.6891H90.7437C90.154 11.0971 88.4637 9.9964 86.4982 9.9964C83.5893 9.9964 81.5452 12.1781 81.5452 14.9887C81.5452 17.7994 83.5893 19.9811 86.4982 19.9811C88.4637 19.9811 90.154 18.8804 90.7437 17.2884H93.2202C92.5519 20.0204 89.8592 22.2021 86.4982 22.2021C82.351 22.2021 79.2259 19.0573 79.2259 14.9887ZM104.584 17.0525C104.584 19.9025 102.343 22.1628 99.4342 22.1628C96.5253 22.1628 94.2846 19.9025 94.2846 17.0525C94.2846 14.2025 96.5253 11.9422 99.4342 11.9422C102.343 11.9422 104.584 14.2025 104.584 17.0525ZM96.4663 17.0525C96.4663 18.8018 97.6849 20.158 99.4342 20.158C101.164 20.158 102.382 18.8018 102.382 17.0525C102.382 15.3032 101.164 13.947 99.4342 13.947C97.6849 13.947 96.4663 15.3032 96.4663 17.0525ZM108.626 12.1388H106.463V21.9662H108.626V17.1311C108.626 15.0281 109.726 13.9077 111.161 13.9077C112.419 13.9077 113.205 14.8512 113.205 16.4039V21.9662H115.367V16.0501C115.367 13.5539 113.893 11.9422 111.613 11.9422C110.335 11.9422 109.215 12.4926 108.626 13.4753V12.1388ZM117.839 12.1388H120.001V13.4753C120.59 12.4926 121.711 11.9422 122.988 11.9422C125.268 11.9422 126.742 13.5539 126.742 16.0501V21.9662H124.58V16.4039C124.58 14.8512 123.794 13.9077 122.536 13.9077C121.101 13.9077 120.001 15.0281 120.001 17.1311V21.9662H117.839V12.1388ZM133.558 22.1628C136.054 22.1628 137.823 20.728 138.373 18.8804H136.113C135.661 19.8238 134.717 20.2563 133.636 20.2563C131.887 20.2563 130.747 19.077 130.668 17.5832H138.491C138.688 14.2419 136.585 11.9422 133.577 11.9422C130.551 11.9422 128.526 14.1436 128.526 17.0525C128.526 20.0007 130.629 22.1628 133.558 22.1628ZM130.747 16.0501C131.042 14.5367 132.162 13.7505 133.518 13.7505C134.717 13.7505 135.838 14.4581 136.172 16.0501H130.747ZM149.851 18.3694C149.32 20.5511 147.453 22.1628 144.859 22.1628C141.871 22.1628 139.709 19.8828 139.709 17.0525C139.709 14.2222 141.871 11.9422 144.859 11.9422C147.453 11.9422 149.32 13.5539 149.851 15.7356H147.571C147.178 14.6743 146.215 13.9077 144.859 13.9077C143.109 13.9077 141.91 15.2246 141.91 17.0525C141.91 18.8804 143.109 20.1973 144.859 20.1973C146.215 20.1973 147.178 19.4307 147.571 18.3694H149.851ZM155.75 22.0645C156.418 22.0645 156.929 21.9859 157.362 21.8483V19.9221C157.047 20.0401 156.615 20.1187 156.202 20.1187C155.082 20.1187 154.551 19.6666 154.551 18.448V14.065H157.362V12.1388H154.551V9.40675H152.389V12.1388H150.345V14.065H152.389V18.8018C152.389 21.0228 153.863 22.0645 155.75 22.0645Z"></path></svg>'),TU=()=>{const t=br(),e=()=>t.theme===Lr.DARK?t.colors.constant.white:t.colors.constant.black;return(()=>{const n=IU.cloneNode(!0),r=n.firstChild,i=r.nextSibling,s=i.nextSibling;return wn(()=>Mt(s,"fill",e())),n})()},PU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z"></path></svg>'),NU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=PU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},kU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.98156 8.75C9.84854 11.4328 9.01206 13.5 8 13.5C6.98794 13.5 6.15146 11.4328 6.01844 8.75H9.98156ZM11.4832 8.75C11.4217 10.1155 11.1929 11.3869 10.8239 12.4017C10.7734 12.5405 10.7188 12.6789 10.6595 12.8154C12.1454 11.993 13.2103 10.5029 13.4493 8.75H11.4832ZM13.4493 7.25H11.4832C11.4217 5.88453 11.1929 4.61314 10.8239 3.5983C10.7734 3.4595 10.7188 3.32111 10.6595 3.18459C12.1454 4.00697 13.2103 5.49709 13.4493 7.25ZM9.98156 7.25H6.01844C6.15144 4.56764 6.98769 2.50062 7.99955 2.5H8C9.01206 2.5 9.84854 4.56724 9.98156 7.25ZM4.51678 7.25C4.57826 5.88453 4.80706 4.61314 5.1761 3.5983C5.22657 3.4595 5.28124 3.32111 5.3405 3.18459C3.85463 4.00697 2.78972 5.49709 2.55071 7.25H4.51678ZM2.55071 8.75C2.78972 10.5029 3.85463 11.993 5.3405 12.8154C5.28124 12.6789 5.22657 12.5405 5.1761 12.4017C4.80706 11.3869 4.57826 10.1155 4.51678 8.75H2.55071ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z"></path></svg>'),RU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=kU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},OU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4.8C2.5 3.11984 2.5 2.27976 2.82698 1.63803C3.1146 1.07354 3.57354 0.614601 4.13803 0.32698C4.77976 0 5.61984 0 7.3 0H8.7C10.3802 0 11.2202 0 11.862 0.32698C12.4265 0.614601 12.8854 1.07354 13.173 1.63803C13.5 2.27976 13.5 3.11984 13.5 4.8V11.2C13.5 12.8802 13.5 13.7202 13.173 14.362C12.8854 14.9265 12.4265 15.3854 11.862 15.673C11.2202 16 10.3802 16 8.7 16H7.3C5.61984 16 4.77976 16 4.13803 15.673C3.57354 15.3854 3.1146 14.9265 2.82698 14.362C2.5 13.7202 2.5 12.8802 2.5 11.2V4.8ZM4 3.9C4 3.05992 4 2.63988 4.16349 2.31901C4.3073 2.03677 4.53677 1.8073 4.81901 1.66349C5.13988 1.5 5.55992 1.5 6.4 1.5H9.6C10.4401 1.5 10.8601 1.5 11.181 1.66349C11.4632 1.8073 11.6927 2.03677 11.8365 2.31901C12 2.63988 12 3.05992 12 3.9V12.1C12 12.9401 12 13.3601 11.8365 13.681C11.6927 13.9632 11.4632 14.1927 11.181 14.3365C10.8601 14.5 10.4401 14.5 9.6 14.5H6.4C5.55992 14.5 5.13988 14.5 4.81901 14.3365C4.53677 14.1927 4.3073 13.9632 4.16349 13.681C4 13.3601 4 12.9401 4 12.1V3.9ZM7 2.5C6.58579 2.5 6.25 2.83579 6.25 3.25C6.25 3.66421 6.58579 4 7 4H9C9.41421 4 9.75 3.66421 9.75 3.25C9.75 2.83579 9.41421 2.5 9 2.5H7Z"></path></svg>'),MU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=OU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},DU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 6.8C1.5 5.11984 1.5 4.27976 1.82698 3.63803C2.1146 3.07354 2.57354 2.6146 3.13803 2.32698C3.77976 2 4.61984 2 6.3 2H9.7C11.3802 2 12.2202 2 12.862 2.32698C13.4265 2.6146 13.8854 3.07354 14.173 3.63803C14.5 4.27976 14.5 5.11984 14.5 6.8V11.5H15.25C15.6642 11.5 16 11.8358 16 12.25C16 12.6642 15.6642 13 15.25 13H0.75C0.335786 13 0 12.6642 0 12.25C0 11.8358 0.335786 11.5 0.75 11.5H1.5V6.8ZM3 11.5H13V5.9C13 5.05992 13 4.63988 12.8365 4.31901C12.6927 4.03677 12.4632 3.8073 12.181 3.66349C11.8601 3.5 11.4401 3.5 10.6 3.5H5.4C4.55992 3.5 4.13988 3.5 3.81901 3.66349C3.53677 3.8073 3.3073 4.03677 3.16349 4.31901C3 4.63988 3 5.05992 3 5.9V11.5Z"></path></svg>'),$U=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=DU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},LU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1603)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 1.25049C15.5 0.836275 15.1642 0.500488 14.75 0.500488C14.3358 0.500488 14 0.836275 14 1.25049V3.67012C12.7187 2.04487 10.7318 1.00049 8.5 1.00049C4.63401 1.00049 1.5 4.1345 1.5 8.00049C1.5 11.8665 4.63401 15.0005 8.5 15.0005C11.6844 15.0005 14.3703 12.8748 15.2199 9.96661C15.3361 9.56902 15.1079 9.15254 14.7103 9.03638C14.3127 8.92023 13.8962 9.14838 13.7801 9.54597C13.1123 11.8319 11 13.5005 8.5 13.5005C5.46243 13.5005 3 11.0381 3 8.00049C3 4.96292 5.46243 2.50049 8.5 2.50049C10.321 2.50049 11.9363 3.3855 12.9377 4.75049H10.5C10.0858 4.75049 9.75 5.08627 9.75 5.50049C9.75 5.9147 10.0858 6.25049 10.5 6.25049H14.75C15.1642 6.25049 15.5 5.9147 15.5 5.50049V1.25049Z"></path></g><defs><clipPath id="clip0_3676_1603"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000488281)"></rect></clipPath></defs></svg>'),_0=t=>{const e=br(),n=()=>t.fill||e.colors.accent;return(()=>{const r=LU.cloneNode(!0),i=r.firstChild,s=i.firstChild;return wn(()=>Mt(s,"fill",n())),r})()},UU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 4.06119V6.75053C13 7.16474 13.3358 7.50053 13.75 7.50053C14.1642 7.50053 14.5 7.16474 14.5 6.75053V2.75053L14.5 2.72807C14.5001 2.63191 14.5003 2.49627 14.4842 2.37627C14.4638 2.22503 14.4063 1.99261 14.2071 1.79342C14.0079 1.59423 13.7755 1.5367 13.6243 1.51637C13.5043 1.50023 13.3686 1.50039 13.2725 1.50051L13.25 1.50053H9.25C8.83579 1.50053 8.5 1.83631 8.5 2.25053C8.5 2.66474 8.83579 3.00053 9.25 3.00053H11.9393L7.21967 7.7202C6.92678 8.01309 6.92678 8.48796 7.21967 8.78086C7.51256 9.07375 7.98744 9.07375 8.28033 8.78086L13 4.06119ZM5.85 1.50053H5.81903H5.81899C5.21528 1.50052 4.71702 1.50051 4.31113 1.53367C3.88956 1.56812 3.50203 1.64204 3.13803 1.82751C2.57354 2.11513 2.1146 2.57407 1.82698 3.13856C1.64151 3.50256 1.56759 3.89009 1.53315 4.31166C1.49998 4.71755 1.49999 5.21581 1.5 5.81953V5.81955V5.85053V10.1505V10.1815V10.1815C1.49999 10.7852 1.49998 11.2835 1.53315 11.6894C1.56759 12.111 1.64151 12.4985 1.82698 12.8625C2.1146 13.427 2.57354 13.8859 3.13803 14.1735C3.50203 14.359 3.88956 14.4329 4.31113 14.4674C4.71702 14.5005 5.21527 14.5005 5.81897 14.5005H5.81901H5.85H10.15H10.181H10.181C10.7847 14.5005 11.283 14.5005 11.6889 14.4674C12.1104 14.4329 12.498 14.359 12.862 14.1735C13.4265 13.8859 13.8854 13.427 14.173 12.8625C14.3585 12.4985 14.4324 12.111 14.4669 11.6894C14.5 11.2835 14.5 10.7853 14.5 10.1816V10.1815V10.1505V9.75053C14.5 9.33631 14.1642 9.00053 13.75 9.00053C13.3358 9.00053 13 9.33631 13 9.75053V10.1505C13 10.793 12.9994 11.2297 12.9718 11.5672C12.945 11.8961 12.8963 12.0642 12.8365 12.1815C12.6927 12.4638 12.4632 12.6932 12.181 12.837C12.0637 12.8968 11.8955 12.9455 11.5667 12.9724C11.2292 12.9999 10.7924 13.0005 10.15 13.0005H5.85C5.20757 13.0005 4.77085 12.9999 4.43328 12.9724C4.10447 12.9455 3.93632 12.8968 3.81902 12.837C3.53677 12.6932 3.3073 12.4638 3.16349 12.1815C3.10372 12.0642 3.05503 11.8961 3.02816 11.5672C3.00058 11.2297 3 10.793 3 10.1505V5.85053C3 5.20809 3.00058 4.77137 3.02816 4.43381C3.05503 4.10499 3.10372 3.93684 3.16349 3.81954C3.3073 3.5373 3.53677 3.30783 3.81902 3.16402C3.93632 3.10425 4.10447 3.05556 4.43328 3.02869C4.77085 3.00111 5.20757 3.00053 5.85 3.00053H6.25C6.66422 3.00053 7 2.66474 7 2.25053C7 1.83631 6.66422 1.50053 6.25 1.50053H5.85Z"></path></svg>'),QE=t=>{const e=br(),n=()=>t.fill||e.colors.accent;return(()=>{const r=UU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},BU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1274)"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.82698 2.63901C1.5 3.28074 1.5 4.12082 1.5 5.80098V8.80098V9.00098V10.201C1.5 11.8811 1.5 12.7212 1.82698 13.3629C2.1146 13.9274 2.57354 14.3864 3.13803 14.674C3.77976 15.001 4.61984 15.001 6.3 15.001H11.7C13.3802 15.001 14.2202 15.001 14.862 14.674C15.4265 14.3864 15.8854 13.9274 16.173 13.3629C16.5 12.7212 16.5 11.8811 16.5 10.201V8.80098C16.5 7.12082 16.5 6.28074 16.173 5.63901C15.8854 5.07452 15.4265 4.61558 14.862 4.32796C14.743 4.26733 14.6172 4.21795 14.4805 4.17772C14.4501 3.49449 14.3722 3.02994 14.173 2.63901C13.8854 2.07452 13.4265 1.61558 12.862 1.32796C12.2202 1.00098 11.3802 1.00098 9.7 1.00098H6.3C4.61984 1.00098 3.77976 1.00098 3.13803 1.32796C2.57354 1.61558 2.1146 2.07452 1.82698 2.63901ZM12.9861 4.00942C12.9684 3.7108 12.9281 3.49982 12.8365 3.31999C12.6927 3.03775 12.4632 2.80828 12.181 2.66447C11.8601 2.50098 11.4401 2.50098 10.6 2.50098H5.4C4.55992 2.50098 4.13988 2.50098 3.81901 2.66447C3.53677 2.80828 3.3073 3.03775 3.16349 3.31999C3.03615 3.56991 3.00799 3.88 3.00177 4.40188C3.04646 4.37612 3.09189 4.35146 3.13803 4.32796C3.77976 4.00098 4.61984 4.00098 6.3 4.00098H11.7C12.1966 4.00098 12.6197 4.00098 12.9861 4.00942ZM3 7.90098V8.10098C3 8.47468 3 8.76527 3.01439 9.00098H3V11.101C3 11.9411 3 12.3611 3.16349 12.682C3.3073 12.9642 3.53677 13.1937 3.81901 13.3375C4.13988 13.501 4.55992 13.501 5.4 13.501H12.6C13.4401 13.501 13.8601 13.501 14.181 13.3375C14.4632 13.1937 14.6927 12.9642 14.8365 12.682C15 12.3611 15 11.9411 15 11.101V7.90098C15 7.0609 15 6.64086 14.8365 6.31999C14.6927 6.03775 14.4632 5.80828 14.181 5.66447C13.8601 5.50098 13.4401 5.50098 12.6 5.50098H5.4C4.55992 5.50098 4.13988 5.50098 3.81901 5.66447C3.53677 5.80828 3.3073 6.03775 3.16349 6.31999C3 6.64086 3 7.0609 3 7.90098ZM10.5 9.75098C10.5 9.33676 10.8358 9.00098 11.25 9.00098H12.75C13.1642 9.00098 13.5 9.33676 13.5 9.75098C13.5 10.1652 13.1642 10.501 12.75 10.501H11.25C10.8358 10.501 10.5 10.1652 10.5 9.75098Z"></path></g><defs><clipPath id="clip0_3676_1274"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000976562)"></rect></clipPath></defs></svg>'),FU=t=>{const e=br(),n=()=>t.fill||e.colors.accent;return(()=>{const r=BU.cloneNode(!0),i=r.firstChild,s=i.firstChild;return wn(()=>Mt(s,"fill",n())),r})()},jU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M39.6319 16.8719C38.3212 16.2041 36.7002 16.0478 34 16.0112V11C34 5.47715 29.5228 1 24 1C18.4772 1 14 5.47715 14 11V16.0112C11.2998 16.0478 9.6788 16.2041 8.36808 16.8719C6.86278 17.6389 5.63893 18.8628 4.87195 20.3681C4 22.0794 4 24.3196 4 28.8V32.2C4 36.6804 4 38.9206 4.87195 40.6319C5.63893 42.1372 6.86278 43.3611 8.36808 44.1281C10.0794 45 12.3196 45 16.8 45H31.2C35.6804 45 37.9206 45 39.6319 44.1281C41.1372 43.3611 42.3611 42.1372 43.1281 40.6319C44 38.9206 44 36.6804 44 32.2V28.8C44 24.3196 44 22.0794 43.1281 20.3681C42.3611 18.8628 41.1372 17.6389 39.6319 16.8719ZM31 11V16H17V11C17 7.13401 20.134 4 24 4C27.866 4 31 7.13401 31 11ZM7.54497 21.73C7 22.7996 7 24.1997 7 27V34C7 36.8003 7 38.2004 7.54497 39.27C8.02433 40.2108 8.78924 40.9757 9.73005 41.455C10.7996 42 12.1997 42 15 42H33C35.8003 42 37.2004 42 38.27 41.455C39.2108 40.9757 39.9757 40.2108 40.455 39.27C41 38.2004 41 36.8003 41 34V27C41 24.1997 41 22.7996 40.455 21.73C39.9757 20.7892 39.2108 20.0243 38.27 19.545C37.2004 19 35.8003 19 33 19H15C12.1997 19 10.7996 19 9.73005 19.545C8.78924 20.0243 8.02433 20.7892 7.54497 21.73ZM24 24C23.1716 24 22.5 24.6716 22.5 25.5V29.5C22.5 30.3284 23.1716 31 24 31C24.8284 31 25.5 30.3284 25.5 29.5V25.5C25.5 24.6716 24.8284 24 24 24Z"></path></svg>'),zU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=jU.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=t.class,a=n();return o!==s._v$&&Mt(r,"class",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},WU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.485 37.3849C40.894 33.9506 43 29.2212 43 24C43 13.5066 34.4934 5 24 5C13.5066 5 5 13.5066 5 24C5 29.2213 7.1061 33.9507 10.5151 37.385C13.3583 32.9438 18.3354 30 24.0001 30C29.6647 30 34.6418 32.9437 37.485 37.3849ZM35.1809 39.3635C32.9143 35.5532 28.7554 33 24.0001 33C19.2448 33 15.0858 35.5533 12.8193 39.3636C15.9564 41.6506 19.8206 43 24 43C28.1795 43 32.0437 41.6505 35.1809 39.3635ZM24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM24 24C26.7614 24 29 21.7614 29 19C29 16.2386 26.7614 14 24 14C21.2386 14 19 16.2386 19 19C19 21.7614 21.2386 24 24 24ZM24 27C28.4183 27 32 23.4183 32 19C32 14.5817 28.4183 11 24 11C19.5817 11 16 14.5817 16 19C16 23.4183 19.5817 27 24 27Z"></path></svg>'),qU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=WU.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=t.class,a=n();return o!==s._v$&&Mt(r,"class",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},HU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5607 4.43934C33.9749 3.85355 33.0251 3.85355 32.4393 4.43934C31.8536 5.02513 31.8536 5.97487 32.4393 6.56066L37.8787 12H10.5C9.67157 12 9 12.6716 9 13.5C9 14.3284 9.67157 15 10.5 15H37.8787L32.4393 20.4393C31.8536 21.0251 31.8536 21.9749 32.4393 22.5607C33.0251 23.1464 33.9749 23.1464 34.5607 22.5607L42.5607 14.5607C43.1464 13.9749 43.1464 13.0251 42.5607 12.4393L34.5607 4.43934ZM13.4393 25.4393C14.0251 24.8536 14.9749 24.8536 15.5607 25.4393C16.1464 26.0251 16.1464 26.9749 15.5607 27.5607L10.1213 33H37.5C38.3284 33 39 33.6716 39 34.5C39 35.3284 38.3284 36 37.5 36H10.1213L15.5607 41.4393C16.1464 42.0251 16.1464 42.9749 15.5607 43.5607C14.9749 44.1464 14.0251 44.1464 13.4393 43.5607L5.43934 35.5607C4.85355 34.9749 4.85355 34.0251 5.43934 33.4393L13.4393 25.4393Z"></path></svg>'),VU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=HU.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=t.class,a=n();return o!==s._v$&&Mt(r,"class",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},KU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 12.002C1.75 9.20169 1.75 7.80156 2.29497 6.732C2.77433 5.79119 3.53924 5.02629 4.48005 4.54692C5.54961 4.00195 6.94974 4.00195 9.75 4.00195H17.25C20.0503 4.00195 21.4504 4.00195 22.52 4.54692C23.4608 5.02629 24.2257 5.79119 24.705 6.732C24.8256 6.96861 24.9195 7.2214 24.9926 7.50195H21.5C19.6377 7.50195 18.7065 7.50195 17.9609 7.77334C16.711 8.22828 15.7263 9.21291 15.2714 10.4629C15 11.2085 15 12.1396 15 14.002C15 15.8643 15 16.7954 15.2714 17.541C15.7263 18.791 16.711 19.7756 17.9609 20.2306C18.7065 20.502 19.6377 20.502 21.5 20.502H24.9926C24.9195 20.7825 24.8256 21.0353 24.705 21.2719C24.2257 22.2127 23.4608 22.9776 22.52 23.457C21.4504 24.002 20.0503 24.002 17.25 24.002H9.75C6.94974 24.002 5.54961 24.002 4.48005 23.457C3.53924 22.9776 2.77433 22.2127 2.29497 21.2719C1.75 20.2023 1.75 18.8022 1.75 16.002V12.002ZM16.4999 13.802C16.4999 12.1218 16.4999 11.2817 16.8269 10.64C17.1145 10.0755 17.5735 9.61656 18.138 9.32894C18.7797 9.00196 19.6198 9.00196 21.2999 9.00196H23.1999C24.8801 9.00196 25.7202 9.00196 26.3619 9.32894C26.9264 9.61656 27.3853 10.0755 27.673 10.64C27.9999 11.2817 27.9999 12.1218 27.9999 13.802V14.202C27.9999 15.8821 27.9999 16.7222 27.673 17.3639C27.3853 17.9284 26.9264 18.3874 26.3619 18.675C25.7202 19.002 24.8801 19.002 23.1999 19.002H21.2999C19.6198 19.002 18.7797 19.002 18.138 18.675C17.5735 18.3874 17.1145 17.9284 16.8269 17.3639C16.4999 16.7222 16.4999 15.8821 16.4999 14.202V13.802ZM22.4999 14.002C22.4999 14.9685 21.7164 15.752 20.7499 15.752C19.7834 15.752 18.9999 14.9685 18.9999 14.002C18.9999 13.0355 19.7834 12.252 20.7499 12.252C21.7164 12.252 22.4999 13.0355 22.4999 14.002Z"></path></svg>'),GU=t=>{const e=br(),n=()=>t.fill||e.colors.constant.white;return(()=>{const r=KU.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=t.class,a=n();return o!==s._v$&&Mt(r,"class",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},QU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0001 10.0001C10.0016 8.02333 10.0267 6.98719 10.436 6.18404C10.8195 5.43139 11.4314 4.81947 12.184 4.43597C13.0397 4 14.1598 4 16.4 4H17.6C19.8402 4 20.9603 4 21.816 4.43597C22.5686 4.81947 23.1805 5.43139 23.564 6.18404C24 7.03969 24 8.15979 24 10.4V11.6C24 13.8402 24 14.9603 23.564 15.816C23.1805 16.5686 22.5686 17.1805 21.816 17.564C21.0128 17.9733 19.9767 17.9984 17.9999 17.9999C17.9984 19.9767 17.9733 21.0128 17.564 21.816C17.1805 22.5686 16.5686 23.1805 15.816 23.564C14.9603 24 13.8402 24 11.6 24H10.4C8.15979 24 7.03969 24 6.18404 23.564C5.43139 23.1805 4.81947 22.5686 4.43597 21.816C4 20.9603 4 19.8402 4 17.6V16.4C4 14.1598 4 13.0397 4.43597 12.184C4.81947 11.4314 5.43139 10.8195 6.18404 10.436C6.98719 10.0267 8.02333 10.0016 10.0001 10.0001ZM10 11.5H9.5C8.09987 11.5 7.3998 11.5 6.86502 11.7725C6.39462 12.0122 6.01217 12.3946 5.77248 12.865C5.5 13.3998 5.5 14.0999 5.5 15.5V18.5C5.5 19.9001 5.5 20.6002 5.77248 21.135C6.01217 21.6054 6.39462 21.9878 6.86502 22.2275C7.3998 22.5 8.09987 22.5 9.5 22.5H12.5C13.9001 22.5 14.6002 22.5 15.135 22.2275C15.6054 21.9878 15.9878 21.6054 16.2275 21.135C16.5 20.6002 16.5 19.9001 16.5 18.5V18H16.4C14.1598 18 13.0397 18 12.184 17.564C11.4314 17.1805 10.8195 16.5686 10.436 15.816C10 14.9603 10 13.8402 10 11.6V11.5ZM11.5 9.5C11.5 8.09987 11.5 7.3998 11.7725 6.86502C12.0122 6.39462 12.3946 6.01217 12.865 5.77248C13.3998 5.5 14.0999 5.5 15.5 5.5H18.5C19.9001 5.5 20.6002 5.5 21.135 5.77248C21.6054 6.01217 21.9878 6.39462 22.2275 6.86502C22.5 7.3998 22.5 8.09987 22.5 9.5V12.5C22.5 13.9001 22.5 14.6002 22.2275 15.135C21.9878 15.6054 21.6054 15.9878 21.135 16.2275C20.6002 16.5 19.9001 16.5 18.5 16.5H15.5C14.0999 16.5 13.3998 16.5 12.865 16.2275C12.3946 15.9878 12.0122 15.6054 11.7725 15.135C11.5 14.6002 11.5 13.9001 11.5 12.5V9.5Z"></path></svg>'),YU=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=QU.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=n(),a=n();return o!==s._v$&&Mt(r,"fill",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},ZU=vn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z"></path></svg>'),_3=t=>{const e=br(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{const r=ZU.cloneNode(!0),i=r.firstChild;return wn(()=>Mt(i,"fill",n())),r})()},JU={m:"16px",s:"12px",none:"0"},XU={m:"6px",s:"6px",none:"0"},eB=Ee.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${t=>JU[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,tB=Ee(AI)`
    width: 20px;
    height: 20px;
    border-radius: ${t=>XU[t.theme.borderRadius]};
`,_I=t=>Q($m,{get name(){return t.labelLine1},get secondLine(){return t.labelLine2},get icon(){return Q(eB,{get children(){return Q(Bp,{each:[0,1,2,3],children:e=>Q(tB,{get src(){return t.images[e]}})})}})},onClick:()=>t.onClick()}),nc="telegram-wallet",qp={TON:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/ton-icon-48.png",TG:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/tg.png"},xI=t=>{const[e]=Ea(),n=()=>{if(t.wallet.appName!==nc){if("isPreferred"in t.wallet&&t.wallet.isPreferred)return e("walletItem.recent",{},"Recent");if(bu(t.wallet))return e("walletItem.installed",{},"Installed");if(t.wallet.name==="Tonkeeper")return e("walletItem.popular",{},"Popular")}};return ot((()=>{const r=ot(()=>t.wallet.appName===nc);return()=>r()?Q($m,{get icon(){return t.wallet.imageUrl},get name(){return e("walletItem.walletOn",{},"Wallet in")},secondLine:"Telegram",get badgeUrl(){return qp.TG},onClick:()=>t.onClick()}):Q($m,{get icon(){return t.wallet.imageUrl},get name(){return t.wallet.name},get secondLine(){return n()},secondLineColorPrimary:!1,onClick:()=>t.onClick()})})())},nB=Ee.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${t=>t.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`,rB=Ee.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${t=>t.isShown?t.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${ao("mobile")} {
        width: 100%;
        margin: 0;
    }
`,[iB,sB]=Dt(((kE=Ca())==null?void 0:kE.innerHeight)||0);Ca()&&window.addEventListener("resize",()=>sB(window.innerHeight));const[Sf,oB]=Dt(ef("mobile")),Lm=()=>oB(ef("mobile"));Ca()&&(window.addEventListener("resize",()=>Lm()),window.addEventListener("load",()=>Lm(),{once:!0}));const SI=t=>{const[e,n]=Dt(!1),r=o=>{n(o.target.scrollTop>0)},i=()=>Sf()?150:200,s=()=>t.maxHeight!==void 0?`${t.maxHeight}px`:`${iB()-i()}px`;return[Q(rB,{get isShown(){return e()}}),Q(nB,{get maxHeight(){return s()},onScroll:r,get class(){return t.class},get children(){return t.children}})]},aB=Ee.a`
    display: block;
    text-decoration: unset;
`,Um=t=>Q(aB,la({get href(){return t.href},get target(){return t.blank?"_blank":"_self"},get class(){return t.class}},()=>t.blank?{rel:"noreferrer noopener"}:{},{get children(){return t.children}})),kl=Ny(),cB=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z"></path></svg>'),lB=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=cB.cloneNode(!0),i=r.firstChild;return wn(s=>{const o=t.class,a=n();return o!==s._v$&&Mt(r,"class",s._v$=o),a!==s._v$2&&Mt(i,"fill",s._v$2=a),s},{_v$:void 0,_v$2:void 0}),r})()},uB=vn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z"></path></svg>'),dB=t=>{const e=br(),n=()=>t.fill||e.colors.icon.primary;return(()=>{const r=uB.cloneNode(!0),i=r.firstChild,s=i.nextSibling;return wn(o=>{const a=n(),d=n();return a!==o._v$&&Mt(i,"fill",o._v$=a),d!==o._v$2&&Mt(s,"fill",o._v$2=d),o},{_v$:void 0,_v$2:void 0}),r})()},fB={m:"8px",s:"4px",none:"0"},hB={m:"16px",s:"8px",none:"0"},pB=Ee.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${t=>hB[t.theme.borderRadius]};

    background-color: ${t=>t.theme.colors.background.primary}
           
    color: ${t=>t.theme.colors.text.primary}
`,gB=Ee.ul`
    background-color: ${t=>t.theme.colors.background.primary};
    padding: 8px;
`,YE=Ee.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${t=>t.theme.colors.background.primary};
    border: none;
    border-radius: ${t=>fB[t.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${t=>t.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,ZE=vn("<li></li>"),ab=t=>Q($o,{get translationKey(){return t.translationKey},fontSize:"15px",fontWeight:"590",get children(){return t.children}}),mB=t=>{const e=os(kl),[n,r]=Dt(!1),i=()=>Dn(void 0,null,function*(){const o=o5(e.account.address,e.account.chain===B0.TESTNET);yield My(o),r(!0),setTimeout(()=>r(!1),1e3)}),s=()=>{e.disconnect(),t.onClose()};return Q(pB,{ref(o){const a=t.ref;typeof a=="function"?a(o):t.ref=o},get class(){return t.class},"data-tc-dropdown":"true",get children(){return Q(gB,{get children(){return[(()=>{const o=ZE.cloneNode(!0);return Oi(o,Q(YE,{onClick:()=>i(),get children(){return[Q(lB,{}),Q(Vt,{get when(){return!n()},get children(){return Q(ab,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),Q(Vt,{get when(){return n()},get children(){return Q(ab,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),o})(),(()=>{const o=ZE.cloneNode(!0);return Oi(o,Q(YE,{onClick:()=>s(),get children(){return[Q(dB,{}),Q(ab,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),o})()]}})}})},yB={m:"16px",s:"8px",none:"0"},wB=Ee.div`
    width: 256px;
    padding: 12px 16px;
    display: flex;
    gap: 9px;

    background-color: ${t=>t.theme.colors.background.primary};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${t=>yB[t.theme.borderRadius]};
`,vB=Ee.div`
    width: 192px;

    > h3 {
        font-size: 15px;
    }
`,bB=Ee($o)`
    margin-top: 4px;
    color: ${t=>t.theme.colors.text.secondary};
`,E5=t=>{const e=Wp(t);return Q(wB,la({get class(){return t.class},"data-tc-notification":"true"},e,{get children(){return[Q(vB,{get children(){return[Q(b5,{get translationKey(){return t.header.translationKey},get translationValues(){return t.header.translationValues},get children(){return t.children}}),Q(Vt,{get when(){return t.text},get children(){return Q(bB,{get translationKey(){return t.text.translationKey},get translationValues(){return t.text.translationValues}})}})]}}),ot(()=>t.icon)]}}))},CB=Ee(pc)`
    align-self: center;
`,EB=t=>{const e=os(kl),[n]=Ea(),r=()=>e.wallet&&"name"in e.wallet?e.wallet.name:n("common.yourWallet",{},"Your wallet");return Q(E5,{get header(){return{translationKey:"notifications.confirm.header",translationValues:{name:r()}}},get class(){return t.class},get icon(){return Q(CB,{})},"data-tc-notification-confirm":"true",children:"Confirm operation in your wallet"})},AB=Ee($y)`
    margin-top: 2px;
`,_B=t=>Q(E5,{header:{translationKey:"notifications.transactionCanceled.header"},text:{translationKey:"notifications.transactionCanceled.text"},get icon(){return Q(AB,{size:"xs"})},get class(){return t.class},"data-tc-notification-tx-cancelled":"true",children:"Transaction cancelled"}),xB=Ee(C5)`
    margin-top: 2px;
`,SB=t=>Q(E5,{header:{translationKey:"notifications.transactionSent.header"},text:{translationKey:"notifications.transactionSent.text"},get icon(){return Q(xB,{})},get class(){return t.class},"data-tc-notification-tx-sent":"true",children:"Transaction sent"}),cb=cc`
    transform: translateY(-8px);
    margin-bottom: 12px;
`,IB={timeout:4500},[JE,TB]=Dt(null);function PB(t){const{timeout:e}=Wn(Wn({},IB),t),[n,r]=Dt([]),[i,s]=Dt([]);return fi(LD(Ja,o=>{var a;if(!o||!o.showNotification||JE()===o||((a=JE())==null?void 0:a.name)==="confirm-transaction"&&o.name==="confirm-transaction")return;TB(o),r(f=>f.filter(h=>h.action!=="confirm-transaction"));const d={action:o.name};r(f=>[...f,d]);const l=setTimeout(()=>{r(f=>f.filter(h=>h!==d)),s(f=>f.filter(h=>h!==l))},e);s(f=>[...f,l])})),ss(()=>{i().forEach(o=>clearTimeout(o))}),n}const NB=vn('<div data-tc-list-notifications="true"></div>'),kB=t=>{const e=PB();return(()=>{const n=NB.cloneNode(!0);return Oi(n,Q(yL,{onBeforeEnter:r=>{ca(r,[{opacity:0,transform:"translateY(0)"},{opacity:1,transform:"translateY(-8px)"}],{duration:200})},onExit:(r,i)=>{ca(r,[{opacity:1,transform:"translateY(-8px)"},{opacity:0,transform:"translateY(-30px)"}],{duration:200}).finished.then(i)},get children(){return Q(Bp,{get each(){return e()},children:r=>Q(Fp,{get children(){return[Q(Ri,{get when(){return r.action==="transaction-sent"},get children(){return Q(SB,{class:cb})}}),Q(Ri,{get when(){return r.action==="transaction-canceled"},get children(){return Q(_B,{class:cb})}}),Q(Ri,{get when(){return r.action==="confirm-transaction"},get children(){return Q(EB,{class:cb})}})]}})})}})),wn(()=>u5(n,t.class)),n})()},II=Ee(Ur)`
    background-color: ${t=>t.theme.colors.connectButton.background};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Vu(t.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,RB=Ee(II)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${t=>t.theme.colors.background.primary};
`,OB=Ee(Ur)`
    min-width: 148px;
    height: 40px;

    background-color: ${t=>t.theme.colors.background.primary};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Vu(t.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,MB=Ee(pc)`
    height: 18px;
    width: 18px;
`,DB=Ee.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,$B=Ee(mB)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,LB=Ee(kB)`
    > div:first-child {
        margin-top: 20px;
    }
`;function TI(t){return t.split("-")[0]}function UB(t){return t.split("-")[1]}function BB(t){return["top","bottom"].includes(TI(t))?"x":"y"}function FB(t){return t==="y"?"height":"width"}function XE(t,e,n){let{reference:r,floating:i}=t;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=BB(e),d=FB(a),l=r[d]/2-i[d]/2,f=TI(e),h=a==="x";let g;switch(f){case"top":g={x:s,y:r.y-i.height};break;case"bottom":g={x:s,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:o};break;case"left":g={x:r.x-i.width,y:o};break;default:g={x:r.x,y:r.y}}switch(UB(e)){case"start":g[a]-=l*(n&&h?-1:1);break;case"end":g[a]+=l*(n&&h?-1:1);break}return g}const jB=(t,e,n)=>Dn(void 0,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),d=yield o.isRTL==null?void 0:o.isRTL(e);if({}.NODE_ENV!=="production"){if(o==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),a.filter(w=>{let{name:x}=w;return x==="autoPlacement"||x==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!t||!e)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let l=yield o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=XE(l,r,d),g=r,y={},v=0;for(let w=0;w<a.length;w++){const{name:x,fn:k}=a[w],{x:N,y:R,data:L,reset:O}=yield k({x:f,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:l,platform:o,elements:{reference:t,floating:e}});if(f=N??f,h=R??h,y=Us(Wn({},y),{[x]:Wn(Wn({},y[x]),L)}),{}.NODE_ENV!=="production"&&v>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),O&&v<=50){v++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(l=O.rects===!0?yield o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:f,y:h}=XE(l,g,d)),w=-1;continue}}return{x:f,y:h,placement:g,strategy:i,middlewareData:y}});function eA(t){return Us(Wn({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function gc(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ha(t){return gc(t).getComputedStyle(t)}function Al(t){return NI(t)?(t.nodeName||"").toLowerCase():""}let Eg;function PI(){if(Eg)return Eg;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Eg=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Eg):navigator.userAgent}function pa(t){return t instanceof gc(t).HTMLElement}function so(t){return t instanceof gc(t).Element}function NI(t){return t instanceof gc(t).Node}function tA(t){if(typeof ShadowRoot>"u")return!1;const e=gc(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ly(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ha(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(i)}function zB(t){return["table","td","th"].includes(Al(t))}function A5(t){const e=/firefox/i.test(PI()),n=ha(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null?s.includes(i):!1})}function kI(){return!/^((?!chrome|android).)*safari/i.test(PI())}function _5(t){return["html","body","#document"].includes(Al(t))}const nA=Math.min,x0=Math.max,rA=Math.round,x3={x:1,y:1};function q0(t){const e=!so(t)&&t.contextElement?t.contextElement:so(t)?t:null;if(!e)return x3;const n=e.getBoundingClientRect(),r=ha(e);if(r.boxSizing!=="border-box")return pa(e)?{x:e.offsetWidth>0&&rA(n.width)/e.offsetWidth||1,y:e.offsetHeight>0&&rA(n.height)/e.offsetHeight||1}:x3;let i=n.width/parseFloat(r.width),s=n.height/parseFloat(r.height);return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}function _l(t,e,n,r){var i,s,o,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const d=t.getBoundingClientRect();let l=x3;e&&(r?so(r)&&(l=q0(r)):l=q0(t));const f=so(t)?gc(t):window,h=!kI()&&n,g=(d.left+(h&&(i=(s=f.visualViewport)==null?void 0:s.offsetLeft)!=null?i:0))/l.x,y=(d.top+(h&&(o=(a=f.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/l.y,v=d.width/l.x,w=d.height/l.y;return{width:v,height:w,top:y,right:g+v,bottom:y+w,left:g,x:g,y}}function Rl(t){return((NI(t)?t.ownerDocument:t.document)||window.document).documentElement}function Uy(t){return so(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function RI(t){return _l(Rl(t)).left+Uy(t).scrollLeft}function WB(t,e,n){const r=pa(e),i=Rl(e),s=_l(t,!0,n==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Al(e)!=="body"||Ly(i))&&(o=Uy(e)),pa(e)){const d=_l(e,!0);a.x=d.x+e.clientLeft,a.y=d.y+e.clientTop}else i&&(a.x=RI(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function H0(t){if(Al(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(tA(t)?t.host:null)||Rl(t);return tA(e)?e.host:e}function iA(t){return!pa(t)||ha(t).position==="fixed"?null:t.offsetParent}function qB(t){let e=H0(t);for(;pa(e)&&!_5(e);){if(A5(e))return e;e=H0(e)}return null}function sA(t){const e=gc(t);let n=iA(t);for(;n&&zB(n)&&ha(n).position==="static";)n=iA(n);return n&&(Al(n)==="html"||Al(n)==="body"&&ha(n).position==="static"&&!A5(n))?e:n||qB(t)||e}function HB(t){if(pa(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=_l(t);return{width:e.width,height:e.height}}function VB(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=pa(n),s=Rl(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const d={x:0,y:0};if((i||!i&&r!=="fixed")&&((Al(n)!=="body"||Ly(s))&&(o=Uy(n)),pa(n))){const l=_l(n);a=q0(n),d.x=l.x+n.clientLeft,d.y=l.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+d.x,y:e.y*a.y-o.scrollTop*a.y+d.y}}function KB(t,e){const n=gc(t),r=Rl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,d=0;if(i){s=i.width,o=i.height;const l=kI();(l||!l&&e==="fixed")&&(a=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:a,y:d}}function GB(t){var e;const n=Rl(t),r=Uy(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=x0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=x0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+RI(t);const d=-r.scrollTop;return ha(i||n).direction==="rtl"&&(a+=x0(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:d}}function OI(t){const e=H0(t);return _5(e)?t.ownerDocument.body:pa(e)&&Ly(e)?e:OI(e)}function S0(t,e){var n;e===void 0&&(e=[]);const r=OI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=gc(r);return i?e.concat(s,s.visualViewport||[],Ly(r)?r:[]):e.concat(r,S0(r))}function QB(t,e){const n=_l(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pa(t)?q0(t):{x:1,y:1},o=t.clientWidth*s.x,a=t.clientHeight*s.y,d=i*s.x,l=r*s.y;return{top:l,left:d,right:d+o,bottom:l+a,x:d,y:l,width:o,height:a}}function oA(t,e,n){return e==="viewport"?eA(KB(t,n)):so(e)?QB(e,n):eA(GB(Rl(t)))}function YB(t,e){const n=e.get(t);if(n)return n;let r=S0(t).filter(a=>so(a)&&Al(a)!=="body"),i=null;const s=ha(t).position==="fixed";let o=s?H0(t):t;for(;so(o)&&!_5(o);){const a=ha(o),d=A5(o);(s?!d&&!i:!d&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position))?r=r.filter(f=>f!==o):i=a,o=H0(o)}return e.set(t,r),r}function ZB(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?YB(e,this._c):[].concat(n),r],a=o[0],d=o.reduce((l,f)=>{const h=oA(e,f,i);return l.top=x0(h.top,l.top),l.right=nA(h.right,l.right),l.bottom=nA(h.bottom,l.bottom),l.left=x0(h.left,l.left),l},oA(e,a,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}const JB={getClippingRect:ZB,convertOffsetParentRelativeRectToViewportRelativeRect:VB,isElement:so,getDimensions:HB,getOffsetParent:sA,getDocumentElement:Rl,getScale:q0,getElementRects(t){return Dn(this,null,function*(){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||sA,s=this.getDimensions;return{reference:WB(e,yield i(n),r),floating:Wn({x:0,y:0},yield s(n))}})},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>ha(t).direction==="rtl"};function XB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,d=i&&!a,l=d||s?[...so(t)?S0(t):t.contextElement?S0(t.contextElement):[],...S0(e)]:[];l.forEach(v=>{d&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});let f=null;if(o){let v=!0;f=new ResizeObserver(()=>{v||n(),v=!1}),so(t)&&!a&&f.observe(t),!so(t)&&t.contextElement&&!a&&f.observe(t.contextElement),f.observe(e)}let h,g=a?_l(t):null;a&&y();function y(){const v=_l(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,h=requestAnimationFrame(y)}return n(),()=>{var v;l.forEach(w=>{d&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),(v=f)==null||v.disconnect(),f=null,a&&cancelAnimationFrame(h)}}const eF=(t,e,n)=>{const r=new Map,i=Wn({platform:JB},n),s=Us(Wn({},i.platform),{_c:r});return jB(t,e,Us(Wn({},i),{platform:s}))};function tF(t,e,n){let r=()=>{var h;return(h=n==null?void 0:n.placement)!=null?h:"bottom"},i=()=>{var h;return(h=n==null?void 0:n.strategy)!=null?h:"absolute"},[s,o]=Dt({x:null,y:null,placement:r(),strategy:i(),middlewareData:{}}),[a,d]=Dt();fi(()=>{let h=a();if(h)throw h.value});let l=ot(()=>(t(),e(),{}));function f(){let h=t(),g=e();if(h&&g){let y=l();eF(h,g,{middleware:n==null?void 0:n.middleware,placement:r(),strategy:i()}).then(v=>{y===l()&&o(v)},v=>{d(v)})}}return fi(()=>{let h=t(),g=e();if(r(),i(),h&&g)if(n!=null&&n.whileElementsMounted){let y=n.whileElementsMounted(h,g,f);y&&ss(y)}else f()}),{get x(){return s().x},get y(){return s().y},get placement(){return s().placement},get strategy(){return s().strategy},get middlewareData(){return s().middlewareData},update:f}}const nF=vn('<tc-root data-tc-dropdown-container="true"></tc-root>'),rF=()=>{const t=br(),e=os(qf),n=os(kl),[r,i]=Dt(!1),[s,o]=Dt(e.account),[a,d]=Dt(!e.account);let l;const[f,h]=Dt(),[g,y]=Dt(),v=tF(g,f,{whileElementsMounted:XB,placement:"bottom-end"}),w=()=>{const N=s();if(N){const R=o5(N.address,N.chain===B0.TESTNET);return R.slice(0,4)+"…"+R.slice(-4)}return""};n.connectionRestored.then(()=>d(!1));const x=e.onStatusChange(N=>{if(!N){i(!1),o(null),d(!1);return}o(N.account),d(!1)}),k=N=>{if(!s()||!r())return;const R=g().contains(N.target),L=l.contains(N.target);!R&&!L&&i(!1)};return WS(()=>{document.body.addEventListener("click",k)}),ss(()=>{document.body.removeEventListener("click",k),x()}),Q(Af,{component:Ga,get children(){return[Q(Vt,{get when(){return a()},get children(){return Q(OB,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return Q(MB,{})}})}}),Q(Vt,{get when(){return!a()},get children(){return[Q(Vt,{get when(){return!s()},get children(){return Q(II,{onClick:()=>n.openModal(),"data-tc-connect-button":"true",scale:"s",get children(){return[Q(yU,{get fill(){return t.colors.connectButton.foreground}}),Q($o,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return t.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),Q(Vt,{get when(){return s()},get children(){return Q(DB,{get children(){return[Q(RB,{onClick:()=>i(N=>!N),ref:y,"data-tc-dropdown-button":"true",scale:"s",get children(){return[Q($o,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return w()}}),Q(yI,{direction:"bottom"})]}}),Q(eI,{get children(){const N=Ai(()=>document.importNode(nF,!0));return sf(h,N),N.style.setProperty("z-index","999"),N._$owner=UD(),Oi(N,Q(v5,{onBeforeEnter:R=>{ca(R,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(R,L)=>{ca(R,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(L)},get children(){return Q(Vt,{get when(){return r()},get children(){return Q($B,{get hidden(){return!r()},onClose:()=>i(!1),ref(R){const L=l;typeof L=="function"?L(R):l=R}})}})}}),null),Oi(N,Q(LB,{}),null),wn(R=>{var L,O;const D=v.strategy,F=`${(L=v.y)!=null?L:0}px`,q=`${(O=v.x)!=null?O:0}px`;return D!==R._v$&&N.style.setProperty("position",R._v$=D),F!==R._v$2&&N.style.setProperty("top",R._v$2=F),q!==R._v$3&&N.style.setProperty("left",R._v$3=q),R},{_v$:void 0,_v$2:void 0,_v$3:void 0}),N}})]}})}})]}})]}})},MI=Ee(vI)`
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 18px;
    padding-bottom: 0;

    ${ao("mobile")} {
        padding-left: 0;
        padding-right: 0;

        min-height: 364px;
    }
`,DI=Ee(Aa)`
    margin-top: 12px;

    ${ao("mobile")} {
        padding: 0 10px;
    }
`,$I=Ee.div`
    margin: 30px 0;
    width: 100%;
    display: flex;
    justify-content: center;

    ${ao("mobile")} {
        height: 160px;
        align-items: center;
    }
`;Ee($o)`
    min-width: 84px;
    text-align: center;
    font-weight: 590;
`;Ee(zL)`
    margin: 0 auto 22px;
`;const[Rn,Ag]=m5({buttonRootId:null,language:"en",returnStrategy:"back",twaReturnUrl:void 0,walletsListConfiguration:{},enableAndroidBackHandler:!0});function iF(t){return[...new Set(t)]}function sF(t,e,n){return e.map(r=>{const i=n.find(s=>s[t]===r[t]);return n=n.filter(s=>s[t]!==r[t]),i===void 0?r:i}).concat(n)}function oF(t){return"jsBridgeKey"in t?Us(Wn({},t),{injected:Iu.isWalletInjected(t.jsBridgeKey),embedded:Iu.isInsideWalletBrowser(t.jsBridgeKey)}):t}function x5(t,e){var n;return e&&(n=e.includeWallets)!=null&&n.length&&(t=sF("name",t,e.includeWallets.map(oF))),t}function aA(t){return t.platforms.some(e=>["macos","linux","windows"].includes(e))}function I0(t){return t.platforms.some(e=>["ios","android"].includes(e))}function cA(t){return t.platforms.some(e=>["chrome","firefox","safari"].includes(e))}function Zc(t,e){return e?t.name.toLowerCase()===e.toLowerCase()||t.appName.toLowerCase()===e.toLowerCase():!1}const aF=Ee.div`
    display: flex;
    flex-direction: column;
    align-items: center;
`,cF=Ee(Aa)`
    margin-bottom: 18px;
`;Ee.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.12;
    background: ${t=>t.isShown?t.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${ao("mobile")} {
        width: 100%;
    }
`;const lF=Ee.ul`
    display: grid;
    grid-template-columns: repeat(auto-fit, 92px);
    grid-template-rows: auto;
    align-content: flex-start;
    justify-content: center;
    row-gap: 8px;
    width: 100%;
    padding: 0 0 16px;
    align-self: flex-start;
    max-width: 400px;
    margin: 0 auto;
    list-style: none;

    > li {
        display: block;
        height: fit-content;
    }

    ${ao("mobile")} {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0;
        padding: 8px 12px 16px;
        max-width: none;

        > li {
            min-width: 78px;
            display: flex;
        }

        > li > * {
            width: 100%;
        }
    }
`;Ee(Ur)`
    display: block;
    margin: 0 auto 1px;
    font-size: 15px;
`;const uF=Ee(Gu)`
    position: absolute;
    top: 16px;
    left: 16px;
`,dF=Ee(xI)`
    height: 100%;
`,fF=vn("<li></li>"),hF=t=>{const e=()=>Sf()?void 0:510,n=()=>Sf()?t.walletsList.filter(I0):t.walletsList;return Q(aF,{"data-tc-wallets-modal-list":"true",get children(){return[Q(uF,{icon:"arrow",onClick:()=>t.onBack()}),Q(cF,{translationKey:"walletModal.wallets",children:"Wallets"}),Q(SI,{get maxHeight(){return e()},get children(){return Q(lF,{get children(){return Q(Bp,{get each(){return n()},children:r=>(()=>{const i=fF.cloneNode(!0);return Oi(i,Q(dF,{wallet:r,onClick:()=>t.onSelect(r)})),i})()})}})}})]}})},pF={m:"16px",s:"12px",none:"0"},gF={m:"6px",s:"6px",none:"0"},mF=Ee.div`
    display: flex;
    flex-direction: column;
`,yF=Ee.div`
    flex: 1;
    margin-top: ${t=>t.qr?"0":"18px"};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,wF=Ee(Dy)`
    margin-bottom: 24px;
`,vF=Ee(Aa)`
    max-width: 288px;
    margin: 0 auto 2px;
`,bF=Ee(Nl)`
    max-width: 288px;
    text-align: center;
    margin: 0 auto 20px;
`,CF=Ee(Gu)`
    position: absolute;
    top: 16px;
    left: 16px;
`,u0=Ee.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,EF=Ee(u0)`
    padding-bottom: 0;
`,lb=Ee(Ur)`
    margin-bottom: 24px;
`,AF=Ee(pc)`
    margin-bottom: 18px;
    margin-top: 2px;
`,_F=Ee($y)`
    margin-bottom: 16px;
`,_g=Ee(Nl)`
    color: ${t=>t.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,xF=Ee(Ur)`
    margin-top: -8px;
    margin-bottom: 24px;
    width: 100%;
    padding: 12px 12px 12px 20px;
    border-radius: ${t=>pF[t.theme.borderRadius]};
    font-size: 16px;
    line-height: 20px;
`,SF=Ee(Ku)`
    width: 32px;
    height: 32px;
    border-radius: ${t=>gF[t.theme.borderRadius]};
`,qr=t=>{const[e]=Ea();return ot(()=>{var n;return e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString())})};function er(t,e){let n;typeof e=="string"?n=e:n=fa()?e.twaReturnUrl||e.returnStrategy:"none";const r=IF(t,"ret",n);if(!hl(t))return r;const i=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+AS(i)}function Hp(t,e){e=Wn({},e);const n=TF(t),r=new URL(n);if(r.searchParams.has("startapp")||r.searchParams.append("startapp","tonconnect"),hI()){e.returnStrategy="back";const i=er(r.toString(),e.returnStrategy);hr(i)}else if(fa())if(au("ios","android","macos","tdesktop","web")){e.returnStrategy="back";const i=er(r.toString(),e.returnStrategy);C3(i)}else au("weba")?C3(er(r.toString(),e)):hr(er(r.toString(),e));else if(Po("ios")){e.returnStrategy==="back"&&(sn("safari")?e.returnStrategy="back":sn("chrome")?e.returnStrategy="googlechrome://":sn("firefox")?e.returnStrategy="firefox://":sn("opera")?e.returnStrategy="opera-http://":e.returnStrategy=location.href);const i=sn("chrome"),s=sn("firefox");if((i||s)&&!e.forceRedirect){const a=er(r.toString(),e.returnStrategy),d=xg(a);al(d,()=>hr(a))}else{const a=er(r.toString(),e.returnStrategy);hr(a)}}else if(Po("android")){e.returnStrategy="back";const i=sn("chrome"),s=sn("firefox");if((i||s)&&!e.forceRedirect){const a=er(r.toString(),e.returnStrategy),d=xg(a);al(d,()=>hr(a))}else{const a=er(r.toString(),e.returnStrategy);hr(a)}}else if(Po("ipad")){e.returnStrategy==="back"&&(sn("safari")?e.returnStrategy="back":sn("chrome")?e.returnStrategy="googlechrome://":sn("firefox")?e.returnStrategy="firefox://":sn("opera")?e.returnStrategy="opera-http://":e.returnStrategy=location.href);const i=sn("chrome"),s=sn("firefox"),o=(i||s)&&!e.forceRedirect,a=er(r.toString(),e.returnStrategy);if(o){const d=xg(a);al(d,()=>hr(a))}else hr(a)}else if(Po("macos","windows","linux")){e.returnStrategy="back",e.twaReturnUrl=void 0;const i=er(r.toString(),e.returnStrategy);if(e.forceRedirect)hr(i);else{const s=xg(i);al(s,()=>hr(i))}}else hr(er(r.toString(),e))}function Vp(t,e,n,r){if(n=Wn({},n),hI())if(Po("ios","android"))n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),r("universal-link"),A0(er(t,n.returnStrategy),"_self");else{r("universal-link");const i=er(t,n.returnStrategy);hr(i)}else if(fa())if(au("ios","android")){n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),r("universal-link");const i=er(t,n.returnStrategy);C3(i,()=>{r("universal-link"),hr(i)})}else if(au("macos","tdesktop")){n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve");const i=er(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),al(bg(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else if(au("weba")){n.returnStrategy==="back"&&(sn("safari")?n.returnStrategy=location.href:sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);const i=er(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),al(bg(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else if(au("web")){n.returnStrategy==="back"&&(sn("safari")?n.returnStrategy=location.href:sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);const i=er(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),al(bg(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else{r("universal-link");const i=er(t,n.returnStrategy);hr(i)}else if(Po("ios"))n.returnStrategy==="back"&&(sn("safari")?n.returnStrategy="none":sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),sn("chrome")?(r("universal-link"),A0(er(t,n.returnStrategy),"_self")):(r("universal-link"),hr(er(t,n.returnStrategy)));else if(Po("android"))n.returnStrategy==="back"&&(sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),r("universal-link"),hr(er(t,n.returnStrategy));else if(Po("ipad"))n.returnStrategy==="back"&&(sn("safari")?n.returnStrategy="none":sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),sn("chrome")?(r("universal-link"),A0(er(t,n.returnStrategy),"_self")):(r("universal-link"),hr(er(t,n.returnStrategy)));else if(Po("macos","windows","linux")){n.returnStrategy==="back"&&(sn("safari")?n.returnStrategy="none":sn("chrome")?n.returnStrategy="googlechrome://":sn("firefox")?n.returnStrategy="firefox://":sn("opera")?n.returnStrategy="opera-http://":n.returnStrategy="none");const i=er(t,n.returnStrategy);!!e&&!n.forceRedirect?(r("custom-deeplink"),al(bg(i,e),()=>{r("universal-link"),hr(i)})):(r("universal-link"),hr(i))}else r("universal-link"),hr(er(t,n.returnStrategy))}function IF(t,e,n){const r=new URL(t);return r.searchParams.append(e,n),r.toString()}function TF(t){const e=new URL(t);return e.searchParams.has("attach")&&(e.searchParams.delete("attach"),e.pathname+="/start"),e.toString()}function xg(t){const e=new URL(t),[,n,r]=e.pathname.split("/"),i=e.searchParams.get("startapp");return`tg://resolve?domain=${n}&appname=${r}&startapp=${i}`}const LI=t=>{const[e,n]=Dt("mobile"),[r,i]=Dt(!1),[s,o]=Dt(),[a,d]=Dt(!0),l=os(qf),f=l.onStatusChange(()=>{},()=>{t.wallet.appName!==nc&&i(!0)});ss(f);const h=()=>{try{const x=l.connect({universalLink:t.wallet.universalLink,bridgeUrl:t.wallet.bridgeUrl},t.additionalRequest);o(x)}catch{}};fi(()=>{Ai(e)!=="extension"&&(I0(t.wallet)||aA(t.wallet))&&h()});const g=()=>{i(!1),e()==="extension"&&h(),n("mobile"),Mi(Us(Wn({},t.wallet),{openMethod:"qrcode"}))},y=()=>{if(i(!1),e()==="extension"&&h(),n("desktop"),hl(s()))v();else{const x=!a();d(!1),Vp(s(),t.wallet.deepLink,{returnStrategy:Rn.returnStrategy,forceRedirect:x},k=>{Mi(Us(Wn({},t.wallet),{openMethod:k}))})}},v=()=>{const x=!a();d(!1),Mi(Us(Wn({},t.wallet),{openMethod:"universal-link"})),Hp(s(),{returnStrategy:Rn.returnStrategy,twaReturnUrl:Rn.twaReturnUrl,forceRedirect:x})},w=()=>{i(!1),n("extension"),bu(t.wallet)&&(Mi(t.wallet),l.connect({jsBridgeKey:t.wallet.jsBridgeKey},t.additionalRequest))};return I0(t.wallet)?g():cA(t.wallet)?w():y(),Q(mF,{"data-tc-wallets-modal-connection-desktop":"true",get children(){return[Q(Vt,{get when(){return!t.backDisabled},get children(){return Q(CF,{icon:"arrow",onClick:()=>t.onBackClick()})}}),Q(vF,{get children(){return t.wallet.name}}),Q(Vt,{get when(){return e()==="mobile"},get children(){return Q(bF,{translationKey:"walletModal.desktopConnectionModal.scanQR",get translationValues(){return{name:t.wallet.name}},get children(){return["Scan the QR code below with your phone’s or ",ot(()=>t.wallet.name),"’s camera"]}})}}),Q(yF,{get qr(){return e()==="mobile"},get children(){return Q(Fp,{get children(){return[Q(Ri,{get when(){return e()==="mobile"},get children(){return Q(wF,{disableCopy:!1,get sourceUrl(){return er(s(),"none")},get imageUrl(){return t.wallet.imageUrl}})}}),Q(Ri,{get when(){return r()},get children(){return[Q(_F,{size:"s"}),Q(_g,{translationKey:"walletModal.desktopConnectionModal.connectionDeclined",children:"Connection declined"}),Q(u0,{get children(){return Q(Ur,{get leftIcon(){return Q(_0,{})},get onClick(){return e()==="extension"?w:y},get children(){return Q(qr,{translationKey:"common.retry",children:"Retry"})}})}})]}}),Q(Ri,{get when(){return e()==="extension"},get children(){return[Q(Vt,{get when(){return bu(t.wallet)},get children(){return[Q(AF,{size:"s"}),Q(_g,{translationKey:"walletModal.desktopConnectionModal.continueInExtension",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",ot(()=>t.wallet.name)," browser extension…"]}}),Q(u0,{get children(){return Q(Ur,{get leftIcon(){return Q(_0,{})},onClick:w,get children(){return Q(qr,{translationKey:"common.retry",children:"Retry"})}})}})]}}),Q(Vt,{get when(){return!bu(t.wallet)},get children(){return[Q(_g,{translationKey:"walletModal.desktopConnectionModal.dontHaveExtension",get translationValues(){return{name:t.wallet.name}},get children(){return["Seems you don't have installed ",ot(()=>t.wallet.name)," browser extension"]}}),Q(u0,{get children(){return Q(Um,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return Q(Ur,{get rightIcon(){return Q(QE,{})},onClick:w,get children(){return Q(qr,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Get ",ot(()=>t.wallet.name)]}})}})}})}})]}})]}}),Q(Ri,{get when(){return e()==="desktop"},get children(){return[Q(pc,{size:"m"}),Q(_g,{translationKey:"walletModal.desktopConnectionModal.continueOnDesktop",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",ot(()=>t.wallet.name)," on desktop…"]}}),Q(u0,{get children(){return[Q(Ur,{get leftIcon(){return Q(_0,{})},onClick:y,get children(){return Q(qr,{translationKey:"common.retry",children:"Retry"})}}),Q(Um,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return Q(Ur,{get rightIcon(){return Q(QE,{})},get children(){return Q(qr,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:t.wallet.name}},get children(){return["Get ",ot(()=>t.wallet.name)]}})}})}})]}})]}})]}})}}),Q(Vt,{get when(){return t.wallet.appName===nc},get children(){return Q(xF,{get rightIcon(){return Q(SF,{get src(){return qp.TG}})},scale:"s",onClick:v,get children(){return Q(qr,{translationKey:"walletModal.desktopConnectionModal.openWalletOnTelegram",children:"Open Wallet in Telegram on desktop"})}})}}),Q(Vt,{get when(){return t.wallet.appName!==nc},get children(){return Q(EF,{get children(){return[Q(Vt,{get when(){return ot(()=>e()!=="mobile")()&&I0(t.wallet)},get children(){return Q(lb,{appearance:"secondary",get leftIcon(){return Q(MU,{})},onClick:g,get children(){return Q(qr,{translationKey:"common.mobile",children:"Mobile"})}})}}),Q(Vt,{get when(){return ot(()=>e()!=="extension")()&&cA(t.wallet)},get children(){return Q(lb,{appearance:"secondary",get leftIcon(){return Q(RU,{})},onClick:w,get children(){return Q(qr,{translationKey:"common.browserExtension",children:"Browser Extension"})}})}}),Q(Vt,{get when(){return ot(()=>e()!=="desktop")()&&aA(t.wallet)},get children(){return Q(lb,{appearance:"secondary",get leftIcon(){return Q($U,{})},onClick:y,get children(){return Q(qr,{translationKey:"common.desktop",children:"Desktop"})}})}})]}})}})]}})},PF=Ee.div``,NF=Ee(Gu)`
    position: absolute;
    top: 16px;
    left: 16px;
`,kF=Ee(Aa)`
    margin-bottom: 18px;
`,ub=Ee.div`
    padding: 16px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
`,db=cc`
    margin-bottom: 12px;
`,fb=Ee(b5)`
    text-align: center;
    margin-bottom: 4px;
`,hb=Ee($o)`
    text-align: center;
    max-width: 352px;
    color: ${t=>t.theme.colors.text.secondary};
`,RF=Ee.div`
    padding: 16px 24px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
`,OF={GET_A_WALLET:"https://ton.org/wallets?filters[wallet_features][slug][$in]=dapp-auth&pagination[limit]=-1"},UI=t=>Q(PF,{"data-tc-wallets-modal-info":"true",get children(){return[Q(NF,{icon:"arrow",onClick:()=>t.onBackClick()}),Q(kF,{translationKey:"walletModal.infoModal.whatIsAWallet",children:"What is a wallet"}),Q(SI,{get children(){return[Q(ub,{get children(){return[Q(zU,{class:db}),Q(fb,{translationKey:"walletModal.infoModal.secureDigitalAssets",children:"Secure digital assets storage"}),Q(hb,{translationKey:"walletModal.infoModal.walletProtects",children:"A wallet protects and manages your digital assets including TON, tokens and collectables."})]}}),Q(ub,{get children(){return[Q(qU,{class:db}),Q(fb,{translationKey:"walletModal.infoModal.controlIdentity",children:"Control your Web3 identity"}),Q(hb,{translationKey:"walletModal.infoModal.manageIdentity",children:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in the blockchain ecosystem."})]}}),Q(ub,{get children(){return[Q(VU,{class:db}),Q(fb,{translationKey:"walletModal.infoModal.effortlessCryptoTransactions",children:"Effortless crypto transactions"}),Q(hb,{translationKey:"walletModal.infoModal.easilySend",children:"Easily send, receive, monitor your cryptocurrencies. Streamline your operations with decentralized applications."})]}}),Q(RF,{get children(){return Q(Um,{get href(){return OF.GET_A_WALLET},blank:!0,get children(){return Q(Ur,{get rightIcon(){return Q(FU,{})},get children(){return Q(qr,{translationKey:"walletModal.infoModal.getAWallet",children:"Get a Wallet"})}})}})}})]}})]}}),MF=Ee.div``,DF=Ee.div`
    flex: 1;
    margin-top: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,$F=Ee(Aa)`
    max-width: 262px;
    margin: 0 auto 8px;
`,LF=Ee(Gu)`
    position: absolute;
    top: 16px;
    left: 16px;
`,UF=Ee.div`
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-top: 0.5px solid ${t=>Vu(t.theme.colors.icon.secondary,.2)};
`,BF=Ee(Ku)`
    width: 36px;
    height: 36px;
    border-radius: 10px;
`,FF=Ee(Um)`
    margin-left: auto;
`,jF=Ee(pc)`
    margin-bottom: 18px;
    margin-top: 2px;
`,zF=Ee($y)`
    margin-bottom: 16px;
`,lA=Ee(Nl)`
    color: ${t=>t.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,uA=Ee.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,WF={m:"16px",s:"8px",none:"0"},qF=Ee(Aa)`
    margin-bottom: 2px;
    padding: 0 52px;
`,HF=Ee(Nl)`
    margin-bottom: 20px;
    padding: 0 64px;
`,VF=Ee.div`
    padding: 0 24px 16px;
`,KF=Ee.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,dA=Ee(Ur)`
    width: 100%;
    height: 56px;
    border-radius: ${t=>WF[t.theme.borderRadius]};
    background-color: ${t=>Vu(t.theme.colors.accent,.12)};
    color: ${t=>t.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,GF=t=>[Q(qF,{get children(){return t.walletInfo.name}}),Q(HF,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:t.walletInfo.name}},get children(){return["Scan the QR code below with your phone’s or ",ot(()=>t.walletInfo.name),"’s camera"]}}),Q(VF,{get children(){return Q(Dy,{get imageUrl(){return t.walletInfo.imageUrl},get sourceUrl(){return er(t.universalLink,"none")},disableCopy:!0})}}),Q(KF,{get children(){return[Q(dA,{appearance:"secondary",onClick:()=>{var e;return(e=t.onOpenLink)==null?void 0:e.call(t)},get children(){return Q(qr,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),Q(dA,{appearance:"secondary",onClick:()=>{var e;return(e=t.onCopy)==null?void 0:e.call(t)},get children(){return Q(qr,{get translationKey(){return t.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return t.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})],BI=t=>{const e=br(),[n,r]=Dt(!0),[i,s]=Dt(!1),[o,a]=Dt(!1),d=os(qf),l=d.onStatusChange(()=>{},()=>{a(!0)}),f=ot(()=>d.connect({universalLink:t.wallet.universalLink,bridgeUrl:t.wallet.bridgeUrl},t.additionalRequest)),h=()=>{Mi(Us(Wn({},t.wallet),{openMethod:"universal-link"})),Hp(f(),{returnStrategy:Rn.returnStrategy,twaReturnUrl:Rn.twaReturnUrl,forceRedirect:!0})},g=()=>{const R=f();if(hl(R))return h();a(!1);const L=!n();r(!1),Vp(f(),t.wallet.deepLink,{returnStrategy:Rn.returnStrategy,forceRedirect:L},O=>{Mi(Us(Wn({},t.wallet),{openMethod:O}))})},[y,v]=Dt(void 0),w=()=>Dn(void 0,null,function*(){y()!==void 0&&clearTimeout(y()),yield My(f());const R=setTimeout(()=>v(void 0),1500);v(R)}),x=()=>{a(!1),s(!0),Mi(Us(Wn({},t.wallet),{openMethod:"qrcode"}))},k=()=>{s(!1),Mi(Us(Wn({},t.wallet),{openMethod:"universal-link"}))},N=()=>{i()?k():t.onBackClick()};return ss(l),g(),Q(MF,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[Q(Vt,{get when(){return!t.backDisabled||i()},get children(){return Q(LF,{icon:"arrow",onClick:N})}}),Q(Vt,{get when(){return i()},get children(){return Q(GF,{get universalLink(){return f()},get walletInfo(){return t.wallet},onOpenLink:g,onCopy:w,get isCopiedShown(){return y()}})}}),Q(Vt,{get when(){return!i()},get children(){return[Q($F,{get children(){return t.wallet.name}}),Q(DF,{get children(){return[Q(Vt,{get when(){return o()},get children(){return[Q(zF,{size:"s"}),Q(lA,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),Q(uA,{get children(){return[Q(Ur,{get leftIcon(){return Q(_0,{})},onClick:g,get children(){return Q(qr,{translationKey:"common.retry",children:"Retry"})}}),Q(Ur,{get leftIcon(){return Q(_3,{get fill(){return e.colors.accent}})},onClick:x,get children(){return Q(qr,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}}),Q(Vt,{get when(){return!o()},get children(){return[Q(jF,{size:"s"}),Q(lA,{translationKey:"walletModal.mobileConnectionModal.continueIn",get translationValues(){return{name:t.wallet.name}},get children(){return["Continue in ",ot(()=>t.wallet.name),"…"]}}),Q(uA,{get children(){return[Q(Ur,{get leftIcon(){return Q(_0,{})},onClick:g,get children(){return Q(qr,{translationKey:"common.retry",children:"Retry"})}}),Q(Ur,{get leftIcon(){return Q(_3,{get fill(){return e.colors.accent}})},onClick:x,get children(){return Q(qr,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})]}}),Q(UF,{get children(){return[Q(BF,{get src(){return t.wallet.imageUrl}}),Q(b5,{get children(){return t.wallet.name}}),Q(FF,{get href(){return t.wallet.aboutUrl},blank:!0,get children(){return Q(Ur,{get children(){return Q(qr,{translationKey:"common.get",children:"GET"})}})}})]}})]}})]}})},QF={m:"16px",s:"12px",none:"0"},YF={m:"6px",s:"6px",none:"0"};Ee.li`
    width: 82px;
    min-width: 82px;
    height: 124px;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 4px;

    text-align: center;
    cursor: pointer;

    transition: transform 0.1s ease-in-out;

    ${zp} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${jp} {
        &:active {
            transform: scale(0.92);
        }
    }
`;const ZF=Ee(Aa)`
    margin-top: 38px;
    margin-bottom: 4px;
    padding: 0 24px;
`,fA=Ee(Nl)`
    margin: ${t=>{var e;return(e=t.margin)!=null?e:"0 0 28px 0"}};
    padding: ${t=>{var e;return(e=t.padding)!=null?e:"0 24px"}};
    min-height: ${t=>{var e;return(e=t.padding)!=null?e:"44px"}};
    max-width: ${t=>t.maxWidth}px;
    margin-left: ${t=>t.maxWidth?"auto":"0px"};
    margin-right: ${t=>t.maxWidth?"auto":"0px"};
`;Ee(Ur)`
    display: block;
    margin: 0 auto;
`;const JF=Ee(Ur)`
    margin: 0 28px 24px;
    width: calc(100% - 56px);
    border-radius: ${t=>QF[t.theme.borderRadius]};
    padding: 14px 16px 14px 14px;
    background-color: ${t=>t.theme.colors.telegramButton};

    color: ${t=>t.theme.colors.constant.white};
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;

    @media (max-width: 375px) {
        margin: 0 16px 24px;
        width: calc(100% - 32px);
    }
`,XF=Ee(Ku)`
    background-color: transparent;
    border-radius: ${t=>YF[t.theme.borderRadius]};
    width: 24px;
    height: 24px;
`,hA=Ee(Gu)`
    position: absolute;
    top: 16px;
    left: 16px;
`,ej={m:"16px",s:"8px",none:"0"},tj=Ee(Aa)`
    margin-bottom: 2px;
    padding: 0 52px;
`,nj=Ee(Nl)`
    margin-bottom: 20px;
    padding: 0 64px;
`,rj=Ee.div`
    padding: 0 24px 16px;
`,ij=Ee.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,pA=Ee(Ur)`
    width: 100%;
    height: 56px;
    border-radius: ${t=>ej[t.theme.borderRadius]};
    background-color: ${t=>Vu(t.theme.colors.accent,.12)};
    color: ${t=>t.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,sj=t=>[Q(tj,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),Q(nj,{translationKey:"walletModal.mobileUniversalModal.scan",children:"Scan with your mobile wallet"}),Q(rj,{get children(){return Q(Dy,{get imageUrl(){return qp.TON},get sourceUrl(){return er(t.universalLink,"none")},disableCopy:!0})}}),Q(ij,{get children(){return[Q(pA,{appearance:"secondary",onClick:()=>t.onOpenLink(),get children(){return Q(qr,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),Q(pA,{appearance:"secondary",onClick:()=>t.onCopy(),get children(){return Q(qr,{get translationKey(){return t.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return t.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})];function FI(t){const e=new Set(t.filter(i5).map(n=>n.bridgeUrl));return Array.from(e).map(n=>({bridgeUrl:n}))}function jI(t,e){const n=new Set(t==null?void 0:t.map(i=>i.bridgeUrl)),r=new Set(e==null?void 0:e.map(i=>i.bridgeUrl));return n.size===r.size&&[...n].every(i=>r.has(i))}const gA=vn("<li></li>"),oj=vn('<div data-tc-wallets-modal-universal-mobile="true"></div>'),aj=t=>{const[e,n]=Dt(!1),[r,i]=Dt(!0),[s,o]=Dt(null),a=Rn.connector,d=()=>t.walletsList.filter(R=>I0(R)&&R.appName!==nc),l=()=>d().length>7,f=ot(()=>FI(t.walletsList),null,{equals:jI}),h=()=>(s()||o(a.connect(f(),t.additionalRequest)),s());Mi({openMethod:"universal-link"});const[g,y]=Dt(void 0),v=()=>Dn(void 0,null,function*(){g()!==void 0&&clearTimeout(g()),yield My(h());const R=setTimeout(()=>y(void 0),1500);y(R)}),w=()=>{const R=!r();i(!1),Vp(h(),void 0,{returnStrategy:Rn.returnStrategy,forceRedirect:R},L=>{Mi({openMethod:L})})},x=()=>{o(null);const R=t.walletsList.find(D=>D.appName===nc);if(!R||!i5(R))throw new Gr("@wallet bot not found in the wallets list");const L=a.connect({bridgeUrl:R.bridgeUrl,universalLink:R.universalLink},t.additionalRequest),O=!r();i(!1),Hp(L,{returnStrategy:Rn.returnStrategy,twaReturnUrl:Rn.twaReturnUrl,forceRedirect:O})},k=()=>{n(!0),Mi({openMethod:"qrcode"})},N=()=>{n(!1),Mi({openMethod:"universal-link"})};return(()=>{const R=oj.cloneNode(!0);return Oi(R,Q(Vt,{get when(){return e()},get children(){return[Q(hA,{icon:"arrow",onClick:N}),Q(sj,{get universalLink(){return h()},get isCopiedShown(){return g()},onOpenLink:w,onCopy:v})]}}),null),Oi(R,Q(Vt,{get when(){return!e()},get children(){return[Q(hA,{get icon(){return Q(_3,{})},onClick:k}),Q(ZF,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),Q(fA,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegramOrSelect",maxWidth:320,children:"Use Wallet in Telegram or choose other application"}),Q(JF,{get leftIcon(){return Q(GU,{})},get rightIcon(){return Q(XF,{get src(){return qp.TG}})},onClick:x,scale:"s",get children(){return Q(qr,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegram",children:"Connect Wallet in Telegram"})}}),Q(fA,{translationKey:"walletModal.mobileUniversalModal.chooseOtherApplication",maxWidth:342,padding:"0 24px 8px 24px",margin:"0",children:"Choose other application"}),Q(oU,{get children(){return[Q(Bp,{get each(){return ot(()=>!!l())()?d().slice(0,3):d()},children:L=>(()=>{const O=gA.cloneNode(!0);return Oi(O,Q($m,{get icon(){return L.imageUrl},get name(){return L.name},onClick:()=>t.onSelect(L)})),O})()}),Q(Vt,{get when(){return l()},get children(){const L=gA.cloneNode(!0);return Oi(L,Q(_I,{labelLine1:"View all",labelLine2:"wallets",get images(){return d().slice(3,7).map(O=>O.imageUrl)},onClick:()=>t.onSelectAllWallets()})),L}})]}})]}}),null),R})()},zI={m:"16px",s:"8px",none:"0"},cj={m:"8px",s:"4px",none:"0"},lj=Ee.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 16px;
`,uj=Ee(Nl)`
    max-width: 320px;
    margin-top: 2px;
    margin-bottom: 20px;
`,dj=Ee(Nl)`
    margin-bottom: 16px;
`,fj=Ee(Dy)`
    margin-bottom: 24px;
`,hj=Ee.ul`
    display: flex;
`;Ee.div`
    display: flex;
    gap: 16px;
    width: 100%;
`;Ee(Ur)`
    position: relative;
    font-size: 16px;
    line-height: 20px;
    width: 100%;
    padding: 0 16px;
    height: 56px;
    border-radius: ${t=>zI[t.theme.borderRadius]};

    &:hover {
        ${t=>t.disableEventsAnimation?"transform: unset;":""}
    }

    &:active {
        ${t=>t.disableEventsAnimation?"transform: unset;":""}
    }
`;Ee.ul`
    position: absolute;
    bottom: 100%;
    left: 0;
    margin: 0;
    padding: 8px;
    width: 188px;
    transform: translateY(-16px);

    background-color: ${t=>t.theme.colors.background.primary};
    border-radius: ${t=>zI[t.theme.borderRadius]};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
`;Ee.li`
    padding: 8px;

    display: flex;
    align-items: center;
    gap: 8px;

    cursor: pointer;
    border-radius: ${t=>cj[t.theme.borderRadius]};

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${t=>t.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`;Ee(Ku)`
    width: 24px;
    height: 24px;

    border-radius: 6px;
`;Ee.div`
    margin-top: 23px;
    margin-bottom: 1px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
`;Ee($o)`
    color: ${t=>t.theme.colors.text.secondary};
    font-size: 16px;
`;const pj=vn("<li></li>"),gj=t=>{const[e,n]=Dt(!1),r=Rn.connector,i=ot(()=>FI(t.walletsList),null,{equals:jI});Mi({openMethod:"qrcode"});const s=ot(()=>r.connect(i(),t.additionalRequest));return Q(lj,{onClick:()=>n(!1),"data-tc-wallets-modal-universal-desktop":"true",get children(){return[Q(Aa,{translationKey:"walletModal.desktopUniversalModal.connectYourWallet",children:"Connect your wallet"}),Q(uj,{translationKey:"walletModal.desktopUniversalModal.scan",children:"Scan with your mobile wallet"}),Q(fj,{get sourceUrl(){return er(s(),"none")},get disableCopy(){return e()},get imageUrl(){return qp.TON}}),Q(dj,{translationKey:"walletModal.desktopUniversalModal.availableWallets",children:"Available wallets"}),Q(hj,{get children(){return[Q(Bp,{get each(){return t.walletsList.slice(0,3)},children:o=>(()=>{const a=pj.cloneNode(!0);return Oi(a,Q(xI,{wallet:o,onClick:()=>t.onSelect(o)})),a})()}),Q(_I,{labelLine1:"View all",labelLine2:"wallets",get images(){return t.walletsList.slice(3,7).map(o=>o.imageUrl)},onClick:()=>t.onSelectAllWallets()})]}})]}})},mj=()=>{const{locale:t}=Ea()[1];fi(()=>t(Rn.language)),fi(()=>{FE()?Lm():(s(null),a("universal"),l(!1))});const e=os(qf),n=os(kl),[r]=$D(()=>n.getWallets()),[i,s]=Dt(null),[o,a]=Dt("universal"),[d,l]=Dt(!1),f=ot(()=>{if(r.state!=="ready")return null;let N=x5(r(),Rn.walletsListConfiguration);const R=N.filter(bu),L=N.filter($=>!bu($));N=(R||[]).concat(L);const O=Rn.preferredWalletAppName,D=N.find($=>Zc($,O)),F=N.filter($=>Zc($,O)).length>=2;O&&D&&!F&&(N=[Us(Wn({},D),{isPreferred:!0})].concat(N.filter($=>!Zc($,O))));const q=N.find($=>Zc($,nc));return q&&(N=[q].concat(N.filter($=>!Zc($,nc)))),N}),h=()=>{var N;return((N=Rn.connectRequestParameters)==null?void 0:N.state)==="loading"},g=ot(()=>{var N;if(!h())return(N=Rn.connectRequestParameters)==null?void 0:N.value}),y=N=>{n.closeModal(N)},v=e.onStatusChange(N=>{N&&y("wallet-selected")}),w=()=>{a("all-wallets")},x=()=>{a("universal")},k=()=>{s(null)};return ss(()=>{s(null),l(!1)}),ss(v),Q(MI,{get opened(){return FE()},get enableAndroidBackHandler(){return Rn.enableAndroidBackHandler},onClose:()=>y("action-cancelled"),onClickQuestion:()=>l(N=>!N),"data-tc-wallets-modal-container":"true",get children(){return[Q(Vt,{get when(){return d()},get children(){return Q(UI,{onBackClick:()=>l(!1)})}}),Q(Vt,{get when(){return!d()},get children(){return[Q(Vt,{get when(){return h()||!f()},get children(){return[Q(DI,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),Q($I,{get children(){return Q(pc,{size:"m"})}})]}}),Q(Vt,{get when(){return ot(()=>!h())()&&f()},get children(){return Q(Fp,{get children(){return[Q(Ri,{get when(){return i()},get children(){return Q(Af,{get component(){return Sf()?BI:LI},get wallet(){return i()},get additionalRequest(){return g()},onBackClick:k})}}),Q(Ri,{get when(){return o()==="universal"},get children(){return Q(Af,{get component(){return Sf()?aj:gj},onSelect:s,get walletsList(){return f()},get additionalRequest(){return g()},onSelectAllWallets:w})}}),Q(Ri,{get when(){return o()==="all-wallets"},get children(){return Q(hF,{get walletsList(){return f()},onBack:x,onSelect:s})}})]}})}})]}})]}})},yj=Ee.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,wj=Ee(Aa)`
    margin-top: 16px;
`,vj=Ee($o)`
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;

    color: ${t=>t.theme.colors.text.secondary};
`,bj=Ee(Ur)`
    min-width: 112px;
    margin-top: 32px;
`,Cj=Ee(pc)`
    height: 16px;
    width: 16px;
`,mA=Ee(Ur)`
    margin-top: 32px;
`,S5=t=>{const e=Wp(t),n=os(kl),[r,i]=Dt(!0),[s,o]=Dt(!1);fi(()=>{const f=Ja();o(!!f&&"sent"in f&&f.sent)});let a;n!=null&&n.wallet&&"universalLink"in n.wallet&&(n.wallet.openMethod==="universal-link"||hl(n.wallet.universalLink)&&fa())&&(a=n.wallet.universalLink);let d;n!=null&&n.wallet&&"deepLink"in n.wallet&&(n.wallet.openMethod==="custom-deeplink"||hl(n.wallet.deepLink)&&fa())&&(d=n.wallet.deepLink);const l=()=>{const f=Ja(),h="returnStrategy"in f?f.returnStrategy:Rn.returnStrategy,g=!r();i(!1),hl(a)?Hp(a,{returnStrategy:h,twaReturnUrl:"twaReturnUrl"in f?f.twaReturnUrl:Rn.twaReturnUrl,forceRedirect:g}):Vp(a,d,{returnStrategy:h,forceRedirect:g},()=>{})};return Q(yj,la(e,{get children(){return[ot(()=>t.icon),Q(wj,{get translationKey(){return t.headerTranslationKey},get translationValues(){return t.headerTranslationValues}}),Q(vj,{get translationKey(){return t.textTranslationKey},get translationValues(){return t.textTranslationValues}}),Q(Vt,{get when(){return!s()&&(t.showButton==="open-wallet"&&a||t.showButton!=="open-wallet")},get children(){return Q(bj,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return Q(Cj,{})}})}}),Q(Vt,{get when(){return s()},get children(){return[Q(Vt,{get when(){return t.showButton!=="open-wallet"},get children(){return Q(mA,{onClick:()=>t.onClose(),get children(){return Q(qr,{translationKey:"common.close",children:"Close"})}})}}),Q(Vt,{get when(){return t.showButton==="open-wallet"&&a},get children(){return Q(mA,{onClick:l,get children(){return Q(qr,{translationKey:"common.openWallet",children:"Open wallet"})}})}})]}})]}}))},Ej=t=>{const e=os(kl),[n]=Ea(),r=()=>e.wallet&&"name"in e.wallet?e.wallet.name:n("common.yourWallet",{},"Your wallet");return Q(S5,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:r()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return Q(pc,{size:"m"})},onClose:()=>t.onClose(),showButton:"open-wallet","data-tc-confirm-modal":"true"})},Aj=t=>Q(S5,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return Q($y,{size:"m"})},onClose:()=>t.onClose(),"data-tc-transaction-canceled-modal":"true"}),_j=t=>Q(S5,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return Q(C5,{size:"m"})},onClose:()=>t.onClose(),"data-tc-transaction-sent-modal":"true"}),xj=()=>Q(vI,{get opened(){var t;return ot(()=>Ja()!==null)()&&((t=Ja())==null?void 0:t.openModal)===!0},get enableAndroidBackHandler(){return Rn.enableAndroidBackHandler},onClose:()=>Xd(null),"data-tc-actions-modal-container":"true",get children(){return Q(Fp,{get children(){return[Q(Ri,{get when(){return Ja().name==="transaction-sent"},get children(){return Q(_j,{onClose:()=>Xd(null)})}}),Q(Ri,{get when(){return Ja().name==="transaction-canceled"},get children(){return Q(Aj,{onClose:()=>Xd(null)})}}),Q(Ri,{get when(){return Ja().name==="confirm-transaction"},get children(){return Q(Ej,{onClose:()=>Xd(null)})}})]}})}}),Sj=()=>{const{locale:t}=Ea()[1];fi(()=>t(Rn.language)),fi(()=>{zE()&&Lm()});const e=os(qf),n=os(kl),[r,i]=Dt(!1),s=()=>{var l;return((l=Rn.connectRequestParameters)==null?void 0:l.state)==="loading"},o=ot(()=>{var l;if(!s())return(l=Rn.connectRequestParameters)==null?void 0:l.value}),a=l=>{n.closeSingleWalletModal(l)},d=e.onStatusChange(l=>{l&&a("wallet-selected")});return ss(d),ss(()=>{i(!1)}),Q(MI,{get opened(){return zE()},get enableAndroidBackHandler(){return Rn.enableAndroidBackHandler},onClose:()=>a("action-cancelled"),onClickQuestion:()=>i(l=>!l),"data-tc-wallets-modal-container":"true",get children(){return[Q(Vt,{get when(){return r()},get children(){return Q(UI,{onBackClick:()=>i(!1)})}}),Q(Vt,{get when(){return!r()},get children(){return[Q(Vt,{get when(){return s()},get children(){return[Q(DI,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),Q($I,{get children(){return Q(pc,{size:"m"})}})]}}),Q(Vt,{get when(){return!s()},get children(){return Q(Af,{get component(){return Sf()?BI:LI},get wallet(){return $$()},get additionalRequest(){return o()},onBackClick:()=>{},backDisabled:!0})}})]}})]}})},Ij=t=>{const e=eU(X$,Rn.language);return N$(),P$(),Q(EI.Provider,{value:e,get children(){return Q(kl.Provider,{get value(){return t.tonConnectUI},get children(){return Q(qf.Provider,{get value(){return Rn.connector},get children(){return[Q(C$,{}),Q(v$,{theme:aL,get children(){return[Q(Vt,{get when(){return Rn.buttonRootId},get children(){return Q(eI,{get mount(){return document.getElementById(Rn.buttonRootId)},get children(){return Q(rF,{})}})}}),Q(Af,{component:Ga,get children(){return[Q(mj,{}),Q(Sj,{}),Q(xj,{})]}})]}})]}})}})}})},Ds={openWalletsModal:()=>void setTimeout(()=>BE({status:"opened",closeReason:null})),closeWalletsModal:t=>void setTimeout(()=>BE({status:"closed",closeReason:t})),openSingleWalletModal:t=>{setTimeout(()=>jE({status:"opened",closeReason:null,walletInfo:t}))},closeSingleWalletModal:t=>void setTimeout(()=>jE({status:"closed",closeReason:t})),setAction:t=>void setTimeout(()=>Xd(t)),clearAction:()=>void setTimeout(()=>Xd(null)),getSelectedWalletInfo:()=>L$(),removeSelectedWalletInfo:()=>Mi(null),renderApp:(t,e)=>e$(()=>Q(Ij,{tonConnectUI:e}),document.getElementById(t))};class Tj{constructor(e){Tt(this,"connector"),Tt(this,"setConnectRequestParametersCallback"),Tt(this,"consumers",[]),Tt(this,"tracker"),Tt(this,"state",w3()),this.connector=e.connector,this.tracker=e.tracker,this.setConnectRequestParametersCallback=e.setConnectRequestParametersCallback,fi(()=>{const n=w3();this.state=n,this.consumers.forEach(r=>r(n))})}open(){return Dn(this,null,function*(){this.tracker.trackConnectionStarted();const n=(yield this.connector.getWallets()).find(Py);return n?this.connectEmbeddedWallet(n):this.openWalletsModal()})}close(e="action-cancelled"){e==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),Ds.closeWalletsModal(e)}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}connectEmbeddedWallet(e){const n=i=>{Mi(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Rn.connectRequestParameters;(r==null?void 0:r.state)==="loading"?this.setConnectRequestParametersCallback(n):n(r==null?void 0:r.value)}openWalletsModal(){return Dn(this,null,function*(){return fa()&&w5(),Ds.openWalletsModal(),new Promise(e=>{const n=this.onStateChange(r=>{const{status:i}=r;i==="opened"&&(n(),e())})})})}}class Pj{constructor(e){Tt(this,"connector"),Tt(this,"consumers",[]),this.connector=e.connector,fi(()=>{const n=Ja();this.consumers.forEach(r=>r(n))})}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}}class Nj{constructor(e){Tt(this,"connector"),Tt(this,"setConnectRequestParametersCallback"),Tt(this,"consumers",[]),Tt(this,"tracker"),Tt(this,"state",Nm()),this.connector=e.connector,this.tracker=e.tracker,this.setConnectRequestParametersCallback=e.setConnectRequestParametersCallback,fi(()=>{const n=Nm();this.state=n,this.consumers.forEach(r=>r(n))})}open(e){return Dn(this,null,function*(){this.tracker.trackConnectionStarted();const n=yield this.connector.getWallets(),r=x5(n,Rn.walletsListConfiguration),i=r.find(Py);if(!!i)return this.connectEmbeddedWallet(i);const a=r.filter(i5).find(f=>Zc(f,e));if(!!a)return this.openSingleWalletModal(a);const l=`Trying to open modal window with unknown wallet "${e}".`;throw this.tracker.trackConnectionError(l),new Gr(l)})}close(e="action-cancelled"){e==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),Ds.closeSingleWalletModal("action-cancelled")}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}connectEmbeddedWallet(e){const n=i=>{Mi(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Rn.connectRequestParameters;(r==null?void 0:r.state)==="loading"?this.setConnectRequestParametersCallback(n):n(r==null?void 0:r.value)}openSingleWalletModal(e){return Dn(this,null,function*(){return fa()&&w5(),Ds.openSingleWalletModal(e),new Promise(n=>{const r=this.onStateChange(i=>{const{status:s}=i;s==="opened"&&(r(),n())})})})}}class kj{constructor(e){Tt(this,"eventPrefix","ton-connect-ui-"),Tt(this,"tonConnectUiVersion"),Tt(this,"tonConnectSdkVersion",null),Tt(this,"eventDispatcher");var n;this.eventDispatcher=(n=e==null?void 0:e.eventDispatcher)!=null?n:new BS,this.tonConnectUiVersion=e.tonConnectUiVersion,this.init().catch()}get version(){return Hu({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return Dn(this,null,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch{}})}setRequestVersionHandler(){return Dn(this,null,function*(){yield this.eventDispatcher.addEventListener("ton-connect-ui-request-version",()=>Dn(this,null,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-ui-response-version",TS(this.tonConnectUiVersion))}))})}requestTonConnectSdkVersion(){return Dn(this,null,function*(){return new Promise((e,n)=>Dn(this,null,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-response-version",r=>{e(r.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-request-version",IS())}catch(r){n(r)}}))})}dispatchUserActionEvent(e){var n;try{(n=this.eventDispatcher)==null||n.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(...e){try{const n=PS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionCompleted(...e){try{const n=NS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionError(...e){try{const n=kS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringStarted(...e){try{const n=RS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringCompleted(...e){try{const n=OS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringError(...e){try{const n=MS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackDisconnection(...e){try{const n=US(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSentForSignature(...e){try{const n=DS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigned(...e){try{const n=$S(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigningFailed(...e){try{const n=LS(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}}const Rj="2.0.12";class Oj{constructor(e){if(Tt(this,"walletInfoStorage",new M$),Tt(this,"preferredWalletStorage",new D$),Tt(this,"tracker"),Tt(this,"walletInfo",null),Tt(this,"systemThemeChangeUnsubscribe",null),Tt(this,"actionsConfiguration"),Tt(this,"walletsList"),Tt(this,"connectRequestParametersCallback"),Tt(this,"connector"),Tt(this,"modal"),Tt(this,"singleWalletModal"),Tt(this,"transactionModal"),Tt(this,"connectionRestored",Promise.resolve(!1)),e&&"connector"in e&&e.connector)this.connector=e.connector;else if(e&&"manifestUrl"in e&&e.manifestUrl)this.connector=new Iu({manifestUrl:e.manifestUrl,eventDispatcher:e==null?void 0:e.eventDispatcher});else throw new Gr("You have to specify a `manifestUrl` or a `connector` in the options.");this.tracker=new kj({eventDispatcher:e==null?void 0:e.eventDispatcher,tonConnectUiVersion:Rj}),this.modal=new Tj({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:i=>{this.connectRequestParametersCallback=i}}),this.singleWalletModal=new Nj({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:i=>{this.connectRequestParametersCallback=i}}),this.transactionModal=new Pj({connector:this.connector}),this.walletsList=this.getWallets(),this.walletsList.then(i=>sI(iF(i.map(s=>s.imageUrl))));const n=this.normalizeWidgetRoot(e==null?void 0:e.widgetRootId);this.subscribeToWalletChange(),(e==null?void 0:e.restoreConnection)!==!1&&(this.connectionRestored=k$(()=>Dn(this,null,function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))),this.uiOptions=pl(e,{uiPreferences:{theme:"SYSTEM"}});const r=this.preferredWalletStorage.getPreferredWalletAppName();Ag({connector:this.connector,preferredWalletAppName:r}),Ds.renderApp(n,this)}static getWallets(){return Iu.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?Wn(Wn({},this.connector.wallet),this.walletInfo):null}set uiOptions(e){var n,r,i,s,o;this.checkButtonRootExist(e.buttonRootId),this.actionsConfiguration=e.actionsConfiguration,(n=e.uiPreferences)!=null&&n.theme?((r=e.uiPreferences)==null?void 0:r.theme)!=="SYSTEM"?((i=this.systemThemeChangeUnsubscribe)==null||i.call(this),sb(e.uiPreferences.theme,e.uiPreferences.colorsSet)):(sb(x$(),e.uiPreferences.colorsSet),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=S$(sb))):(s=e.uiPreferences)!=null&&s.colorsSet&&lL(e.uiPreferences.colorsSet),(o=e.uiPreferences)!=null&&o.borderRadius&&cL(e.uiPreferences.borderRadius),Ag(a=>{var d,l;const f=pl(Wn(Wn(Wn(Wn({},e.language&&{language:e.language}),!!((d=e.actionsConfiguration)!=null&&d.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),!!((l=e.actionsConfiguration)!=null&&l.twaReturnUrl)&&{twaReturnUrl:e.actionsConfiguration.twaReturnUrl}),!!e.walletsListConfiguration&&{walletsListConfiguration:e.walletsListConfiguration}),_f(a));return e.buttonRootId!==void 0&&(f.buttonRootId=e.buttonRootId),e.enableAndroidBackHandler!==void 0&&(f.enableAndroidBackHandler=e.enableAndroidBackHandler),f})}setConnectRequestParameters(e){var n;Ag({connectRequestParameters:e}),((e==null?void 0:e.state)==="ready"||!e)&&((n=this.connectRequestParametersCallback)==null||n.call(this,e==null?void 0:e.value))}getWallets(){return Dn(this,null,function*(){return this.connector.getWallets()})}onStatusChange(e,n){return this.connector.onStatusChange(r=>Dn(this,null,function*(){if(r){const i=yield this.getSelectedWalletInfo(r);e(Wn(Wn({},r),i||this.walletInfoStorage.getWalletInfo()))}else e(r)}),n)}openModal(){return Dn(this,null,function*(){return this.modal.open()})}closeModal(e){this.modal.close(e)}onModalStateChange(e){return this.modal.onStateChange(e)}get modalState(){return this.modal.state}openSingleWalletModal(e){return Dn(this,null,function*(){return this.singleWalletModal.open(e)})}closeSingleWalletModal(e){this.singleWalletModal.close(e)}onSingleWalletModalStateChange(e){return this.singleWalletModal.onStateChange(e)}get singleWalletModalState(){return this.singleWalletModal.state}connectWallet(){return Dn(this,null,function*(){const n=(yield this.getWallets()).find(Py);return n?yield this.connectEmbeddedWallet(n):yield this.connectExternalWallet()})}disconnect(){return this.tracker.trackDisconnection(this.wallet,"dapp"),Ds.clearAction(),Ds.removeSelectedWalletInfo(),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(e,n){return Dn(this,null,function*(){if(this.tracker.trackTransactionSentForSignature(this.wallet,e),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,e,"Wallet was not connected"),new Gr("Connect wallet to send a transaction.");fa()&&w5();const{notifications:r,modals:i,returnStrategy:s,twaReturnUrl:o,skipRedirectToWallet:a}=this.getModalsAndNotificationsConfiguration(n);Ds.setAction({name:"confirm-transaction",showNotification:r.includes("before"),openModal:i.includes("before"),sent:!1});const d=()=>{l.signal.aborted||(Ds.setAction({name:"confirm-transaction",showNotification:r.includes("before"),openModal:i.includes("before"),sent:!0}),this.walletInfo&&"universalLink"in this.walletInfo&&(this.walletInfo.openMethod==="universal-link"||this.walletInfo.openMethod==="custom-deeplink")&&(hl(this.walletInfo.universalLink)?Hp(this.walletInfo.universalLink,{returnStrategy:s,twaReturnUrl:o||Rn.twaReturnUrl,forceRedirect:!1}):Vp(this.walletInfo.universalLink,this.walletInfo.deepLink,{returnStrategy:s,forceRedirect:!1},()=>{})))},l=new AbortController,f=this.onTransactionModalStateChange(h=>{h!=null&&h.openModal||(f(),h||l.abort())});try{const h=yield this.waitForSendTransaction({transaction:e,signal:l.signal},d);return this.tracker.trackTransactionSigned(this.wallet,e,h),Ds.setAction({name:"transaction-sent",showNotification:r.includes("success"),openModal:i.includes("success")}),h}catch(h){throw Ds.setAction({name:"transaction-canceled",showNotification:r.includes("error"),openModal:i.includes("error")}),h instanceof _t?h:(console.error(h),new Gr("Unhandled error:"+h))}finally{f()}})}connectEmbeddedWallet(e){return Dn(this,null,function*(){const n=i=>{Mi(e),this.connector.connect({jsBridgeKey:e.jsBridgeKey},i)},r=Rn.connectRequestParameters;return(r==null?void 0:r.state)==="loading"?this.connectRequestParametersCallback=n:n(r==null?void 0:r.value),yield this.waitForWalletConnection({ignoreErrors:!1})})}connectExternalWallet(){return Dn(this,null,function*(){const e=new AbortController;Ds.openWalletsModal();const n=this.onModalStateChange(r=>{const{status:i,closeReason:s}=r;i!=="opened"&&(n(),s==="action-cancelled"&&e.abort())});return yield this.waitForWalletConnection({ignoreErrors:!0,signal:e.signal})})}waitForWalletConnection(e){return Dn(this,null,function*(){return new Promise((n,r)=>{this.tracker.trackConnectionStarted();const{ignoreErrors:i=!1,signal:s=null}=e;if(s&&s.aborted)return this.tracker.trackConnectionError("Connection was cancelled"),r(new Gr("Wallet was not connected"));const o=l=>Dn(this,null,function*(){if(l)this.tracker.trackConnectionCompleted(l),d(),n(l);else{if(this.tracker.trackConnectionError("Connection was cancelled"),i)return;d(),r(new Gr("Wallet was not connected"))}}),a=l=>{this.tracker.trackConnectionError(l.message),!i&&(d(),r(l))},d=this.onStatusChange(l=>o(l),l=>a(l));s&&s.addEventListener("abort",()=>{d(),r(new Gr("Wallet was not connected"))},{once:!0})})})}waitForSendTransaction(e,n){return Dn(this,null,function*(){return new Promise((r,i)=>{const{transaction:s,signal:o}=e;if(o.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,s,"Transaction was cancelled"),i(new Gr("Transaction was not sent"));const a=f=>Dn(this,null,function*(){r(f)}),d=f=>{i(f)},l=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,s,"Transaction was cancelled"),i(new Gr("Transaction was not sent"))};o.addEventListener("abort",l,{once:!0}),this.connector.sendTransaction(s,{onRequestSent:n,signal:o}).then(f=>(o.removeEventListener("abort",l),a(f))).catch(f=>(o.removeEventListener("abort",l),d(f)))})})}onTransactionModalStateChange(e){return this.transactionModal.onStateChange(e)}subscribeToWalletChange(){this.connector.onStatusChange(e=>Dn(this,null,function*(){var n;e?(yield this.updateWalletInfo(e),this.setPreferredWalletAppName(((n=this.walletInfo)==null?void 0:n.appName)||e.device.appName)):this.walletInfoStorage.removeWalletInfo()}))}setPreferredWalletAppName(e){this.preferredWalletStorage.setPreferredWalletAppName(e),Ag({preferredWalletAppName:e})}getSelectedWalletInfo(e){return Dn(this,null,function*(){let n=Ds.getSelectedWalletInfo();if(!n)return null;let r;if("name"in n)r=n;else{const s=x5(yield this.walletsList,Rn.walletsListConfiguration).find(o=>Zc(o,e.device.appName));if(!s)throw new Gr(`Cannot find WalletInfo for the '${e.device.appName}' wallet`);r=Wn(Wn({},s),n)}return r})}updateWalletInfo(e){return Dn(this,null,function*(){const n=yield this.getSelectedWalletInfo(e);if(n){this.walletInfo=n,this.walletInfoStorage.setWalletInfo(n);return}const r=this.walletInfoStorage.getWalletInfo();if(r){this.walletInfo=r;return}this.walletInfo=(yield this.walletsList).find(i=>Zc(i,e.device.appName))||null})}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="tc-widget-root";const n=document.createElement("div");n.id=e,document.body.appendChild(n)}return e}checkButtonRootExist(e){if(e!=null&&!document.getElementById(e))throw new Gr(`${e} element not found in the document.`)}getModalsAndNotificationsConfiguration(e){var n,r,i,s,o,a;const d=["before","success","error"];let l=d;(n=this.actionsConfiguration)!=null&&n.notifications&&((r=this.actionsConfiguration)==null?void 0:r.notifications)!=="all"&&(l=this.actionsConfiguration.notifications),e!=null&&e.notifications&&(e.notifications==="all"?l=d:l=e.notifications);let f=["before"];(i=this.actionsConfiguration)!=null&&i.modals&&(this.actionsConfiguration.modals==="all"?f=d:f=this.actionsConfiguration.modals),e!=null&&e.modals&&(e.modals==="all"?f=d:f=e.modals);const h=(e==null?void 0:e.returnStrategy)||((s=this.actionsConfiguration)==null?void 0:s.returnStrategy)||"back",g=(e==null?void 0:e.twaReturnUrl)||((o=this.actionsConfiguration)==null?void 0:o.twaReturnUrl);let y=(e==null?void 0:e.skipRedirectToWallet)||((a=this.actionsConfiguration)==null?void 0:a.skipRedirectToWallet)||"ios";return fa()&&(y="never"),{notifications:l,modals:f,returnStrategy:h,twaReturnUrl:g,skipRedirectToWallet:y}}}var Mj=Object.defineProperty,Bm=Object.getOwnPropertySymbols,WI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,yA=(t,e,n)=>e in t?Mj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dj=(t,e)=>{for(var n in e||(e={}))WI.call(e,n)&&yA(t,n,e[n]);if(Bm)for(var n of Bm(e))qI.call(e,n)&&yA(t,n,e[n]);return t},$j=(t,e)=>{var n={};for(var r in t)WI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bm)for(var r of Bm(t))e.indexOf(r)<0&&qI.call(t,r)&&(n[r]=t[r]);return n},HI={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function Lj(){if(wA)return $h;wA=1;var t=CS,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,d,l){var f,h={},g=null,y=null;l!==void 0&&(g=""+l),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)r.call(d,f)&&!s.hasOwnProperty(f)&&(h[f]=d[f]);if(a&&a.defaultProps)for(f in d=a.defaultProps,d)h[f]===void 0&&(h[f]=d[f]);return{$$typeof:e,type:a,key:g,ref:y,props:h,_owner:i.current}}return $h.Fragment=n,$h.jsx=o,$h.jsxs=o,$h}(function(t){t.exports=Lj()})(HI);const VI=HI.exports.jsx;function KI(){return typeof window<"u"}function Uj(){return!KI()}const GI=Qn.createContext(null);let pb=null;const Bj=t=>{var e=t,{children:n}=e,r=$j(e,["children"]);return KI()&&!pb&&(pb=new Oj(r)),VI(GI.Provider,{value:pb,children:n})},Fj=Qn.memo(Bj);class I5 extends Gr{constructor(...e){super(...e),Object.setPrototypeOf(this,I5.prototype)}}class T5 extends I5{constructor(...e){super(...e),Object.setPrototypeOf(this,T5.prototype)}}function jj(t){if(!t)throw new T5("You should add <TonConnectUIProvider> on the top of the app to use TonConnect");return!0}function P5(){const t=Qn.useContext(GI),e=Qn.useCallback(n=>{t&&(t.uiOptions=n)},[t]);return Uj()?[null,()=>{}]:(jj(t),[t,e])}const vA="ton-connect-button",zj=({className:t,style:e})=>{const[n,r]=P5();return Qn.useEffect(()=>(r({buttonRootId:vA}),()=>r({buttonRootId:null})),[r]),VI("div",{id:vA,className:t,style:Dj({width:"fit-content"},e)})};Qn.memo(zj);function Wj(){const[t]=P5(),[e,n]=Qn.useState((t==null?void 0:t.wallet)||null);return Qn.useEffect(()=>{if(t)return n(t.wallet),t.onStatusChange(r=>{n(r)})},[t]),e}function qj(t=!0){const e=Wj();return Qn.useMemo(()=>e?t?o5(e.account.address,e.account.chain===B0.TESTNET):e.account.address:"",[e,t,e==null?void 0:e.account.address,e==null?void 0:e.account.chain])}const QI="2.23.13";let Lh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${QI}`},De=class S3 extends Error{constructor(e,n={}){var a;const r=(()=>{var d;return n.cause instanceof S3?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),i=n.cause instanceof S3&&n.cause.docsPath||n.docsPath,s=(a=Lh.getDocsUrl)==null?void 0:a.call(Lh,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Lh.version?[`Version: ${Lh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=QI}walk(e){return YI(this,e)}};function YI(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?YI(t.cause,e):e?null:t}let ZI=class extends De{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Hj extends De{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let Vj=class extends De{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class JI extends De{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let XI=class extends De{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class bA extends De{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Hf(t,{dir:e,size:n=32}={}){return typeof t=="string"?gl(t,{dir:e,size:n}):Kj(t,{dir:e,size:n})}function gl(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new XI({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Kj(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new XI({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}function lc(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Ci(t){return lc(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Vf(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const Gj=new TextEncoder;function Kp(t,e={}){return typeof t=="number"||typeof t=="bigint"?Yj(t,e):typeof t=="boolean"?Qj(t,e):lc(t)?ga(t,e):Au(t,e)}function Qj(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Bo(n,{size:e.size}),Hf(n,{size:e.size})):n}const $a={zero:48,nine:57,A:65,F:70,a:97,f:102};function CA(t){if(t>=$a.zero&&t<=$a.nine)return t-$a.zero;if(t>=$a.A&&t<=$a.F)return t-($a.A-10);if(t>=$a.a&&t<=$a.f)return t-($a.a-10)}function ga(t,e={}){let n=t;e.size&&(Bo(n,{size:e.size}),n=Hf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const d=CA(r.charCodeAt(a++)),l=CA(r.charCodeAt(a++));if(d===void 0||l===void 0)throw new De(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=d*16+l}return s}function Yj(t,e){const n=yn(t,e);return ga(n)}function Au(t,e={}){const n=Gj.encode(t);return typeof e.size=="number"?(Bo(n,{size:e.size}),Hf(n,{dir:"right",size:e.size})):n}function Bo(t,{size:e}){if(Ci(t)>e)throw new Vj({givenSize:Ci(t),maxSize:e})}function If(t,e={}){const{signed:n}=e;e.size&&Bo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Tu(t,e={}){return Number(If(t,e))}function eT(t,e={}){let n=ga(t);return e.size&&(Bo(n,{size:e.size}),n=Vf(n,{dir:"right"})),new TextDecoder().decode(n)}const Zj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uc(t,e={}){return typeof t=="number"||typeof t=="bigint"?yn(t,e):typeof t=="string"?By(t,e):typeof t=="boolean"?tT(t,e):Di(t,e)}function tT(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Bo(n,{size:e.size}),Hf(n,{size:e.size})):n}function Di(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Zj[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Bo(r,{size:e.size}),Hf(r,{dir:"right",size:e.size})):r}function yn(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const d=typeof t=="bigint"?"n":"";throw new ZI({max:s?`${s}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${t}${d}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Hf(a,{size:r}):a}const Jj=new TextEncoder;function By(t,e={}){const n=Jj.encode(t);return Di(n,e)}function xl(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new uz(t.type);return`${t.name}(${Fy(t.inputs,{includeName:e})})`}function Fy(t,{includeName:e=!1}={}){return t?t.map(n=>Xj(n,{includeName:e})).join(e?", ":","):""}function Xj(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Fy(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class ez extends De{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class EA extends De{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class nT extends De{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Fy(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class jy extends De{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class tz extends De{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class nz extends De{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ci(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class rz extends De{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class rT extends De{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class iz extends De{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class iT extends De{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Fm extends De{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class sz extends De{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class oz extends De{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${xl(e.abiItem)}\`, and`,`\`${n.type}\` in \`${xl(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class I3 extends De{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Fy(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class sT extends De{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${xl(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class az extends De{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cz extends De{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class lz extends De{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class uz extends De{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Pu(t){return typeof t[0]=="string"?zy(t):dz(t)}function dz(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function zy(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Nu extends De{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Wy=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function jm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Gp(t,...e){if(!fz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function fpe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jm(t.outputLen),jm(t.blockLen)}function zm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function oT(t,e){Gp(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Sg=BigInt(2**32-1),AA=BigInt(32);function hz(t,e=!1){return e?{h:Number(t&Sg),l:Number(t>>AA&Sg)}:{h:Number(t>>AA&Sg)|0,l:Number(t&Sg)|0}}function pz(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=hz(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const gz=(t,e,n)=>t<<n|e>>>32-n,mz=(t,e,n)=>e<<n|t>>>32-n,yz=(t,e,n)=>e<<n-32|t>>>64-n,wz=(t,e,n)=>t<<n-32|e>>>64-n,Sd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vz(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function gb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vo(t,e){return t<<32-e|t>>>e}const _A=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bz(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function xA(t){for(let e=0;e<t.length;e++)t[e]=bz(t[e])}const Cz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hpe(t){Gp(t);let e="";for(let n=0;n<t.length;n++)e+=Cz[t[n]];return e}function Ez(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function N5(t){return typeof t=="string"&&(t=Ez(t)),Gp(t),t}function ppe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Gp(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class aT{clone(){return this._cloneInto()}}function cT(t){const e=r=>t().update(N5(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function gpe(t=32){if(Sd&&typeof Sd.getRandomValues=="function")return Sd.getRandomValues(new Uint8Array(t));if(Sd&&typeof Sd.randomBytes=="function")return Sd.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const lT=[],uT=[],dT=[],Az=BigInt(0),Uh=BigInt(1),_z=BigInt(2),xz=BigInt(7),Sz=BigInt(256),Iz=BigInt(113);for(let t=0,e=Uh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],lT.push(2*(5*r+n)),uT.push((t+1)*(t+2)/2%64);let i=Az;for(let s=0;s<7;s++)e=(e<<Uh^(e>>xz)*Iz)%Sz,e&_z&&(i^=Uh<<(Uh<<BigInt(s))-Uh);dT.push(i)}const[Tz,Pz]=pz(dT,!0),SA=(t,e,n)=>n>32?yz(t,e,n):gz(t,e,n),IA=(t,e,n)=>n>32?wz(t,e,n):mz(t,e,n);function Nz(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,l=n[d],f=n[d+1],h=SA(l,f,1)^n[a],g=IA(l,f,1)^n[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=uT[o],d=SA(i,s,a),l=IA(i,s,a),f=lT[o];i=t[f],s=t[f+1],t[f]=d,t[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Tz[r],t[1]^=Pz[r]}n.fill(0)}class k5 extends aT{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jm(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vz(this.state)}keccak(){_A||xA(this.state32),Nz(this.state32,this.rounds),_A||xA(this.state32),this.posOut=0,this.pos=0}update(e){zm(this);const{blockLen:n,state:r}=this;e=N5(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zm(this,!1),Gp(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(oT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new k5(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const kz=(t,e,n)=>cT(()=>new k5(e,t,n)),fT=kz(1,136,256/8);function Sl(t,e){const n=e||"hex",r=fT(lc(t,{strict:!1})?Kp(t):t);return n==="bytes"?r:uc(r)}const mb=new Wy(8192);function qy(t,e){if(mb.has(`${t}.${e}`))return mb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Sl(Au(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return mb.set(`${t}.${e}`,s),s}function cl(t,e){if(!ma(t,{strict:!1}))throw new Nu({address:t});return qy(t,e)}const Rz=/^0x[a-fA-F0-9]{40}$/,yb=new Wy(8192);function ma(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(yb.has(r))return yb.get(r);const i=Rz.test(t)?t.toLowerCase()===t?!0:n?qy(t)===t:!0:!1;return yb.set(r,i),i}function Wm(t,e,n,{strict:r}={}){return lc(t,{strict:!1})?Oz(t,e,n,{strict:r}):gT(t,e,n,{strict:r})}function hT(t,e){if(typeof e=="number"&&e>0&&e>Ci(t)-1)throw new JI({offset:e,position:"start",size:Ci(t)})}function pT(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ci(t)!==n-e)throw new JI({offset:n,position:"end",size:Ci(t)})}function gT(t,e,n,{strict:r}={}){hT(t,e);const i=t.slice(e,n);return r&&pT(i,e,n),i}function Oz(t,e,n,{strict:r}={}){hT(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&pT(i,e,n),i}const Mz=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function mT(t,e){if(t.length!==e.length)throw new rz({expectedLength:t.length,givenLength:e.length});const n=Dz({params:t,values:e}),r=O5(n);return r.length===0?"0x":r}function Dz({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(R5({param:t[r],value:e[r]}));return n}function R5({param:t,value:e}){const n=M5(t.type);if(n){const[r,i]=n;return Lz(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return zz(e,{param:t});if(t.type==="address")return $z(e);if(t.type==="bool")return Bz(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=Mz.exec(t.type)??[];return Fz(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Uz(e,{param:t});if(t.type==="string")return jz(e);throw new az(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function O5(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Ci(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(yn(e+i,{size:32})),r.push(a),i+=Ci(a)):n.push(a)}return Pu([...n,...r])}function $z(t){if(!ma(t))throw new Nu({address:t});return{dynamic:!1,encoded:gl(t.toLowerCase())}}function Lz(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new lz(t);if(!r&&t.length!==e)throw new tz({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=R5({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=O5(s);if(r){const a=yn(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Pu([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Pu(s.map(({encoded:o})=>o))}}function Uz(t,{param:e}){const[,n]=e.type.split("bytes"),r=Ci(t);if(!n){let i=t;return r%32!==0&&(i=gl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Pu([gl(yn(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new nz({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:gl(t,{dir:"right"})}}function Bz(t){if(typeof t!="boolean")throw new De(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:gl(tT(t))}}function Fz(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new ZI({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:yn(t,{size:32,signed:e})}}function jz(t){const e=By(t),n=Math.ceil(Ci(e)/32),r=[];for(let i=0;i<n;i++)r.push(gl(Wm(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Pu([gl(yn(Ci(e),{size:32})),...r])}}function zz(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=R5({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?O5(r):Pu(r.map(({encoded:i})=>i))}}function M5(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const wb="/docs/contract/encodeDeployData";function yT(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new ez({docsPath:wb});if(!("inputs"in i))throw new EA({docsPath:wb});if(!i.inputs||i.inputs.length===0)throw new EA({docsPath:wb});const s=mT(i.inputs,n);return zy([r,s])}function _a(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class D5 extends De{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class vb extends De{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Wz(t){const e=Sl(`0x${t.substring(4)}`).substring(26);return qy(`0x${e}`)}const qz="modulepreload",Hz=function(t){return"/Telegram-Mini-app/"+t},TA={},Cs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=Hz(d),d in TA)return;TA[d]=!0;const l=d.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":qz,l||(h.as="script"),h.crossOrigin="",h.href=d,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function Vz({hash:t,signature:e}){const n=lc(t)?t:uc(t),{secp256k1:r}=await Cs(async()=>{const{secp256k1:o}=await import("./secp256k1-CUQdHBxp.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:f,v:h,yParity:g}=e,y=Number(g??h),v=PA(y);return new r.Signature(If(l),If(f)).addRecoveryBit(v)}const o=lc(e)?e:uc(e),a=Tu(`0x${o.slice(130)}`),d=PA(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function PA(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Kz({hash:t,signature:e}){return Wz(await Vz({hash:t,signature:e}))}class NA extends De{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class wT extends De{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Gz extends De{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Qz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Gz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new wT({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new NA({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new NA({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function $5(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Qz);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Yz(t,e="hex"){const n=vT(t),r=$5(new Uint8Array(n.length));return n.encode(r),e==="hex"?Di(r.bytes):r.bytes}function vT(t){return Array.isArray(t)?Zz(t.map(e=>vT(e))):Jz(t)}function Zz(t){const e=t.reduce((i,s)=>i+s.length,0),n=bT(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Jz(t){const e=typeof t=="string"?ga(t):t,n=bT(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function bT(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new De("Length is too large.")}function Xz(t){const{chainId:e,contractAddress:n,nonce:r,to:i}=t,s=Sl(zy(["0x05",Yz([e?yn(e):"0x",n,r?yn(r):"0x"])]));return i==="bytes"?ga(s):s}async function CT(t){const{authorization:e,signature:n}=t;return Kz({hash:Xz(e),signature:n??e})}class T3 extends De{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class eW extends De{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class tW extends De{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ET extends De{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function nW({chain:t,currentChainId:e}){if(!t)throw new tW;if(e!==t.id)throw new eW({chain:t,currentChainId:e})}const rW={gwei:9,wei:18},iW={ether:-9,wei:9},sW={ether:-18,gwei:-9};function Kf(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function As(t,e="wei"){return Kf(t,iW[e])}class lu extends De{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(lu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class qm extends De{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${As(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(qm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class P3 extends De{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${As(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(P3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class N3 extends De{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(N3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class k3 extends De{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(k3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class R3 extends De{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(R3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class O3 extends De{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(O3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class M3 extends De{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(M3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class D3 extends De{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(D3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class $3 extends De{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty($3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Hm extends De{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${As(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${As(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Hm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Hy extends De{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function L5(t,e="wei"){return Kf(t,rW[e])}function Qp(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class oW extends De{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class aW extends De{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qp(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class cW extends De{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:f,to:h,value:g}){var v;const y=Qp({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof g<"u"&&`${L5(g)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${As(a)} gwei`,maxFeePerGas:typeof d<"u"&&`${As(d)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${As(l)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",y].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class AT extends De{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class _T extends De{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class lW extends De{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const oo=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),uW=t=>t,U5=t=>t;class T0 extends De{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${U5(o)}`,e&&`Request body: ${oo(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class B5 extends De{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${U5(r)}`,`Request body: ${oo(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class kA extends De{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${U5(n)}`,`Request body: ${oo(e)}`],name:"TimeoutError"})}}const dW=-1;class xs extends De{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof B5?e.code:n??dW}}class Gf extends xs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class V0 extends xs{constructor(e){super(e,{code:V0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(V0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class K0 extends xs{constructor(e){super(e,{code:K0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(K0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class G0 extends xs{constructor(e,{method:n}={}){super(e,{code:G0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(G0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Q0 extends xs{constructor(e){super(e,{code:Q0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ku extends xs{constructor(e){super(e,{code:ku.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Y0 extends xs{constructor(e){super(e,{code:Y0.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Y0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Z0 extends xs{constructor(e){super(e,{code:Z0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ml extends xs{constructor(e){super(e,{code:ml.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ml,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tf extends xs{constructor(e){super(e,{code:Tf.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class uu extends xs{constructor(e,{method:n}={}){super(e,{code:uu.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Pf extends xs{constructor(e){super(e,{code:Pf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Pf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class J0 extends xs{constructor(e){super(e,{code:J0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(J0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class li extends Gf{constructor(e){super(e,{code:li.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(li,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class X0 extends Gf{constructor(e){super(e,{code:X0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(X0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ep extends Gf{constructor(e,{method:n}={}){super(e,{code:ep.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class tp extends Gf{constructor(e){super(e,{code:tp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class np extends Gf{constructor(e){super(e,{code:np.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(np,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ya extends Gf{constructor(e){super(e,{code:ya.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class fW extends xs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function F5(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof De?t.walk(i=>(i==null?void 0:i.code)===lu.code):t;return r instanceof De?new lu({cause:t,message:r.details}):lu.nodeMessage.test(n)?new lu({cause:t,message:t.details}):qm.nodeMessage.test(n)?new qm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):P3.nodeMessage.test(n)?new P3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):N3.nodeMessage.test(n)?new N3({cause:t,nonce:e==null?void 0:e.nonce}):k3.nodeMessage.test(n)?new k3({cause:t,nonce:e==null?void 0:e.nonce}):R3.nodeMessage.test(n)?new R3({cause:t,nonce:e==null?void 0:e.nonce}):O3.nodeMessage.test(n)?new O3({cause:t}):M3.nodeMessage.test(n)?new M3({cause:t,gas:e==null?void 0:e.gas}):D3.nodeMessage.test(n)?new D3({cause:t,gas:e==null?void 0:e.gas}):$3.nodeMessage.test(n)?new $3({cause:t}):Hm.nodeMessage.test(n)?new Hm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Hy({cause:t})}function hW(t,{docsPath:e,...n}){const r=(()=>{const i=F5(t,n);return i instanceof Hy?t:i})();return new cW(r,{docsPath:e,...n})}function j5(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const pW={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function z5(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=gW(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Di(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=yn(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=yn(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=yn(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=yn(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=yn(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=yn(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=pW[t.type]),typeof t.value<"u"&&(e.value=yn(t.value)),e}function gW(t){return t.map(e=>({address:e.contractAddress,r:e.r?yn(BigInt(e.r)):e.r,s:e.s?yn(BigInt(e.s)):e.s,chainId:yn(e.chainId),nonce:yn(e.nonce),...typeof e.yParity<"u"?{yParity:yn(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:yn(e.v)}:{}}))}function lr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const mW=2n**256n-1n;function Vy(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?_a(e):void 0;if(o&&!ma(o.address))throw new Nu({address:o.address});if(s&&!ma(s))throw new Nu({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new oW;if(r&&r>mW)throw new qm({maxFeePerGas:r});if(i&&r&&i>r)throw new Hm({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function xT(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Tu(e)}class yW extends De{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class W5 extends De{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wW extends De{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${As(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ST extends De{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const IT={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function TT(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Tu(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Tu(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?IT[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=vW(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function vW(t){return t.map(e=>({contractAddress:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function bW(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:TT(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function rp(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){var f,h,g;const s=r??"latest",o=i??!1,a=n!==void 0?yn(n):void 0;let d=null;if(e?d=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):d=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!d)throw new ST({blockHash:e,blockNumber:n});return(((g=(h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.block)==null?void 0:g.format)||bW)(d)}async function PT(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function CW(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await lr(t,rp,"getBlock")({}),f=await a({block:l,client:t,request:i});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const d=await t.request({method:"eth_maxPriorityFeePerGas"});return If(d)}catch{const[a,d]=await Promise.all([n?Promise.resolve(n):lr(t,rp,"getBlock")({}),lr(t,PT,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new W5;const l=d-a.baseFeePerGas;return l<0n?0n:l}}async function RA(t,e){var g,y;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var v,w;return typeof((v=r==null?void 0:r.fees)==null?void 0:v.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)??1.2})();if(o<1)throw new yW;const d=10**(((g=o.toString().split(".")[1])==null?void 0:g.length)??0),l=v=>v*BigInt(Math.ceil(o*d))/BigInt(d),f=n||await lr(t,rp,"getBlock")({});if(typeof((y=r==null?void 0:r.fees)==null?void 0:y.estimateFeesPerGas)=="function"){const v=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(v!==null)return v}if(s==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new W5;const v=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await CW(t,{block:f,chain:r,request:i}),w=l(f.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??w+v,maxPriorityFeePerGas:v}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await lr(t,PT,"getGasPrice")({}))}}class EW extends De{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:f,to:h,value:g}){var v;const y=Qp({from:n==null?void 0:n.address,to:h,value:typeof g<"u"&&`${L5(g)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${As(a)} gwei`,maxFeePerGas:typeof d<"u"&&`${As(d)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${As(l)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function AW(t,{docsPath:e,...n}){const r=(()=>{const i=F5(t,n);return i instanceof Hy?t:i})();return new EW(r,{docsPath:e,...n})}class _W extends De{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class xW extends De{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function OA(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function SW(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=OA(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=OA(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function MA(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new bA({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new bA({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function IW(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=yn(e)),n!==void 0&&(o.nonce=yn(n)),r!==void 0&&(o.state=MA(r)),i!==void 0){if(o.state)throw new xW;o.stateDiff=MA(i)}return o}function NT(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ma(n,{strict:!1}))throw new Nu({address:n});if(e[n])throw new _W({address:n});e[n]=IW(r)}return e}async function kT(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n?yn(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function RT(t,e){var i,s,o;const{account:n=t.account}=e,r=n?_a(n):void 0;try{let S=function(I){const{block:j,request:W,rpcStateOverride:B}=I;return t.request({method:"eth_estimateGas",params:B?[W,j??"latest",B]:j?[W,j]:[W]})};const{accessList:a,authorizationList:d,blobs:l,blobVersionedHashes:f,blockNumber:h,blockTag:g,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:k,maxPriorityFeePerGas:N,nonce:R,value:L,stateOverride:O,...D}=await H5(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),q=(h?yn(h):void 0)||g,$=NT(O),H=await(async()=>{if(D.to)return D.to;if(d&&d.length>0)return await CT({authorization:d[0]}).catch(()=>{throw new De("`to` is required. Could not infer from `authorizationList`")})})();Vy(e);const P=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,C=(P||z5)({...j5(D,{format:P}),from:r==null?void 0:r.address,accessList:a,authorizationList:d,blobs:l,blobVersionedHashes:f,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:k,maxPriorityFeePerGas:N,nonce:R,to:H,value:L});let _=BigInt(await S({block:q,request:C,rpcStateOverride:$}));if(d){const I=await kT(t,{address:C.from}),j=await Promise.all(d.map(async W=>{const{contractAddress:B}=W,E=await S({block:q,request:{authorizationList:void 0,data:y,from:r==null?void 0:r.address,to:B,value:yn(I)},rpcStateOverride:$}).catch(()=>100000n);return 2n*BigInt(E)}));_+=j.reduce((W,B)=>W+B,0n)}return _}catch(a){throw AW(a,{...e,account:r,chain:t.chain})}}async function TW(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,r?yn(r):n]},{dedupe:!!r});return Tu(i)}function OT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ga(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Di(s))}function MT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ga(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>ga(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],d=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,d)))}return n==="bytes"?s:s.map(o=>Di(o))}function PW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),d=r?4:0,l=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+l,a,r)}function NW(t,e,n){return t&e^~t&n}function kW(t,e,n){return t&e^t&n^e&n}class RW extends aT{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gb(this.buffer)}update(e){zm(this);const{view:n,buffer:r,blockLen:i}=this;e=N5(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const d=gb(e);for(;i<=s-o;o+=i)this.process(d,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zm(this),oT(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;PW(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=gb(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=d/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const OW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bc=new Uint32Array(64);class MW extends RW{constructor(){super(64,32,8,!1),this.A=Uc[0]|0,this.B=Uc[1]|0,this.C=Uc[2]|0,this.D=Uc[3]|0,this.E=Uc[4]|0,this.F=Uc[5]|0,this.G=Uc[6]|0,this.H=Uc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:d}=this;return[e,n,r,i,s,o,a,d]}set(e,n,r,i,s,o,a,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=d|0}process(e,n){for(let h=0;h<16;h++,n+=4)Bc[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=Bc[h-15],y=Bc[h-2],v=Vo(g,7)^Vo(g,18)^g>>>3,w=Vo(y,17)^Vo(y,19)^y>>>10;Bc[h]=w+Bc[h-7]+v+Bc[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:d,G:l,H:f}=this;for(let h=0;h<64;h++){const g=Vo(a,6)^Vo(a,11)^Vo(a,25),y=f+g+NW(a,d,l)+OW[h]+Bc[h]|0,w=(Vo(r,2)^Vo(r,13)^Vo(r,22))+kW(r,i,s)|0;f=l,l=d,d=a,a=o+y|0,o=s,s=i,i=r,r=y+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,d=d+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,d,l,f)}roundClean(){Bc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const DW=cT(()=>new MW);function $W(t,e){return DW(lc(t,{strict:!1})?Kp(t):t)}function LW(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=$W(e);return i.set([n],0),r==="bytes"?i:Di(i)}function UW(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const s of e)i.push(LW({commitment:s,to:r,version:n}));return i}const DA=6,DT=32,q5=4096,$T=DT*q5,$A=$T*DA-1-1*q5*DA;class BW extends De{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class FW extends De{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function jW(t){const e=typeof t.data=="string"?ga(t.data):t.data,n=Ci(e);if(!n)throw new FW;if(n>$A)throw new BW({maxSize:$A,size:n});const r=[];let i=!0,s=0;for(;i;){const o=$5(new Uint8Array($T));let a=0;for(;a<q5;){const d=e.slice(s,s+(DT-1));if(o.pushByte(0),o.pushBytes(d),d.length<31){o.pushByte(128),i=!1;break}a++,s+=31}r.push(o)}return r.map(o=>Di(o.bytes))}function zW(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??jW({data:e}),s=t.commitments??OT({blobs:i,kzg:n,to:r}),o=t.proofs??MT({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let d=0;d<i.length;d++)a.push({blob:i[d],commitment:s[d],proof:o[d]});return a}function WW(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new aW({transaction:t})}const LT=["blobVersionedHashes","chainId","fees","gas","nonce","type"],LA=new Map;async function H5(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:d,parameters:l=LT,type:f}=e,h=n&&_a(n),g={...e,...h?{from:h==null?void 0:h.address}:{}};let y;async function v(){return y||(y=await lr(t,rp,"getBlock")({blockTag:"latest"}),y)}let w;async function x(){return w||(i?i.id:typeof e.chainId<"u"?e.chainId:(w=await lr(t,xT,"getChainId")({}),w))}if(l.includes("nonce")&&typeof a>"u"&&h)if(d){const k=await x();g.nonce=await d.consume({address:h.address,chainId:k,client:t})}else g.nonce=await lr(t,TW,"getTransactionCount")({address:h.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const k=OT({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const N=UW({commitments:k,to:"hex"});g.blobVersionedHashes=N}if(l.includes("sidecars")){const N=MT({blobs:r,commitments:k,kzg:o}),R=zW({blobs:r,commitments:k,proofs:N,to:"hex"});g.sidecars=R}}if(l.includes("chainId")&&(g.chainId=await x()),(l.includes("fees")||l.includes("type"))&&typeof f>"u")try{g.type=WW(g)}catch{let k=LA.get(t.uid);if(typeof k>"u"){const N=await v();k=typeof(N==null?void 0:N.baseFeePerGas)=="bigint",LA.set(t.uid,k)}g.type=k?"eip1559":"legacy"}if(l.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){const k=await v(),{maxFeePerGas:N,maxPriorityFeePerGas:R}=await RA(t,{block:k,chain:i,request:g});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<R)throw new wW({maxPriorityFeePerGas:R});g.maxPriorityFeePerGas=R,g.maxFeePerGas=N}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new W5;if(typeof e.gasPrice>"u"){const k=await v(),{gasPrice:N}=await RA(t,{block:k,chain:i,request:g,type:"legacy"});g.gasPrice=N}}return l.includes("gas")&&typeof s>"u"&&(g.gas=await lr(t,RT,"estimateGas")({...g,account:h&&{address:h.address,type:"json-rpc"}})),Vy(g),delete g.parameters,g}async function qW(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const bb=new Wy(128);async function UT(t,e){var k,N,R,L;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:y,value:v,...w}=e;if(typeof n>"u")throw new D5({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?_a(n):null;try{Vy(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await CT({authorization:s[0]}).catch(()=>{throw new De("`to` is required. Could not infer from `authorizationList`.")})})();if((x==null?void 0:x.type)==="json-rpc"||x===null){let D;r!==null&&(D=await lr(t,xT,"getChainId")({}),nW({currentChainId:D,chain:r}));const F=(R=(N=(k=t.chain)==null?void 0:k.formatters)==null?void 0:N.transactionRequest)==null?void 0:R.format,$=(F||z5)({...j5(w,{format:F}),accessList:i,authorizationList:s,blobs:o,chainId:D,data:a,from:x==null?void 0:x.address,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:y,to:O,value:v}),H=bb.get(t.uid),P=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:P,params:[$]},{retryCount:0})}catch(m){if(H===!1)throw m;const C=m;if(C.name==="InvalidInputRpcError"||C.name==="InvalidParamsRpcError"||C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[$]},{retryCount:0}).then(S=>(bb.set(t.uid,!0),S)).catch(S=>{const _=S;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(bb.set(t.uid,!1),C):_});throw C}}if((x==null?void 0:x.type)==="local"){const D=await lr(t,H5,"prepareTransactionRequest")({account:x,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:y,nonceManager:x.nonceManager,parameters:[...LT,"sidecars"],value:v,...w,to:O}),F=(L=r==null?void 0:r.serializers)==null?void 0:L.transaction,q=await x.signTransaction(D,{serializer:F});return await lr(t,qW,"sendRawTransaction")({serializedTransaction:q})}throw(x==null?void 0:x.type)==="smart"?new vb({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new vb({docsPath:"/docs/actions/wallet/sendTransaction",type:x==null?void 0:x.type})}catch(O){throw O instanceof vb?O:hW(O,{...e,account:x,chain:e.chain||void 0})}}const L3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],BT=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],FT=[...BT,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],HW=[...BT,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],UA=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],BA=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function VW(t,e={}){typeof e.size<"u"&&Bo(t,{size:e.size});const n=Di(t,e);return If(n,e)}function KW(t,e={}){let n=t;if(typeof e.size<"u"&&(Bo(n,{size:e.size}),n=Vf(n)),n.length>1||n[0]>1)throw new Hj(n);return!!n[0]}function rc(t,e={}){typeof e.size<"u"&&Bo(t,{size:e.size});const n=Di(t,e);return Tu(n,e)}function GW(t,e={}){let n=t;return typeof e.size<"u"&&(Bo(n,{size:e.size}),n=Vf(n,{dir:"right"})),new TextDecoder().decode(n)}function Ky(t,e){const n=typeof e=="string"?ga(e):e,r=$5(n);if(Ci(n)===0&&t.length>0)throw new jy;if(Ci(e)&&Ci(e)<32)throw new nT({data:typeof e=="string"?e:Di(e),params:t,size:Ci(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[d,l]=af(r,a,{staticPosition:0});i+=l,s.push(d)}return s}function af(t,e,{staticPosition:n}){const r=M5(e.type);if(r){const[i,s]=r;return YW(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return eq(t,e,{staticPosition:n});if(e.type==="address")return QW(t);if(e.type==="bool")return ZW(t);if(e.type.startsWith("bytes"))return JW(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return XW(t,e);if(e.type==="string")return tq(t,{staticPosition:n});throw new cz(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const FA=32,U3=32;function QW(t){const e=t.readBytes(32);return[qy(Di(gT(e,-20))),32]}function YW(t,e,{length:n,staticPosition:r}){if(!n){const o=rc(t.readBytes(U3)),a=r+o,d=a+FA;t.setPosition(a);const l=rc(t.readBytes(FA)),f=ip(e);let h=0;const g=[];for(let y=0;y<l;++y){t.setPosition(d+(f?y*32:h));const[v,w]=af(t,e,{staticPosition:d});h+=w,g.push(v)}return t.setPosition(r+32),[g,32]}if(ip(e)){const o=rc(t.readBytes(U3)),a=r+o,d=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[f]=af(t,e,{staticPosition:a});d.push(f)}return t.setPosition(r+32),[d,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,d]=af(t,e,{staticPosition:r+i});i+=d,s.push(a)}return[s,i]}function ZW(t){return[KW(t.readBytes(32),{size:32}),32]}function JW(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=rc(t.readBytes(32));t.setPosition(n+o);const a=rc(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(a);return t.setPosition(n+32),[Di(d),32]}return[Di(t.readBytes(Number.parseInt(i),32)),32]}function XW(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?VW(i,{signed:n}):rc(i,{signed:n}),32]}function eq(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(ip(e)){const o=rc(t.readBytes(U3)),a=n+o;for(let d=0;d<e.components.length;++d){const l=e.components[d];t.setPosition(a+s);const[f,h]=af(t,l,{staticPosition:a});s+=h,i[r?d:l==null?void 0:l.name]=f}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[d,l]=af(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=d,s+=l}return[i,s]}function tq(t,{staticPosition:e}){const n=rc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=rc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=GW(Vf(s));return t.setPosition(e+32),[o,32]}function ip(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(ip);const n=M5(t.type);return!!(n&&ip({...t,type:n[1]}))}const nq=t=>Sl(Kp(t));function rq(t){return nq(t)}const iq="1.0.8";let co=class B3 extends Error{constructor(e,n={}){var o;const r=n.cause instanceof B3?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof B3&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${iq}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function mc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const jT=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zT=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,WT=/^\(.+?\).*?$/,jA=/^tuple(?<array>(\[(\d*)\])*)$/;function F3(t){let e=t.type;if(jA.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=F3(s),i<n-1&&(e+=", ")}const r=mc(jA,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,F3({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Bh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=F3(i),r!==n-1&&(e+=", ")}return e}function sq(t){var e;return t.type==="function"?`function ${t.name}(${Bh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Bh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Bh(t.inputs)})`:t.type==="error"?`error ${t.name}(${Bh(t.inputs)})`:t.type==="constructor"?`constructor(${Bh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const qT=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function oq(t){return qT.test(t)}function aq(t){return mc(qT,t)}const HT=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cq(t){return HT.test(t)}function lq(t){return mc(HT,t)}const VT=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function uq(t){return VT.test(t)}function dq(t){return mc(VT,t)}const KT=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function GT(t){return KT.test(t)}function fq(t){return mc(KT,t)}const QT=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function hq(t){return QT.test(t)}function pq(t){return mc(QT,t)}const YT=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function gq(t){return YT.test(t)}function mq(t){return mc(YT,t)}const yq=/^receive\(\) external payable$/;function wq(t){return yq.test(t)}const vq=new Set(["indexed"]),j3=new Set(["calldata","memory","storage"]);class bq extends co{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Cq extends co{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Eq extends co{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Aq extends co{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class _q extends co{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class xq extends co{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Sq extends co{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Qf extends co{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Iq extends co{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Tq extends co{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Pq extends co{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Nq extends co{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function kq(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const Cb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rq(t,e={}){if(uq(t))return Oq(t,e);if(cq(t))return Mq(t,e);if(oq(t))return Dq(t,e);if(hq(t))return $q(t,e);if(gq(t))return Lq(t);if(wq(t))return{type:"receive",stateMutability:"payable"};throw new Iq({signature:t})}function Oq(t,e={}){const n=dq(t);if(!n)throw new Qf({signature:t,type:"function"});const r=No(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ru(r[a],{modifiers:j3,structs:e,type:"function"}));const o=[];if(n.returns){const a=No(n.returns),d=a.length;for(let l=0;l<d;l++)o.push(Ru(a[l],{modifiers:j3,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function Mq(t,e={}){const n=lq(t);if(!n)throw new Qf({signature:t,type:"event"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ru(r[o],{modifiers:vq,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Dq(t,e={}){const n=aq(t);if(!n)throw new Qf({signature:t,type:"error"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ru(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function $q(t,e={}){const n=pq(t);if(!n)throw new Qf({signature:t,type:"constructor"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ru(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Lq(t){const e=mq(t);if(!e)throw new Qf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Uq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Bq=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Fq=/^u?int$/;function Ru(t,e){var h,g;const n=kq(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Cb.has(n))return Cb.get(n);const r=WT.test(t),i=mc(r?Bq:Uq,t);if(!i)throw new Eq({param:t});if(i.name&&zq(i.name))throw new Aq({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let d,l={};if(r){d="tuple";const y=No(i.type),v=[],w=y.length;for(let x=0;x<w;x++)v.push(Ru(y[x],{structs:a}));l={components:v}}else if(i.type in a)d="tuple",l={components:a[i.type]};else if(Fq.test(i.type))d=`${i.type}256`;else if(d=i.type,(e==null?void 0:e.type)!=="struct"&&!ZT(d))throw new Cq({type:d});if(i.modifier){if(!((g=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&g.call(h,i.modifier)))throw new _q({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(j3.has(i.modifier)&&!Wq(d,!!i.array))throw new xq({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const f={type:`${d}${i.array??""}`,...s,...o,...l};return Cb.set(n,f),f}function No(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?No(a,[...e,n.trim()]):No(a,e,`${n}${o}`,r);case"(":return No(a,e,`${n}${o}`,r+1);case")":return No(a,e,`${n}${o}`,r-1);default:return No(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Nq({current:n,depth:r});return e.push(n.trim()),e}function ZT(t){return t==="address"||t==="bool"||t==="function"||t==="string"||jT.test(t)||zT.test(t)}const jq=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function zq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||jT.test(t)||zT.test(t)||jq.test(t)}function Wq(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function qq(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!GT(a))continue;const d=fq(a);if(!d)throw new Qf({signature:a,type:"struct"});const l=d.properties.split(";"),f=[],h=l.length;for(let g=0;g<h;g++){const v=l[g].trim();if(!v)continue;const w=Ru(v,{type:"struct"});f.push(w)}if(!f.length)throw new Tq({signature:a});e[d.name]=f}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,d]=i[o];r[a]=JT(d,e)}return r}const Hq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function JT(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(WT.test(o.type))r.push(o);else{const d=mc(Hq,o.type);if(!(d!=null&&d.type))throw new Sq({abiParameter:o});const{array:l,type:f}=d;if(f in e){if(n.has(f))throw new Pq({type:f});r.push({...o,type:`tuple${l??""}`,components:JT(e[f]??[],e,new Set([...n,f]))})}else if(ZT(f))r.push(o);else throw new bq({type:f})}}return r}function XT(t){const e=qq(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];GT(s)||n.push(Rq(s,e))}return n}function Vq(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new De("Unable to normalize signature.");return i}const Kq=t=>{const e=typeof t=="string"?t:sq(t);return Vq(e)};function eP(t){return rq(Kq(t))}const V5=eP,K5=t=>Wm(eP(t),0,4);function G5(t){const{abi:e,args:n=[],name:r}=t,i=lc(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?K5(a)===r:a.type==="event"?V5(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,f)=>{const h="inputs"in a&&a.inputs[f];return h?z3(l,h):!1})){if(o&&"inputs"in o&&o.inputs){const l=tP(a.inputs,o.inputs,n);if(l)throw new oz({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function z3(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ma(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>z3(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>z3(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tP(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return tP(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ma(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ma(n[r],{strict:!1}):!1)return o}}const Eb="/docs/contract/decodeFunctionResult";function Yp(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=G5({abi:e,args:n,name:r});if(!a)throw new Fm(r,{docsPath:Eb});s=a}if(s.type!=="function")throw new Fm(void 0,{docsPath:Eb});if(!s.outputs)throw new sz(s.name,{docsPath:Eb});const o=Ky(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const zA="/docs/contract/encodeFunctionData";function Gq(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=G5({abi:e,args:n,name:r});if(!s)throw new Fm(r,{docsPath:zA});i=s}if(i.type!=="function")throw new Fm(void 0,{docsPath:zA});return{abi:[i],functionName:K5(xl(i))}}function Yf(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:Gq(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?mT(i.inputs,e??[]):void 0;return zy([s,o??"0x"])}function Zp({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new T3({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new T3({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const nP={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Qq={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Yq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Zq(t){const{abi:e,data:n}=t,r=Wm(n,0,4);if(r==="0x")throw new jy;const s=[...e||[],Qq,Yq].find(o=>o.type==="error"&&r===K5(xl(o)));if(!s)throw new rT(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ky(s.inputs,Wm(n,4)):void 0,errorName:s.name}}function rP({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?oo(e[s]):e[s]}`).join(", ")})`}class Jq extends De{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:f,to:h,value:g,stateOverride:y}){var x;const v=n?_a(n):void 0;let w=Qp({from:v==null?void 0:v.address,to:h,value:typeof g<"u"&&`${L5(g)} ${((x=i==null?void 0:i.nativeCurrency)==null?void 0:x.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${As(a)} gwei`,maxFeePerGas:typeof d<"u"&&`${As(d)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${As(l)} gwei`,nonce:f});y&&(w+=`
${SW(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class iP extends De{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const d=G5({abi:n,args:r,name:o}),l=d?rP({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=d?xl(d,{includeName:!0}):void 0,h=Qp({address:i&&uW(i),function:f,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class W3 extends De{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,d;if(n&&n!=="0x")try{o=Zq({abi:e,data:n});const{abiItem:f,errorName:h,args:g}=o;if(h==="Error")d=g[0];else if(h==="Panic"){const[y]=g;d=nP[y]}else{const y=f?xl(f,{includeName:!0}):void 0,v=f&&g?rP({abiItem:f,args:g,includeFunctionName:!1,includeName:!1}):void 0;a=[y?`Error: ${y}`:"",v&&v!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(f){s=f}else i&&(d=i);let l;s instanceof rT&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(d&&d!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,d||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=d,this.signature=l}}class Xq extends De{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class eH extends De{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Q5 extends De{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Y5(t,e){var r,i,s,o,a,d;if(!(t instanceof De))return!1;const n=t.walk(l=>l instanceof W3);return n instanceof W3?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((i=n.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(d=n.reason)!=null&&d.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===nP[50]):!1}function sP(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return lc(e)?e:null}function sm(t){let e=new Uint8Array(32).fill(0);if(!t)return Di(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=sP(n[r]),s=i?Kp(i):Sl(Au(n[r]),"bytes");e=Sl(Pu([e,s]),"bytes")}return Di(e)}function tH(t){return`[${t.slice(2)}]`}function nH(t){const e=new Uint8Array(32).fill(0);return t?sP(t)||Sl(Au(t)):Di(e)}function Z5(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Au(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=Au(i[s]);o.byteLength>255&&(o=Au(tH(nH(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const rH=3;function Vm(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof Q5?t:t instanceof De?t.walk(v=>"data"in v)||t.walk():{},{code:d,data:l,details:f,message:h,shortMessage:g}=a,y=t instanceof jy?new Xq({functionName:s}):[rH,ku.code].includes(d)&&(l||f||h||g)?new W3({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof B5?f:g??h}):t;return new iP(y,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const iH="0x82ad56cb",sH="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",oH="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function aH(t,{docsPath:e,...n}){const r=(()=>{const i=F5(t,n);return i instanceof Hy?t:i})();return new Jq(r,{docsPath:e,...n})}function oP(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Ab=new Map;function aP({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const f=d();o();const h=f.map(({args:g})=>g);h.length!==0&&t(h).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let y=0;y<f.length;y++){const{resolve:v}=f[y];v==null||v([g[y],g])}}).catch(g=>{for(let y=0;y<f.length;y++){const{reject:v}=f[y];v==null||v(g)}})},o=()=>Ab.delete(e),a=()=>d().map(({args:f})=>f),d=()=>Ab.get(e)||[],l=f=>Ab.set(e,[...d(),f]);return{flush:o,async schedule(f){const{promise:h,resolve:g,reject:y}=oP();return(n==null?void 0:n([...a(),f]))&&s(),d().length>0?(l({args:f,resolve:g,reject:y}),h):(l({args:f,resolve:g,reject:y}),setTimeout(s,r),h)}}}async function cP(t,e){var P,m,C,S;const{account:n=t.account,batch:r=!!((P=t.batch)!=null&&P.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:d,data:l,factory:f,factoryData:h,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:k,to:N,value:R,stateOverride:L,...O}=e,D=n?_a(n):void 0;if(d&&(f||h))throw new De("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&N)throw new De("Cannot provide both `code` & `to` as parameters.");const F=d&&l,q=f&&h&&N&&l,$=F||q,H=F?uH({code:d,data:l}):q?dH({data:l,factory:f,factoryData:h,to:N}):l;try{Vy(e);const I=(i?yn(i):void 0)||s,j=NT(L),W=(S=(C=(m=t.chain)==null?void 0:m.formatters)==null?void 0:C.transactionRequest)==null?void 0:S.format,E=(W||z5)({...j5(O,{format:W}),from:D==null?void 0:D.address,accessList:o,blobs:a,data:H,gas:g,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:k,to:$?void 0:N,value:R});if(r&&cH({request:E})&&!j)try{return await lH(t,{...E,blockNumber:i,blockTag:s})}catch(J){if(!(J instanceof ET)&&!(J instanceof T3))throw J}const U=await t.request({method:"eth_call",params:j?[E,I,j]:[E,I]});return U==="0x"?{data:void 0}:{data:U}}catch(_){const I=fH(_),{offchainLookup:j,offchainLookupSignature:W}=await Cs(async()=>{const{offchainLookup:B,offchainLookupSignature:E}=await import("./ccip-CHhOrRgW.js");return{offchainLookup:B,offchainLookupSignature:E}},[]);if(t.ccipRead!==!1&&(I==null?void 0:I.slice(0,10))===W&&N)return{data:await j(t,{data:I,to:N})};throw $&&(I==null?void 0:I.slice(0,10))==="0x101bb98d"?new eH({factory:f}):aH(_,{...e,account:D,chain:t.chain})}}function cH({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(iH)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function lH(t,e){var w;const{batchSize:n=1024,wait:r=0}=typeof((w=t.batch)==null?void 0:w.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:d}=e;let l=a;if(!l){if(!t.chain)throw new ET;l=Zp({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=(i?yn(i):void 0)||s,{schedule:g}=aP({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(x){return x.reduce((N,{data:R})=>N+(R.length-2),0)>n*2},fn:async x=>{const k=x.map(L=>({allowFailure:!0,callData:L.data,target:L.to})),N=Yf({abi:L3,args:[k],functionName:"aggregate3"}),R=await t.request({method:"eth_call",params:[{data:N,to:l},h]});return Yp({abi:L3,args:[k],functionName:"aggregate3",data:R||"0x"})}}),[{returnData:y,success:v}]=await g({data:o,to:d});if(!v)throw new Q5({data:y});return y==="0x"?{data:void 0}:{data:y}}function uH(t){const{code:e,data:n}=t;return yT({abi:XT(["constructor(bytes, bytes)"]),bytecode:sH,args:[e,n]})}function dH(t){const{data:e,factory:n,factoryData:r,to:i}=t;return yT({abi:XT(["constructor(address, bytes, address, bytes)"]),bytecode:oH,args:[i,e,n,r]})}function fH(t){var n;if(!(t instanceof De))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function Ou(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Yf({abi:n,args:i,functionName:s});try{const{data:d}=await lr(t,cP,"call")({...o,data:a,to:r});return Yp({abi:n,args:i,functionName:s,data:d||"0x"})}catch(d){throw Vm(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function hH(t,{blockNumber:e,blockTag:n,coinType:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");d=Zp({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const l=Yf({abi:BA,functionName:"addr",...r!=null?{args:[sm(i),BigInt(r)]}:{args:[sm(i)]}}),f={address:d,abi:FT,functionName:"resolve",args:[uc(Z5(i)),l],blockNumber:e,blockTag:n},h=lr(t,Ou,"readContract"),g=s?await h({...f,args:[...f.args,s]}):await h(f);if(g[0]==="0x")return null;const y=Yp({abi:BA,args:r!=null?[sm(i),BigInt(r)]:void 0,functionName:"addr",data:g[0]});return y==="0x"||Vf(y)==="0x00"?null:y}catch(l){if(o)throw l;if(Y5(l,"resolve"))return null;throw l}}class pH extends De{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Fh extends De{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class J5 extends De{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class gH extends De{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const mH=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,yH=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,wH=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,vH=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function bH(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function WA(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function lP({uri:t,gatewayUrls:e}){const n=wH.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=WA(e==null?void 0:e.ipfs,"https://ipfs.io"),i=WA(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(mH),{protocol:o,subpath:a,target:d,subtarget:l=""}=(s==null?void 0:s.groups)||{},f=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||yH.test(t);if(t.startsWith("http")&&!f&&!h){let y=t;return e!=null&&e.arweave&&(y=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:y,isOnChain:!1,isEncoded:!1}}if((f||h)&&d)return{uri:`${r}/${f?"ipns":"ipfs"}/${d}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&d)return{uri:`${i}/${d}${l||""}`,isOnChain:!1,isEncoded:!1};let g=t.replace(vH,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new J5({uri:t})}function uP(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new pH({data:t});return t.image||t.image_url||t.image_data}async function CH({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await X5({gatewayUrls:t,uri:uP(n)})}catch{throw new J5({uri:e})}}async function X5({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=lP({uri:e,gatewayUrls:t});if(r||await bH(n))return n;throw new J5({uri:e})}function EH(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,d]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Fh({reason:"Only EIP-155 supported"});if(!o)throw new Fh({reason:"Chain ID not found"});if(!d)throw new Fh({reason:"Contract address not found"});if(!i)throw new Fh({reason:"Token ID not found"});if(!a)throw new Fh({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:d,tokenID:i}}async function AH(t,{nft:e}){if(e.namespace==="erc721")return Ou(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ou(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new gH({namespace:e.namespace})}async function _H(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?xH(t,{gatewayUrls:e,record:n}):X5({uri:n,gatewayUrls:e})}async function xH(t,{gatewayUrls:e,record:n}){const r=EH(n),i=await AH(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=lP({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,f=JSON.parse(l);return X5({uri:uP(f),gatewayUrls:e})}let d=r.tokenID;return r.namespace==="erc1155"&&(d=d.replace("0x","").padStart(64,"0")),CH({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,d)})}async function SH(t,{blockNumber:e,blockTag:n,name:r,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");d=Zp({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const l={address:d,abi:FT,functionName:"resolve",args:[uc(Z5(r)),Yf({abi:UA,functionName:"text",args:[sm(r),i]})],blockNumber:e,blockTag:n},f=lr(t,Ou,"readContract"),h=s?await f({...l,args:[...l.args,s]}):await f(l);if(h[0]==="0x")return null;const g=Yp({abi:UA,functionName:"text",data:h[0]});return g===""?null:g}catch(l){if(o)throw l;if(Y5(l,"resolve"))return null;throw l}}async function IH(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const d=await lr(t,SH,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!d)return null;try{return await _H(t,{record:d,gatewayUrls:r})}catch{return null}}async function TH(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Zp({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const d=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:HW,functionName:"reverse",args:[uc(Z5(d))],blockNumber:n,blockTag:r},f=lr(t,Ou,"readContract"),[h,g]=i?await f({...l,args:[...l.args,i]}):await f(l);return e.toLowerCase()!==g.toLowerCase()?null:h}catch(l){if(s)throw l;if(Y5(l,"reverse"))return null;throw l}}function PH(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:d})=>{a==="success"&&e===s&&(n[o]=d.request)})),s=>n[s]||t.request}async function NH(t){const e=PH(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const kH=new Map,RH=new Map;function OH(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,kH),r=e(t,RH);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function MH(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=OH(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const DH=t=>`blockNumber.${t}`;async function $H(t,{cacheTime:e=t.cacheTime}={}){const n=await MH(()=>t.request({method:"eth_blockNumber"}),{cacheKey:DH(t.uid),cacheTime:e});return BigInt(n)}function LH(t,e){if(!ma(t,{strict:!1}))throw new Nu({address:t});if(!ma(e,{strict:!1}))throw new Nu({address:e});return t.toLowerCase()===e.toLowerCase()}const qA="/docs/contract/decodeEventLog";function UH(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new iz({docsPath:qA});const d=e.length===1?e[0]:e.find(w=>w.type==="event"&&o===V5(xl(w)));if(!(d&&"name"in d)||d.type!=="event")throw new iT(o,{docsPath:qA});const{name:l,inputs:f}=d,h=f==null?void 0:f.some(w=>!("name"in w&&w.name));let g=h?[]:{};const y=f.filter(w=>"indexed"in w&&w.indexed);for(let w=0;w<y.length;w++){const x=y[w],k=a[w];if(!k)throw new sT({abiItem:d,param:x});g[h?w:x.name||w]=BH({param:x,value:k})}const v=f.filter(w=>!("indexed"in w&&w.indexed));if(v.length>0){if(n&&n!=="0x")try{const w=Ky(v,n);if(w)if(h)g=[...g,...w];else for(let x=0;x<v.length;x++)g[v[x].name]=w[x]}catch(w){if(s)throw w instanceof nT||w instanceof wT?new I3({abiItem:d,data:n,params:v,size:Ci(n)}):w}else if(s)throw new I3({abiItem:d,data:"0x",params:v,size:0})}return{eventName:l,args:Object.values(g).length>0?g:void 0}}function BH({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ky([t],e)||[])[0]}function FH(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const d=e.find(f=>f.type==="event"&&o.topics[0]===V5(f));if(!d)return null;const l=UH({...o,abi:[d],strict:i});return s&&!s.includes(l.eventName)||!jH({args:l.args,inputs:d.inputs,matchArgs:n})?null:{...l,...o}}catch(d){let l,f;if(d instanceof iT)return null;if(d instanceof I3||d instanceof sT){if(i)return null;l=d.abiItem.name,f=(a=d.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:f?[]:{},eventName:l}}}).filter(Boolean)}function jH(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?LH(o,a):s.type==="string"||s.type==="bytes"?Sl(Kp(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function dP(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function zH(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>dP(s));return!("abi"in e)||!e.abi?i:FH({abi:e.abi,logs:i,strict:n})}async function fP(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var f,h,g;const o=r||"latest",a=n!==void 0?yn(n):void 0;let d=null;if(i?d=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,yn(s)]},{dedupe:!0}):d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,yn(s)]},{dedupe:!!a}),!d)throw new AT({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((g=(h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:g.format)||TT)(d)}const WH={"0x0":"reverted","0x1":"success"};function qH(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>dP(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Tu(t.transactionIndex):null,status:t.status?WH[t.status]:null,type:t.type?IT[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function HA(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new _T({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||qH)(n)}async function HH(t,e){var x;const{allowFailure:n=!0,batchSize:r,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,d=e.contracts,l=r??(typeof((x=t.batch)==null?void 0:x.multicall)=="object"&&t.batch.multicall.batchSize||1024);let f=o;if(!f){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Zp({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let g=0,y=0;for(let k=0;k<d.length;k++){const{abi:N,address:R,args:L,functionName:O}=d[k];try{const D=Yf({abi:N,args:L,functionName:O});y+=(D.length-2)/2,l>0&&y>l&&h[g].length>0&&(g++,y=(D.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:D,target:R}]}catch(D){const F=Vm(D,{abi:N,address:R,args:L,docsPath:"/docs/contract/multicall",functionName:O});if(!n)throw F;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:R}]}}const v=await Promise.allSettled(h.map(k=>lr(t,Ou,"readContract")({abi:L3,address:f,args:[k],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),w=[];for(let k=0;k<v.length;k++){const N=v[k];if(N.status==="rejected"){if(!n)throw N.reason;for(let L=0;L<h[k].length;L++)w.push({status:"failure",error:N.reason,result:void 0});continue}const R=N.value;for(let L=0;L<R.length;L++){const{returnData:O,success:D}=R[L],{callData:F}=h[k][L],{abi:q,address:$,functionName:H,args:P}=d[w.length];try{if(F==="0x")throw new jy;if(!D)throw new Q5({data:O});const m=Yp({abi:q,args:P,data:O,functionName:H});w.push(n?{result:m,status:"success"}:m)}catch(m){const C=Vm(m,{abi:q,address:$,args:P,docsPath:"/docs/contract/multicall",functionName:H});if(!n)throw C;w.push({error:C,result:void 0,status:"failure"})}}}if(w.length!==d.length)throw new De("multicall results mismatch");return w}const Ig=new Wy(8192);function VH(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Ig.get(n))return Ig.get(n);const r=t().finally(()=>Ig.delete(n));return Ig.set(n,r),r}async function Km(t){return new Promise(e=>setTimeout(e,t))}function Gm(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const d=async({error:l})=>{const f=typeof e=="function"?e({count:a,error:l}):e;f&&await Km(f),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return d({error:l});s(l)}};o()})}function KH(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:d}={...e,...r},{method:l}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new uu(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new uu(new Error("method not supported"),{method:l});const f=i?By(`${d}.${oo(n)}`):void 0;return VH(()=>Gm(async()=>{try{return await t(n)}catch(g){const y=g;switch(y.code){case V0.code:throw new V0(y);case K0.code:throw new K0(y);case G0.code:throw new G0(y,{method:n.method});case Q0.code:throw new Q0(y);case ku.code:throw new ku(y);case Y0.code:throw new Y0(y);case Z0.code:throw new Z0(y);case ml.code:throw new ml(y);case Tf.code:throw new Tf(y);case uu.code:throw new uu(y,{method:n.method});case Pf.code:throw new Pf(y);case J0.code:throw new J0(y);case li.code:throw new li(y);case X0.code:throw new X0(y);case ep.code:throw new ep(y);case tp.code:throw new tp(y);case np.code:throw new np(y);case ya.code:throw new ya(y);case 5e3:throw new li(y);default:throw g instanceof De?g:new fW(y)}}},{delay:({count:g,error:y})=>{var v;if(y&&y instanceof T0){const w=(v=y==null?void 0:y.headers)==null?void 0:v.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w)*1e3}return~~(1<<g)*o},retryCount:a,shouldRetry:({error:g})=>GH(g)}),{enabled:i,id:f})}}function GH(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Pf.code||t.code===ku.code:t instanceof T0&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function hP(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function pP(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function QH(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const VA=QH();function YH(t,e={}){return{async request(n){var h;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:l,signal:f}=a;try{const g=await pP(async({signal:v})=>{const w={...a,body:Array.isArray(r)?oo(r.map(R=>({jsonrpc:"2.0",id:R.id??VA.take(),...R}))):oo({jsonrpc:"2.0",id:r.id??VA.take(),...r}),headers:{"Content-Type":"application/json",...d},method:l||"POST",signal:f||(o>0?v:null)},x=new Request(t,w),k=await(i==null?void 0:i(x,w))??{...w,url:t};return await fetch(k.url??t,k)},{errorInstance:new kA({body:r,url:t}),timeout:o,signal:!0});s&&await s(g);let y;if((h=g.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))y=await g.json();else{y=await g.text();try{y=JSON.parse(y||"{}")}catch(v){if(g.ok)throw v;y={error:y}}}if(!g.ok)throw new T0({body:r,details:oo(y.error)||g.statusText,headers:g.headers,status:g.status,url:t});return y}catch(g){throw g instanceof T0||g instanceof kA?g:new T0({body:r,cause:g,url:t})}}}}class ZH extends De{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function JH(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new ZH({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],d=Math.round(+`${o}.${a}`);d>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${d}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}const _b=new Map,KA=new Map;let XH=0;function Qm(t,e,n){const r=++XH,i=()=>_b.get(t)||[],s=()=>{const f=i();_b.set(t,f.filter(h=>h.id!==r))},o=()=>{const f=i();if(!f.some(g=>g.id===r))return;const h=KA.get(t);f.length===1&&h&&h(),s()},a=i();if(_b.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const d={};for(const f in e)d[f]=(...h)=>{var y,v;const g=i();if(g.length!==0)for(const w of g)(v=(y=w.fns)[f])==null||v.call(y,...h)};const l=n(d);return typeof l=="function"&&KA.set(t,l),o}function gP(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const d=await(n==null?void 0:n(a))??r;await Km(d);const l=async()=>{i&&(await t({unpoll:s}),await Km(r),l())};l()})(),s}function eV(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let d;return a?(()=>{const h=oo(["watchBlockNumber",t.uid,e,n,o]);return Qm(h,{onBlockNumber:r,onError:i},g=>gP(async()=>{var y;try{const v=await lr(t,$H,"getBlockNumber")({cacheTime:0});if(d){if(v===d)return;if(v-d>1&&n)for(let w=d+1n;w<v;w++)g.onBlockNumber(w,d),d=w}(!d||v>d)&&(g.onBlockNumber(v,d),d=v)}catch(v){(y=g.onError)==null||y.call(g,v)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=oo(["watchBlockNumber",t.uid,e,n]);return Qm(h,{onBlockNumber:r,onError:i},g=>{let y=!0,v=()=>y=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(N=>N.config.type==="webSocket");return k?k.value:t.transport}return t.transport})(),{unsubscribe:x}=await w.subscribe({params:["newHeads"],onData(k){var R;if(!y)return;const N=If((R=k.result)==null?void 0:R.number);g.onBlockNumber(N,d),d=N},onError(k){var N;(N=g.onError)==null||N.call(g,k)}});v=x,y||v()}catch(w){i==null||i(w)}})(),()=>v()})})()}async function tV(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function nV(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const l=oo(["watchPendingTransactions",t.uid,e,s]);return Qm(l,{onTransactions:r,onError:n},f=>{let h;const g=gP(async()=>{var y;try{if(!h)try{h=await lr(t,NH,"createPendingTransactionFilter")({});return}catch(w){throw g(),w}const v=await lr(t,zH,"getFilterChanges")({filter:h});if(v.length===0)return;if(e)f.onTransactions(v);else for(const w of v)f.onTransactions([w])}catch(v){(y=f.onError)==null||y.call(f,v)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await lr(t,tV,"uninstallFilter")({filter:h}),g()}})})():(()=>{let l=!0,f=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!l)return;const y=g.result;r([y])},onError(g){n==null||n(g)}});f=h,l||f()}catch(h){n==null||n(h)}})(),()=>f()})()}async function rV(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:d})=>~~(1<<d)*200,timeout:a=18e4}){const d=oo(["waitForTransactionReceipt",t.uid,n]);let l,f,h,g=!1;const{promise:y,resolve:v,reject:w}=oP(),x=a?setTimeout(()=>w(new lW({hash:n})),a):void 0,k=Qm(d,{onReplaced:r,resolve:v,reject:w},N=>{const R=lr(t,eV,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(L){const O=F=>{clearTimeout(x),R(),F(),k()};let D=L;if(!g)try{if(h){if(e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;O(()=>N.resolve(h));return}if(l||(g=!0,await Gm(async()=>{l=await lr(t,fP,"getTransaction")({hash:n}),l.blockNumber&&(D=l.blockNumber)},{delay:o,retryCount:s}),g=!1),h=await lr(t,HA,"getTransactionReceipt")({hash:n}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e))return;O(()=>N.resolve(h))}catch(F){if(F instanceof AT||F instanceof _T){if(!l){g=!1;return}try{f=l,g=!0;const q=await Gm(()=>lr(t,rp,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:P})=>P instanceof ST});g=!1;const $=q.transactions.find(({from:P,nonce:m})=>P===f.from&&m===f.nonce);if(!$||(h=await lr(t,HA,"getTransactionReceipt")({hash:$.hash}),e>1&&(!h.blockNumber||D-h.blockNumber+1n<e)))return;let H="replaced";$.to===f.to&&$.value===f.value&&$.input===f.input?H="repriced":$.from===$.to&&$.value===0n&&(H="cancelled"),O(()=>{var P;(P=N.onReplaced)==null||P.call(N,{reason:H,replacedTransaction:f,transaction:$,transactionReceipt:h}),N.resolve(h)})}catch(q){O(()=>N.reject(q))}}else O(()=>N.reject(F))}}})});return y}async function iV(t,{account:e=t.account,message:n}){if(!e)throw new D5({docsPath:"/docs/actions/wallet/signMessage"});const r=_a(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?By(n):n.raw instanceof Uint8Array?uc(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function sV(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...d}=e;if(typeof r>"u")throw new D5({docsPath:"/docs/contract/writeContract"});const l=r?_a(r):null,f=Yf({abi:n,args:s,functionName:a});try{return await lr(t,UT,"sendTransaction")({data:`${f}${o?o.replace("0x",""):""}`,to:i,account:l,...d})}catch(h){throw Vm(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function rs(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}const om="2.16.7",oV=()=>`@wagmi/core@${om}`;var mP=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ym,yP;let yc=class q3 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return oV()}constructor(e,n={}){var s;super(),Ym.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof q3?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof q3&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return mP(this,Ym,"m",yP).call(this,this,e)}};Ym=new WeakSet,yP=function t(e,n){return n!=null&&n(e)?e:e.cause?mP(this,Ym,"m",t).call(this,e.cause,n):e};class sp extends yc{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class aV extends yc{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class cV extends yc{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class lV extends yc{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class uV extends yc{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class dV extends yc{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function GA(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new aV;try{t.setState(d=>({...d,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await n.connect(s),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(d=>({...d,connections:new Map(d.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}const H3=256;let Tg=H3,Pg;function wP(t=11){if(!Pg||Tg+t>H3*2){Pg="",Tg=0;for(let e=0;e<H3;e++)Pg+=(256+Math.random()*256|0).toString(16).substring(1)}return Pg.substring(Tg,Tg+++t)}function vP(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,d=t.chain,l=t.account?_a(t.account):void 0,{config:f,request:h,value:g}=t.transport({chain:d,pollingInterval:o}),y={...f,...g},v={account:l,batch:e,cacheTime:n,ccipRead:r,chain:d,key:i,name:s,pollingInterval:o,request:h,transport:y,type:a,uid:wP()};function w(x){return k=>{const N=k(x);for(const L in v)delete N[L];const R={...x,...N};return Object.assign(R,{extend:w(R)})}}return Object.assign(v,{extend:w(v)})}function e6({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},d){const l=wP();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:KH(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:d}}function fV(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>e6({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function hV(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=pV,retryCount:o,retryDelay:a}=e;return({chain:d,pollingInterval:l=4e3,timeout:f,...h})=>{let g=t,y=()=>{};const v=e6({key:n,name:r,async request({method:w,params:x}){let k;const N=async(R=0)=>{const L=g[R]({...h,chain:d,retryCount:0,timeout:f});try{const O=await L.request({method:w,params:x});return y({method:w,params:x,response:O,transport:L,status:"success"}),O}catch(O){if(y({error:O,method:w,params:x,transport:L,status:"error"}),s(O)||R===g.length-1||(k??(k=g.slice(R+1).some(D=>{const{include:F,exclude:q}=D({chain:d}).config.methods||{};return F?F.includes(w):q?!q.includes(w):!0})),!k))throw O;return N(R+1)}};return N()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:w=>y=w,transports:g.map(w=>w({chain:d,retryCount:0}))});if(i){const w=typeof i=="object"?i:{};gV({chain:d,interval:w.interval??l,onTransports:x=>g=x,ping:w.ping,sampleCount:w.sampleCount,timeout:w.timeout,transports:g,weights:w.weights})}return v}}function pV(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Tf.code||t.code===li.code||lu.nodeMessage.test(t.message)||t.code===5e3))}function gV({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:d=.7,latency:l=.3}=a,f=[],h=async()=>{const g=await Promise.all(o.map(async w=>{const x=w({chain:t,retryCount:0,timeout:s}),k=Date.now();let N,R;try{await(r?r({transport:x}):x.request({method:"net_listening"})),R=1}catch{R=0}finally{N=Date.now()}return{latency:N-k,success:R}}));f.push(g),f.length>i&&f.shift();const y=Math.max(...f.map(w=>Math.max(...w.map(({latency:x})=>x)))),v=o.map((w,x)=>{const k=f.map(D=>D[x].latency),R=1-k.reduce((D,F)=>D+F,0)/k.length/y,L=f.map(D=>D[x].success),O=L.reduce((D,F)=>D+F,0)/L.length;return O===0?[0,x]:[l*R+d*O,x]}).sort((w,x)=>x[0]-w[0]);n(v.map(([,w])=>o[w])),await Km(e),h()};h()}class mV extends De{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function xb(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:d,retryDelay:l,raw:f}=e;return({chain:h,retryCount:g,timeout:y})=>{const{batchSize:v=1e3,wait:w=0}=typeof n=="object"?n:{},x=e.retryCount??g,k=y??e.timeout??1e4,N=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!N)throw new mV;const R=YH(N,{fetchOptions:r,onRequest:a,onResponse:d,timeout:k});return e6({key:i,methods:s,name:o,async request({method:L,params:O}){const D={method:L,params:O},{schedule:F}=aP({id:N,wait:w,shouldSplitBatch(P){return P.length>v},fn:P=>R.request({body:P}),sort:(P,m)=>P.id-m.id}),q=async P=>n?F(P):[await R.request({body:P})],[{error:$,result:H}]=await q(D);if(f)return{error:$,result:H};if($)throw new B5({body:D,error:$,url:N});return H},retryCount:x,retryDelay:l,timeout:k,type:"http"},{fetchOptions:r,url:N})}}async function Gy(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new dV({connector:l});const[f,h]=await Promise.all([l.getAccounts().catch(g=>{if(e.account===null)return[];throw g}),l.getChainId()]);n={accounts:f,chainId:h,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new cV;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new uV({connectionChainId:n.chainId,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=_a(e.account??n.accounts[0]);if(o&&(o.address=cl(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new lV({address:o.address,connector:s});const a=t.chains.find(l=>l.id===r),d=await n.connector.getProvider({chainId:r});return vP({account:o,chain:a,name:"Connector Client",transport:l=>fV(d)({...l,retryCount:0})})}async function bP(t,e={}){var i,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,d=o.get(a);n=d==null?void 0:d.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function yV(t,e){const{chainId:n,connector:r,...i}=e;let s;e.account?s=e.account:s=(await Gy(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return rs(o,RT,"estimateGas")({...i,account:s})}function CP(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(sW[t])}function op(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],s=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function wV(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...s}=e,o=t.getClient({chainId:r});return rs(o,HH,"multicall")({allowFailure:n,contracts:i,...s})}function vV(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return rs(i,Ou,"readContract")(r)}async function bV(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:i,...s}=e,o=e.contracts;try{const d={};for(const[g,y]of o.entries()){const v=y.chainId??t.state.chainId;d[v]||(d[v]=[]),(a=d[v])==null||a.push({contract:y,index:g})}const l=()=>Object.entries(d).map(([g,y])=>wV(t,{...s,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(g),contracts:y.map(({contract:v})=>v)})),f=(await Promise.all(l())).flat(),h=Object.values(d).flatMap(g=>g.map(({index:y})=>y));return f.reduce((g,y,v)=>(g&&(g[h[v]]=y),g),[])}catch(d){if(d instanceof iP)throw d;const l=()=>o.map(f=>vV(t,{...f,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(f=>f.status==="fulfilled"?{result:f.value,status:"success"}:{error:f.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function CV(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await QA(t,{balanceAddress:n,chainId:s,symbolType:"string",tokenAddress:o})}catch(g){if(g.name==="ContractFunctionExecutionError"){const y=await QA(t,{balanceAddress:n,chainId:s,symbolType:"bytes32",tokenAddress:o}),v=eT(Vf(y.symbol,{dir:"right"}));return{...y,symbol:v}}throw g}const d=t.getClient({chainId:s}),f=await rs(d,kT,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),h=t.chains.find(g=>g.id===s)??d.chain;return{decimals:h.nativeCurrency.decimals,formatted:Kf(f,CP(a)),symbol:h.nativeCurrency.symbol,value:f}}async function QA(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[d,l,f]=await bV(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),h=Kf(d??"0",CP(o??l));return{decimals:l,formatted:h,symbol:f,value:d}}function Nf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nf(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!Nf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let Ng=[];function Qa(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Nf(Ng,e)?Ng:(Ng=e,e)}function EV(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return rs(i,hH,"getEnsAddress")(r)}function AV(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return rs(i,IH,"getEnsAvatar")(r)}function _V(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return rs(i,TH,"getEnsName")(r)}async function xV(t,e){const{account:n,chainId:r,...i}=e,s=n??op(t).address,o=t.getClient({chainId:r});return rs(o,H5,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let Sb=!1;async function EP(t,e={}){var l,f;if(Sb)return[];Sb=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const h of e.connectors){let g;typeof h=="function"?g=t._internal.connectors.setup(h):g=h,n.push(g)}else n.push(...t.connectors);let r;try{r=await((f=t.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((h,g)=>(i[h.id]??10)-(i[g.id]??10)):n;let o=!1;const a=[],d=[];for(const h of s){const g=await h.getProvider().catch(()=>{});if(!g||d.some(w=>w===g)||!await h.isAuthorized())continue;const v=await h.connect({isReconnecting:!0}).catch(()=>null);v&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(w=>{const x=new Map(o?w.connections:new Map).set(h.uid,{accounts:v.accounts,chainId:v.chainId,connector:h});return{...w,current:o?w.current:h.uid,connections:x}}),a.push({accounts:v.accounts,chainId:v.chainId,connector:h}),d.push(g),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),Sb=!1,a}async function SV(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Gy(t,{account:n??void 0,chainId:r,connector:i}),await rs(o,UT,"sendTransaction")({...s,...n?{account:n}:{},chain:r?{id:r}:null,gas:s.gas??void 0})}async function IV(t,e){const{account:n,connector:r,...i}=e;let s;return typeof n=="object"&&n.type==="local"?s=t.getClient():s=await Gy(t,{account:n,connector:r}),rs(s,iV,"signMessage")({...i,...n?{account:n}:{}})}class Gc extends yc{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class TV extends yc{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function PV(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new TV({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const s=t.chains.find(a=>a.id===r);if(!s)throw new sp;return t.setState(a=>({...a,chainId:r})),s}function AP(t,e){const{onChange:n}=e;return t.subscribe(()=>op(t),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...d}=i;return Nf(o,d)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function NV(t,e){const{onChange:n}=e;return t.subscribe(()=>Qa(t),n,{equalityFn:Nf})}function kV(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function RV(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let i;const s=d=>{i&&i();const l=t.getClient({chainId:d});return i=rs(l,nV,"watchPendingTransactions")(r),i},o=s(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:d})=>d,async d=>s(d))),()=>{o==null||o(),a==null||a()}}async function OV(t,e){const{chainId:n,timeout:r=0,...i}=e,s=t.getClient({chainId:n}),a=await rs(s,rV,"waitForTransactionReceipt")({...i,timeout:r});if(a.status==="reverted"){const l=await rs(s,fP,"getTransaction")({hash:a.transactionHash}),h=await rs(s,cP,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),g=h!=null&&h.data?eT(`0x${h.data.substring(138)}`):"unknown reason";throw new Error(g)}return{...a,chainId:s.chain.id}}async function MV(t,e){const{account:n,chainId:r,connector:i,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Gy(t,{account:n??void 0,chainId:r,connector:i}),await rs(o,sV,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function mpe(t){return t}Qy.type="injected";function Qy(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const d=t.target;if(typeof d=="function"){const l=d();if(l)return l}return typeof d=="object"?d:typeof d=="string"?{...DV[d]??{id:d,name:`${d[0].toUpperCase()}${d.slice(1)}`,provider:`is${d[0].toUpperCase()}${d.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return d=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Qy.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:f}={}){var y,v,w,x,k,N;const h=await this.getProvider();if(!h)throw new Gc;let g=[];if(f)g=await this.getAccounts().catch(()=>[]);else if(e)try{g=(x=(w=(v=(y=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:y.caveats)==null?void 0:v[0])==null?void 0:w.value)==null?void 0:x.map(L=>cl(L)),g.length>0&&(g=await this.getAccounts())}catch(R){const L=R;if(L.code===li.code)throw new li(L);if(L.code===ml.code)throw L}try{!(g!=null&&g.length)&&!f&&(g=(await h.request({method:"eth_requestAccounts"})).map(O=>cl(O))),o&&(h.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a));let R=await this.getChainId();if(l&&R!==l){const L=await this.switchChain({chainId:l}).catch(O=>{if(O.code===li.code)throw O;return{id:R}});R=(L==null?void 0:L.id)??R}return e&&await((k=d.storage)==null?void 0:k.removeItem(`${this.id}.disconnected`)),t.target||await((N=d.storage)==null?void 0:N.setItem("injected.connected",!0)),{accounts:g,chainId:R}}catch(R){const L=R;throw L.code===li.code?new li(L):L.code===ml.code?new ml(L):L}},async disconnect(){var f,h;const l=await this.getProvider();if(!l)throw new Gc;s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await pP(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((f=d.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=d.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Gc;return(await l.request({method:"eth_accounts"})).map(h=>cl(h))},async getChainId(){const l=await this.getProvider();if(!l)throw new Gc;const f=await l.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let l;const f=r();return typeof f.provider=="function"?l=f.provider(window):typeof f.provider=="string"?l=am(window,f.provider):l=f.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,f;try{if(e&&await((l=d.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((f=d.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const v=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",v),!!await this.getProvider()),w=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(k=>window.addEventListener("ethereum#initialized",()=>k(v()),{once:!0}))]:[],new Promise(k=>setTimeout(()=>k(v()),w))]))return!0}throw new Gc}return!!(await Gm(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:f}){var v,w,x,k;const h=await this.getProvider();if(!h)throw new Gc;const g=d.chains.find(N=>N.id===f);if(!g)throw new ya(new sp);const y=new Promise(N=>{const R=L=>{"chainId"in L&&L.chainId===f&&(d.emitter.off("change",R),N())};d.emitter.on("change",R)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:yn(f)}]}).then(async()=>{await this.getChainId()===f&&d.emitter.emit("change",{chainId:f})}),y]),g}catch(N){const R=N;if(R.code===4902||((w=(v=R==null?void 0:R.data)==null?void 0:v.originalError)==null?void 0:w.code)===4902)try{const{default:L,...O}=g.blockExplorers??{};let D;l!=null&&l.blockExplorerUrls?D=l.blockExplorerUrls:L&&(D=[L.url,...Object.values(O).map($=>$.url)]);let F;(x=l==null?void 0:l.rpcUrls)!=null&&x.length?F=l.rpcUrls:F=[((k=g.rpcUrls.default)==null?void 0:k.http[0])??""];const q={blockExplorerUrls:D,chainId:yn(f),chainName:(l==null?void 0:l.chainName)??g.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??g.nativeCurrency,rpcUrls:F};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[q]}).then(async()=>{if(await this.getChainId()===f)d.emitter.emit("change",{chainId:f});else throw new li(new Error("User rejected switch after adding network."))}),y]),g}catch(L){throw new li(L)}throw R.code===li.code?new li(R):new ya(R)}},async onAccountsChanged(l){var f;if(l.length===0)this.onDisconnect();else if(d.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((f=d.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else d.emitter.emit("change",{accounts:l.map(h=>cl(h))})},onChainChanged(l){const f=Number(l);d.emitter.emit("change",{chainId:f})},async onConnect(l){const f=await this.getAccounts();if(f.length===0)return;const h=Number(l.chainId);d.emitter.emit("connect",{accounts:f,chainId:h});const g=await this.getProvider();g&&(o&&(g.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),g.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),g.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),g.on("disconnect",a)))},async onDisconnect(l){const f=await this.getProvider();l&&l.code===1013&&f&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),f&&(s&&(f.removeListener("chainChanged",s),s=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const DV={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:am(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return am(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:am(t,"isPhantom")}}};function am(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function $V(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function LV(){const t=new Set;let e=[];const n=()=>$V(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const UV=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,d)=>{let l=o;if(a){const f=(d==null?void 0:d.equalityFn)||Object.is;let h=o(r.getState());l=g=>{const y=o(g);if(!f(h,y)){const v=h;a(h=y,v)}},d!=null&&d.fireImmediately&&a(h,h)}return i(l)},t(e,n,r)},BV=UV;function FV(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=d=>d===null?null:JSON.parse(d,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const V3=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return V3(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return V3(r)(n)}}}},jV=(t,e)=>(n,r,i)=>{let s={storage:FV(()=>localStorage),partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},o=!1;const a=new Set,d=new Set;let l=s.storage;if(!l)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const f=()=>{const w=s.partialize({...r()});return l.setItem(s.name,{state:w,version:s.version})},h=i.setState;i.setState=(w,x)=>{h(w,x),f()};const g=t((...w)=>{n(...w),f()},r,i);i.getInitialState=()=>g;let y;const v=()=>{var w,x;if(!l)return;o=!1,a.forEach(N=>{var R;return N((R=r())!=null?R:g)});const k=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(w=r())!=null?w:g))||void 0;return V3(l.getItem.bind(l))(s.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==s.version){if(s.migrate)return[!0,s.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var R;const[L,O]=N;if(y=s.merge(O,(R=r())!=null?R:g),n(y,!0),L)return f()}).then(()=>{k==null||k(y,void 0),y=r(),o=!0,d.forEach(N=>N(y))}).catch(N=>{k==null||k(void 0,N)})};return i.persist={setOptions:w=>{s={...s,...w},w.storage&&(l=w.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(d.add(w),()=>{d.delete(w)})},s.skipHydration||v(),y||g},zV=jV,YA=t=>{let e;const n=new Set,r=(l,f)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const g=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(y=>y(e,g))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>d,subscribe:l=>(n.add(l),()=>n.delete(l))},d=e=t(r,i,a);return a},Ib=t=>t?YA(t):YA;var Tb={exports:{}},ZA;function WV(){return ZA||(ZA=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,l,f){this.fn=d,this.context=l,this.once=f||!1}function s(d,l,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,h||d,g),v=n?n+l:l;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],y]:d._events[v].push(y):(d._events[v]=y,d._eventsCount++),d}function o(d,l){--d._eventsCount===0?d._events=new r:delete d._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],f,h;if(this._eventsCount===0)return l;for(h in f=this._events)e.call(f,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},a.prototype.listeners=function(l){var f=n?n+l:l,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,y=h.length,v=new Array(y);g<y;g++)v[g]=h[g].fn;return v},a.prototype.listenerCount=function(l){var f=n?n+l:l,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,f,h,g,y,v){var w=n?n+l:l;if(!this._events[w])return!1;var x=this._events[w],k=arguments.length,N,R;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,g),!0;case 5:return x.fn.call(x.context,f,h,g,y),!0;case 6:return x.fn.call(x.context,f,h,g,y,v),!0}for(R=1,N=new Array(k-1);R<k;R++)N[R-1]=arguments[R];x.fn.apply(x.context,N)}else{var L=x.length,O;for(R=0;R<L;R++)switch(x[R].once&&this.removeListener(l,x[R].fn,void 0,!0),k){case 1:x[R].fn.call(x[R].context);break;case 2:x[R].fn.call(x[R].context,f);break;case 3:x[R].fn.call(x[R].context,f,h);break;case 4:x[R].fn.call(x[R].context,f,h,g);break;default:if(!N)for(O=1,N=new Array(k-1);O<k;O++)N[O-1]=arguments[O];x[R].fn.apply(x[R].context,N)}}return!0},a.prototype.on=function(l,f,h){return s(this,l,f,h,!1)},a.prototype.once=function(l,f,h){return s(this,l,f,h,!0)},a.prototype.removeListener=function(l,f,h,g){var y=n?n+l:l;if(!this._events[y])return this;if(!f)return o(this,y),this;var v=this._events[y];if(v.fn)v.fn===f&&(!g||v.once)&&(!h||v.context===h)&&o(this,y);else{for(var w=0,x=[],k=v.length;w<k;w++)(v[w].fn!==f||g&&!v[w].once||h&&v[w].context!==h)&&x.push(v[w]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},a.prototype.removeAllListeners=function(l){var f;return l?(f=n?n+l:l,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Tb)),Tb.exports}var qV=WV();const HV=Uo(qV);class VV{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new HV})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function KV(t){return new VV(t)}function GV(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function JA(t,e){return t.slice(0,e).join(".")||"."}function XA(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function QV(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],s=[];return function(a,d){if(typeof d=="object")if(i.length){const l=XA(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const f=XA(i,d);if(f!==0)return r?e.call(this,a,d,JA(s,f)):`[ref=${JA(s,f)}]`}else i[0]=d,s[0]=a;return n?t.call(this,a,d):d}}function YV(t,e,n,r){return JSON.stringify(t,QV((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),n??void 0)}function ZV(t){const{deserialize:e=GV,key:n="wagmi",serialize:r=YV,storage:i=_P}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const d=i.getItem(`${n}.${o}`),l=await s(d);return l?e(l)??null:a??null},async setItem(o,a){const d=`${n}.${o}`;a===null?await s(i.removeItem(d)):await s(i.setItem(d,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const _P={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function JV(){const t=typeof window<"u"&&window.localStorage?window.localStorage:_P;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const K3=256;let kg=K3,Rg;function XV(t=11){if(!Rg||kg+t>K3*2){Rg="",kg=0;for(let e=0;e<K3;e++)Rg+=(256+Math.random()*256|0).toString(16).substring(1)}return Rg.substring(kg,kg+++t)}function eK(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=ZV({storage:JV()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?LV():void 0,a=Ib(()=>s.chains),d=Ib(()=>{const O=[],D=new Set;for(const F of s.connectors??[]){const q=l(F);if(O.push(q),!i&&q.rdns){const $=typeof q.rdns=="string"?[q.rdns]:q.rdns;for(const H of $)D.add(H)}}if(!i&&o){const F=o.getProviders();for(const q of F)D.has(q.info.rdns)||O.push(l(f(q)))}return O});function l(O){var q;const D=KV(XV()),F={...O({emitter:D,chains:a.getState(),storage:n,transports:s.transports}),emitter:D,uid:D.uid};return D.on("connect",R),(q=F.setup)==null||q.call(F),F}function f(O){const{info:D}=O,F=O.provider;return Qy({target:{...D,id:D.rdns,provider:F}})}const h=new Map;function g(O={}){const D=O.chainId??x.getState().chainId,F=a.getState().find($=>$.id===D);if(O.chainId&&!F)throw new sp;{const $=h.get(x.getState().chainId);if($&&!F)return $;if(!F)throw new sp}{const $=h.get(D);if($)return $}let q;if(s.client)q=s.client({chain:F});else{const $=F.id,H=a.getState().map(C=>C.id),P={},m=Object.entries(s);for(const[C,S]of m)if(!(C==="chains"||C==="client"||C==="connectors"||C==="transports"))if(typeof S=="object")if($ in S)P[C]=S[$];else{if(H.some(I=>I in S))continue;P[C]=S}else P[C]=S;q=vP({...P,chain:F,batch:P.batch??{multicall:!0},transport:C=>s.transports[$]({...C,connectors:d})})}return h.set(D,q),q}function y(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let v;const w="0.0.0-canary-";om.startsWith(w)?v=Number.parseInt(om.replace(w,"")):v=Number.parseInt(om.split(".")[0]??"0");const x=Ib(BV(n?zV(y,{migrate(O,D){if(D===v)return O;const F=y(),q=k(O,F.chainId);return{...F,chainId:q}},name:"store",partialize(O){return{connections:{__type:"Map",value:Array.from(O.connections.entries()).map(([D,F])=>{const{id:q,name:$,type:H,uid:P}=F.connector;return[D,{...F,connector:{id:q,name:$,type:H,uid:P}}]})},chainId:O.chainId,current:O.current}},merge(O,D){typeof O=="object"&&O&&"status"in O&&delete O.status;const F=k(O,D.chainId);return{...D,...O,chainId:F}},skipHydration:i,storage:n,version:v}):y));x.setState(y());function k(O,D){return O&&typeof O=="object"&&"chainId"in O&&typeof O.chainId=="number"&&a.getState().some(F=>F.id===O.chainId)?O.chainId:D}r&&x.subscribe(({connections:O,current:D})=>{var F;return D?(F=O.get(D))==null?void 0:F.chainId:void 0},O=>{if(a.getState().some(F=>F.id===O))return x.setState(F=>({...F,chainId:O??F.chainId}))}),o==null||o.subscribe(O=>{const D=new Set,F=new Set;for(const $ of d.getState())if(D.add($.id),$.rdns){const H=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const P of H)F.add(P)}const q=[];for(const $ of O){if(F.has($.info.rdns))continue;const H=l(f($));D.has(H.id)||q.push(H)}n&&!x.persist.hasHydrated()||d.setState($=>[...$,...q],!0)});function N(O){x.setState(D=>{const F=D.connections.get(O.uid);return F?{...D,connections:new Map(D.connections).set(O.uid,{accounts:O.accounts??F.accounts,chainId:O.chainId??F.chainId,connector:F.connector})}:D})}function R(O){x.getState().status==="connecting"||x.getState().status==="reconnecting"||x.setState(D=>{const F=d.getState().find(q=>q.uid===O.uid);return F?(F.emitter.listenerCount("connect")&&F.emitter.off("connect",N),F.emitter.listenerCount("change")||F.emitter.on("change",N),F.emitter.listenerCount("disconnect")||F.emitter.on("disconnect",L),{...D,connections:new Map(D.connections).set(O.uid,{accounts:O.accounts,chainId:O.chainId,connector:F}),current:O.uid,status:"connected"}):D})}function L(O){x.setState(D=>{const F=D.connections.get(O.uid);if(F){const $=F.connector;$.emitter.listenerCount("change")&&F.connector.emitter.off("change",N),$.emitter.listenerCount("disconnect")&&F.connector.emitter.off("disconnect",L),$.emitter.listenerCount("connect")||F.connector.emitter.on("connect",R)}if(D.connections.delete(O.uid),D.connections.size===0)return{...D,connections:new Map,current:null,status:"disconnected"};const q=D.connections.values().next().value;return{...D,connections:new Map(D.connections),current:q.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return d.getState()},storage:n,getClient:g,get state(){return x.getState()},setState(O){let D;typeof O=="function"?D=O(x.getState()):D=O;const F=y();typeof D!="object"&&(D=F),Object.keys(F).some($=>!($ in D))&&(D=F),x.setState(D,!0)},subscribe(O,D,F){return x.subscribe(O,D,F?{...F,fireImmediately:F.emitImmediately}:void 0)},_internal:{mipd:o,store:x,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(O){const D=typeof O=="function"?O(a.getState()):O;if(D.length!==0)return a.setState(D,!0)},subscribe(O){return a.subscribe(O)}},connectors:{providerDetailToConnector:f,setup:l,setState(O){return d.setState(typeof O=="function"?O(d.getState()):O,!0)},subscribe(O){return d.subscribe(O)}},events:{change:N,connect:R,disconnect:L}}}}function tK(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var d;const s=new Set;for(const l of i??[])if(l.rdns){const f=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const h of f)s.add(h)}const o=[],a=((d=t._internal.mipd)==null?void 0:d.getProviders())??[];for(const l of a){if(s.has(l.info.rdns))continue;const f=t._internal.connectors.providerDetailToConnector(l),h=t._internal.connectors.setup(f);o.push(h)}return[...i,...o]})),r?EP(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function nK(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:s}=tK(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||s();const o=Qn.useRef(!0);return Qn.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const xP=Qn.createContext(void 0);function rK(t){const{children:e,config:n}=t,r={value:n};return Qn.createElement(nK,t,Qn.createElement(xP.Provider,r,e))}const iK="2.14.15",sK=()=>`wagmi@${iK}`;let oK=class extends yc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return sK()}};class aK extends oK{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function t6(t={}){const e=t.config??Qn.useContext(xP);if(!e)throw new aK;return e}var Pb={exports:{}},Nb={},kb={exports:{}},Rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e9;function cK(){if(e9)return Rb;e9=1;var t=Up();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,g){var y=g(),v=r({inst:{value:y,getSnapshot:g}}),w=v[0].inst,x=v[1];return s(function(){w.value=y,w.getSnapshot=g,d(w)&&x({inst:w})},[h,y,g]),i(function(){return d(w)&&x({inst:w}),h(function(){d(w)&&x({inst:w})})},[h]),o(y),y}function d(h){var g=h.getSnapshot;h=h.value;try{var y=g();return!n(h,y)}catch{return!0}}function l(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Rb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Rb}var t9;function lK(){return t9||(t9=1,kb.exports=cK()),kb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n9;function uK(){if(n9)return Nb;n9=1;var t=Up(),e=lK();function n(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,d=t.useDebugValue;return Nb.useSyncExternalStoreWithSelector=function(l,f,h,g,y){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=a(function(){function k(D){if(!N){if(N=!0,R=D,D=g(D),y!==void 0&&w.hasValue){var F=w.value;if(y(F,D))return L=F}return L=D}if(F=L,r(R,D))return F;var q=g(D);return y!==void 0&&y(F,q)?(R=D,F):(R=D,L=q)}var N=!1,R,L,O=h===void 0?null:h;return[function(){return k(f())},O===null?void 0:function(){return k(O())}]},[f,h,g,y]);var x=i(l,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=x},[x]),d(x),x},Nb}var r9;function dK(){return r9||(r9=1,Pb.exports=uK()),Pb.exports}var fK=dK();const Ob=t=>typeof t=="object"&&!Array.isArray(t);function hK(t,e,n=e,r=Nf){const i=Qn.useRef([]),s=fK.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Ob(o)&&Ob(a)&&i.current.length){for(const d of i.current)if(!r(o[d],a[d]))return!1;return!0}return r(o,a)});return Qn.useMemo(()=>{if(Ob(s)){const o={...s};let a={};for(const[d,l]of Object.entries(o))a={...a,[d]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(d)||i.current.push(d),l)}};return Object.defineProperties(o,a),o}return s},[s])}function pK(t={}){const e=t6(t);return hK(n=>AP(e,{onChange:n}),()=>op(e))}var Jp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yy=typeof window>"u"||"Deno"in globalThis;function xo(){}function gK(t,e){return typeof t=="function"?t(e):t}function mK(t){return typeof t=="number"&&t>=0&&t!==1/0}function yK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function i9(t,e){return typeof t=="function"?t(e):t}function wK(t,e){return typeof t=="function"?t(e):t}function s9(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==n6(o,e.options))return!1}else if(!ap(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function o9(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Mu(e.options.mutationKey)!==Mu(s))return!1}else if(!ap(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function n6(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mu)(t)}function Mu(t){return JSON.stringify(t,(e,n)=>G3(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ap(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ap(t[n],e[n])):!1}function SP(t,e){if(t===e)return t;const n=a9(t)&&a9(e);if(n||G3(t)&&G3(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let d=0;for(let l=0;l<o;l++){const f=n?l:s[l];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=SP(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return i===o&&d===i?t:a}return e}function vK(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function a9(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function G3(t){if(!c9(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!c9(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function c9(t){return Object.prototype.toString.call(t)==="[object Object]"}function bK(t){return new Promise(e=>{setTimeout(e,t)})}function CK(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?SP(t,e):e}function EK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function AK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var r6=Symbol();function IP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===r6?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gu,el,pf,dS,_K=(dS=class extends Jp{constructor(){super();En(this,gu);En(this,el);En(this,pf);Ht(this,pf,e=>{if(!Yy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ve(this,el)||this.setEventListener(ve(this,pf))}onUnsubscribe(){var e;this.hasListeners()||((e=ve(this,el))==null||e.call(this),Ht(this,el,void 0))}setEventListener(e){var n;Ht(this,pf,e),(n=ve(this,el))==null||n.call(this),Ht(this,el,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ve(this,gu)!==e&&(Ht(this,gu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ve(this,gu)=="boolean"?ve(this,gu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gu=new WeakMap,el=new WeakMap,pf=new WeakMap,dS),TP=new _K,gf,tl,mf,fS,xK=(fS=class extends Jp{constructor(){super();En(this,gf,!0);En(this,tl);En(this,mf);Ht(this,mf,e=>{if(!Yy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ve(this,tl)||this.setEventListener(ve(this,mf))}onUnsubscribe(){var e;this.hasListeners()||((e=ve(this,tl))==null||e.call(this),Ht(this,tl,void 0))}setEventListener(e){var n;Ht(this,mf,e),(n=ve(this,tl))==null||n.call(this),Ht(this,tl,e(this.setOnline.bind(this)))}setOnline(e){ve(this,gf)!==e&&(Ht(this,gf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ve(this,gf)}},gf=new WeakMap,tl=new WeakMap,mf=new WeakMap,fS),Zm=new xK;function SK(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function IK(t){return Math.min(1e3*2**t,3e4)}function PP(t){return(t??"online")==="online"?Zm.isOnline():!0}var NP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mb(t){return t instanceof NP}function kP(t){let e=!1,n=0,r=!1,i;const s=SK(),o=w=>{var x;r||(g(new NP(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},d=()=>{e=!1},l=()=>TP.isFocused()&&(t.networkMode==="always"||Zm.isOnline())&&t.canRun(),f=()=>PP(t.networkMode)&&t.canRun(),h=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),i==null||i(),s.resolve(w))},g=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),i==null||i(),s.reject(w))},y=()=>new Promise(w=>{var x;i=k=>{(r||l())&&w(k)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(h).catch(k=>{var D;if(r)return;const N=t.retry??(Yy?0:3),R=t.retryDelay??IK,L=typeof R=="function"?R(n,k):R,O=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,k);if(e||!O){g(k);return}n++,(D=t.onFail)==null||D.call(t,n,k),bK(L).then(()=>l()?void 0:y()).then(()=>{e?g(k):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:d,canStart:f,start:()=>(f()?v():y().then(v),s)}}function TK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(d=>{n(d)})})})};return{batch:a=>{let d;e++;try{d=a()}finally{e--,e||o()}return d},batchCalls:a=>(...d)=>{s(()=>{a(...d)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ki=TK(),mu,hS,RP=(hS=class{constructor(){En(this,mu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mK(this.gcTime)&&Ht(this,mu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yy?1/0:5*60*1e3))}clearGcTimeout(){ve(this,mu)&&(clearTimeout(ve(this,mu)),Ht(this,mu,void 0))}},mu=new WeakMap,hS),yf,wf,no,yu,Hi,$p,wu,So,Ha,pS,PK=(pS=class extends RP{constructor(e){super();En(this,So);En(this,yf);En(this,wf);En(this,no);En(this,yu);En(this,Hi);En(this,$p);En(this,wu);Ht(this,wu,!1),Ht(this,$p,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ht(this,yu,e.client),Ht(this,no,ve(this,yu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ht(this,yf,kK(this.options)),this.state=e.state??ve(this,yf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ve(this,Hi))==null?void 0:e.promise}setOptions(e){this.options={...ve(this,$p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,no).remove(this)}setData(e,n){const r=CK(this.state.data,e,this.options);return Vr(this,So,Ha).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Vr(this,So,Ha).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ve(this,Hi))==null?void 0:r.promise;return(i=ve(this,Hi))==null||i.cancel(e),n?n.then(xo).catch(xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,yf))}isActive(){return this.observers.some(e=>wK(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!yK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ve(this,Hi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ve(this,Hi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ve(this,no).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ve(this,Hi)&&(ve(this,wu)?ve(this,Hi).cancel({revert:!0}):ve(this,Hi).cancelRetry()),this.scheduleGc()),ve(this,no).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vr(this,So,Ha).call(this,{type:"invalidate"})}fetch(e,n){var d,l,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ve(this,Hi))return ve(this,Hi).continueRetry(),ve(this,Hi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ht(this,wu,!0),r.signal)})},s=()=>{const h=IP(this.options,n),g={client:ve(this,yu),queryKey:this.queryKey,meta:this.meta};return i(g),Ht(this,wu,!1),this.options.persister?this.options.persister(h,g,this):h(g)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ve(this,yu),state:this.state,fetchFn:s};i(o),(d=this.options.behavior)==null||d.onFetch(o,this),Ht(this,wf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&Vr(this,So,Ha).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=h=>{var g,y,v,w;Mb(h)&&h.silent||Vr(this,So,Ha).call(this,{type:"error",error:h}),Mb(h)||((y=(g=ve(this,no).config).onError)==null||y.call(g,h,this),(w=(v=ve(this,no).config).onSettled)==null||w.call(v,this.state.data,h,this)),this.scheduleGc()};return Ht(this,Hi,kP({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,y,v,w;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(y=(g=ve(this,no).config).onSuccess)==null||y.call(g,h,this),(w=(v=ve(this,no).config).onSettled)==null||w.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,g)=>{Vr(this,So,Ha).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{Vr(this,So,Ha).call(this,{type:"pause"})},onContinue:()=>{Vr(this,So,Ha).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ve(this,Hi).start()}},yf=new WeakMap,wf=new WeakMap,no=new WeakMap,yu=new WeakMap,Hi=new WeakMap,$p=new WeakMap,wu=new WeakMap,So=new WeakSet,Ha=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Mb(i)&&i.revert&&ve(this,wf)?{...ve(this,wf),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ki.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ve(this,no).notify({query:this,type:"updated",action:e})})},pS);function NK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var na,gS,RK=(gS=class extends Jp{constructor(e={}){super();En(this,na);this.config=e,Ht(this,na,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??n6(i,n);let o=this.get(s);return o||(o=new PK({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ve(this,na).has(e.queryHash)||(ve(this,na).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ve(this,na).get(e.queryHash);n&&(e.destroy(),n===e&&ve(this,na).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ki.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ve(this,na).get(e)}getAll(){return[...ve(this,na).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>s9(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>s9(e,r)):n}notify(e){ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ki.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ki.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},na=new WeakMap,gS),ra,ns,vu,ia,Vc,mS,OK=(mS=class extends RP{constructor(e){super();En(this,ia);En(this,ra);En(this,ns);En(this,vu);this.mutationId=e.mutationId,Ht(this,ns,e.mutationCache),Ht(this,ra,[]),this.state=e.state||OP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ve(this,ra).includes(e)||(ve(this,ra).push(e),this.clearGcTimeout(),ve(this,ns).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ht(this,ra,ve(this,ra).filter(n=>n!==e)),this.scheduleGc(),ve(this,ns).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ve(this,ra).length||(this.state.status==="pending"?this.scheduleGc():ve(this,ns).remove(this))}continue(){var e;return((e=ve(this,vu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,d,l,f,h,g,y,v,w,x,k,N,R,L,O,D,F;Ht(this,vu,kP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(q,$)=>{Vr(this,ia,Vc).call(this,{type:"failed",failureCount:q,error:$})},onPause:()=>{Vr(this,ia,Vc).call(this,{type:"pause"})},onContinue:()=>{Vr(this,ia,Vc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,ns).canRun(this)}));const n=this.state.status==="pending",r=!ve(this,vu).canStart();try{if(!n){Vr(this,ia,Vc).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ve(this,ns).config).onMutate)==null?void 0:s.call(i,e,this));const $=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));$!==this.state.context&&Vr(this,ia,Vc).call(this,{type:"pending",context:$,variables:e,isPaused:r})}const q=await ve(this,vu).start();return await((l=(d=ve(this,ns).config).onSuccess)==null?void 0:l.call(d,q,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,q,e,this.state.context)),await((y=(g=ve(this,ns).config).onSettled)==null?void 0:y.call(g,q,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,q,null,e,this.state.context)),Vr(this,ia,Vc).call(this,{type:"success",data:q}),q}catch(q){try{throw await((k=(x=ve(this,ns).config).onError)==null?void 0:k.call(x,q,e,this.state.context,this)),await((R=(N=this.options).onError)==null?void 0:R.call(N,q,e,this.state.context)),await((O=(L=ve(this,ns).config).onSettled)==null?void 0:O.call(L,void 0,q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,q,e,this.state.context)),q}finally{Vr(this,ia,Vc).call(this,{type:"error",error:q})}}finally{ve(this,ns).runNext(this)}}},ra=new WeakMap,ns=new WeakMap,vu=new WeakMap,ia=new WeakSet,Vc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ki.batch(()=>{ve(this,ra).forEach(r=>{r.onMutationUpdate(e)}),ve(this,ns).notify({mutation:this,type:"updated",action:e})})},mS);function OP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ya,Io,Lp,yS,MK=(yS=class extends Jp{constructor(e={}){super();En(this,Ya);En(this,Io);En(this,Lp);this.config=e,Ht(this,Ya,new Set),Ht(this,Io,new Map),Ht(this,Lp,0)}build(e,n,r){const i=new OK({mutationCache:this,mutationId:++gg(this,Lp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ve(this,Ya).add(e);const n=Og(e);if(typeof n=="string"){const r=ve(this,Io).get(n);r?r.push(e):ve(this,Io).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ve(this,Ya).delete(e)){const n=Og(e);if(typeof n=="string"){const r=ve(this,Io).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ve(this,Io).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Og(e);if(typeof n=="string"){const r=ve(this,Io).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Og(e);if(typeof n=="string"){const i=(r=ve(this,Io).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ki.batch(()=>{ve(this,Ya).forEach(e=>{this.notify({type:"removed",mutation:e})}),ve(this,Ya).clear(),ve(this,Io).clear()})}getAll(){return Array.from(ve(this,Ya))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>o9(n,r))}findAll(e={}){return this.getAll().filter(n=>o9(e,n))}notify(e){ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ki.batch(()=>Promise.all(e.map(n=>n.continue().catch(xo))))}},Ya=new WeakMap,Io=new WeakMap,Lp=new WeakMap,yS);function Og(t){var e;return(e=t.options.scope)==null?void 0:e.id}function l9(t){return{onFetch:(e,n)=>{var f,h,g,y,v;const r=e.options,i=(g=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},d=0;const l=async()=>{let w=!1;const x=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},k=IP(e.options,e.fetchOptions),N=async(R,L,O)=>{if(w)return Promise.reject();if(L==null&&R.pages.length)return Promise.resolve(R);const D={client:e.client,queryKey:e.queryKey,pageParam:L,direction:O?"backward":"forward",meta:e.options.meta};x(D);const F=await k(D),{maxPages:q}=e.options,$=O?AK:EK;return{pages:$(R.pages,F,q),pageParams:$(R.pageParams,L,q)}};if(i&&s.length){const R=i==="backward",L=R?DK:u9,O={pages:s,pageParams:o},D=L(r,O);a=await N(O,D,R)}else{const R=t??s.length;do{const L=d===0?o[0]??r.initialPageParam:u9(r,a);if(d>0&&L==null)break;a=await N(a,L),d++}while(d<R)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function u9(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function DK(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Wr,nl,rl,vf,bf,il,Cf,Ef,wS,$K=(wS=class{constructor(t={}){En(this,Wr);En(this,nl);En(this,rl);En(this,vf);En(this,bf);En(this,il);En(this,Cf);En(this,Ef);Ht(this,Wr,t.queryCache||new RK),Ht(this,nl,t.mutationCache||new MK),Ht(this,rl,t.defaultOptions||{}),Ht(this,vf,new Map),Ht(this,bf,new Map),Ht(this,il,0)}mount(){gg(this,il)._++,ve(this,il)===1&&(Ht(this,Cf,TP.subscribe(async t=>{t&&(await this.resumePausedMutations(),ve(this,Wr).onFocus())})),Ht(this,Ef,Zm.subscribe(async t=>{t&&(await this.resumePausedMutations(),ve(this,Wr).onOnline())})))}unmount(){var t,e;gg(this,il)._--,ve(this,il)===0&&((t=ve(this,Cf))==null||t.call(this),Ht(this,Cf,void 0),(e=ve(this,Ef))==null||e.call(this),Ht(this,Ef,void 0))}isFetching(t){return ve(this,Wr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ve(this,nl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ve(this,Wr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ve(this,Wr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(i9(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ve(this,Wr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ve(this,Wr).get(r.queryHash),s=i==null?void 0:i.state.data,o=gK(e,s);if(o!==void 0)return ve(this,Wr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ki.batch(()=>ve(this,Wr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ve(this,Wr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ve(this,Wr);ki.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ve(this,Wr);return ki.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ki.batch(()=>ve(this,Wr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(xo).catch(xo)}invalidateQueries(t,e={}){return ki.batch(()=>(ve(this,Wr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ki.batch(()=>ve(this,Wr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(xo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(xo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ve(this,Wr).build(this,e);return n.isStaleByTime(i9(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xo).catch(xo)}fetchInfiniteQuery(t){return t.behavior=l9(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xo).catch(xo)}ensureInfiniteQueryData(t){return t.behavior=l9(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zm.isOnline()?ve(this,nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,Wr)}getMutationCache(){return ve(this,nl)}getDefaultOptions(){return ve(this,rl)}setDefaultOptions(t){Ht(this,rl,t)}setQueryDefaults(t,e){ve(this,vf).set(Mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ve(this,vf).values()],n={};return e.forEach(r=>{ap(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ve(this,bf).set(Mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ve(this,bf).values()],n={};return e.forEach(r=>{ap(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ve(this,rl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=n6(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===r6&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ve(this,rl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ve(this,Wr).clear(),ve(this,nl).clear()}},Wr=new WeakMap,nl=new WeakMap,rl=new WeakMap,vf=new WeakMap,bf=new WeakMap,il=new WeakMap,Cf=new WeakMap,Ef=new WeakMap,wS),sl,ol,bs,Za,ac,cm,Q3,vS,LK=(vS=class extends Jp{constructor(n,r){super();En(this,ac);En(this,sl);En(this,ol);En(this,bs);En(this,Za);Ht(this,sl,n),this.setOptions(r),this.bindMethods(),Vr(this,ac,cm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ve(this,sl).defaultMutationOptions(n),vK(this.options,r)||ve(this,sl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ve(this,bs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Mu(r.mutationKey)!==Mu(this.options.mutationKey)?this.reset():((i=ve(this,bs))==null?void 0:i.state.status)==="pending"&&ve(this,bs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ve(this,bs))==null||n.removeObserver(this)}onMutationUpdate(n){Vr(this,ac,cm).call(this),Vr(this,ac,Q3).call(this,n)}getCurrentResult(){return ve(this,ol)}reset(){var n;(n=ve(this,bs))==null||n.removeObserver(this),Ht(this,bs,void 0),Vr(this,ac,cm).call(this),Vr(this,ac,Q3).call(this)}mutate(n,r){var i;return Ht(this,Za,r),(i=ve(this,bs))==null||i.removeObserver(this),Ht(this,bs,ve(this,sl).getMutationCache().build(ve(this,sl),this.options)),ve(this,bs).addObserver(this),ve(this,bs).execute(n)}},sl=new WeakMap,ol=new WeakMap,bs=new WeakMap,Za=new WeakMap,ac=new WeakSet,cm=function(){var r;const n=((r=ve(this,bs))==null?void 0:r.state)??OP();Ht(this,ol,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Q3=function(n){ki.batch(()=>{var r,i,s,o,a,d,l,f;if(ve(this,Za)&&this.hasListeners()){const h=ve(this,ol).variables,g=ve(this,ol).context;(n==null?void 0:n.type)==="success"?((i=(r=ve(this,Za)).onSuccess)==null||i.call(r,n.data,h,g),(o=(s=ve(this,Za)).onSettled)==null||o.call(s,n.data,null,h,g)):(n==null?void 0:n.type)==="error"&&((d=(a=ve(this,Za)).onError)==null||d.call(a,n.error,h,g),(f=(l=ve(this,Za)).onSettled)==null||f.call(l,void 0,n.error,h,g))}this.listeners.forEach(h=>{h(ve(this,ol))})})},vS);function UK(t){return{mutationFn(e){return bP(t,e)},mutationKey:["disconnect"]}}var MP=Qn.createContext(void 0),BK=t=>{const e=Qn.useContext(MP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FK=({client:t,children:e})=>(Qn.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Tr.jsx(MP.Provider,{value:t,children:e}));function jK(t,e){return typeof t=="function"?t(...e):!!t}function zK(){}function WK(t,e){const n=BK(),[r]=Qn.useState(()=>new LK(n,t));Qn.useEffect(()=>{r.setOptions(t)},[r,t]);const i=Qn.useSyncExternalStore(Qn.useCallback(o=>r.subscribe(ki.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=Qn.useCallback((o,a)=>{r.mutate(o,a).catch(zK)},[r]);if(i.error&&jK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function qK(t={}){const e=t6(t);return Qn.useSyncExternalStore(n=>NV(e,{onChange:n}),()=>Qa(e),()=>Qa(e))}function HK(t={}){const{mutation:e}=t,n=t6(t),r=UK(n),{mutate:i,mutateAsync:s,...o}=WK({...e,...r});return{...o,connectors:qK({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:s}}const VK=()=>{const[t]=P5(),e=qj(),{address:n,isConnected:r}=pK(),{disconnect:i}=HK(),s=window.Telegram.WebApp;Qn.useEffect(()=>{s.expand(),s.ready()},[]),Qn.useEffect(()=>{e&&(s.sendData(JSON.stringify({walletType:"ton",walletAddress:e})),s.close())},[e]),Qn.useEffect(()=>{r&&n&&(s.sendData(JSON.stringify({walletType:"evm",walletAddress:n})),s.close())},[r,n]);const o=async()=>{try{await t.connectWallet()}catch(d){console.error("Fehler beim Verbinden der TON Wallet:",d)}},a=()=>{r&&i()};return Tr.jsxs("div",{className:"flex flex-col items-center p-6 space-y-6 bg-white rounded-lg shadow-lg max-w-md w-full",children:[Tr.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Memecoin Sniper Pro™ Wallet Connector"}),Tr.jsx("p",{className:"text-gray-600 text-center",children:"Verbinde deine Wallet, um mit dem Memecoin Sniper Pro™ Bot zu interagieren."}),Tr.jsxs("div",{className:"w-full",children:[Tr.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"TON-kompatible Wallets"}),Tr.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Unterstützt Tonkeeper, Bitget Wallet, Trust Wallet und mehr."}),Tr.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Verbinde TON Wallet"})]}),Tr.jsxs("div",{className:"w-full",children:[Tr.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"EVM-kompatible Wallets"}),Tr.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Unterstützt MetaMask, Bitget Wallet, Binance Wallet und mehr."}),r?Tr.jsx("button",{onClick:a,className:"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition",children:"EVM Wallet trennen"}):Tr.jsx("appkit-button",{})]}),(e||n)&&Tr.jsxs("div",{className:"mt-4 p-4 bg-green-100 text-green-800 rounded-md w-full",children:[Tr.jsx("p",{className:"font-semibold",children:"Verbunden!"}),e&&Tr.jsxs("p",{children:["TON Adresse: ",e.slice(0,6),"...",e.slice(-4)]}),n&&Tr.jsxs("p",{children:["EVM Adresse: ",n.slice(0,6),"...",n.slice(-4)]})]})]})};function KK(){return Tr.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Tr.jsx(VK,{})})}const GK=Symbol(),d9=Object.getPrototypeOf,Y3=new WeakMap,QK=t=>t&&(Y3.has(t)?Y3.get(t):d9(t)===Object.prototype||d9(t)===Array.prototype),YK=t=>QK(t)&&t[GK]||null,f9=(t,e=!0)=>{Y3.set(t,e)},Jm={},Db=t=>typeof t=="object"&&t!==null,Qc=new WeakMap,d0=new WeakSet,ZK=(t=Object.is,e=(l,f)=>new Proxy(l,f),n=l=>Db(l)&&!d0.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,f,h=r)=>{const g=i.get(l);if((g==null?void 0:g[0])===f)return g[1];const y=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return f9(y,!0),i.set(l,[f,y]),Reflect.ownKeys(l).forEach(v=>{if(Object.getOwnPropertyDescriptor(y,v))return;const w=Reflect.get(l,v),{enumerable:x}=Reflect.getOwnPropertyDescriptor(l,v),k={value:w,enumerable:x,configurable:!0};if(d0.has(w))f9(w,!1);else if(w instanceof Promise)delete k.value,k.get=()=>h(w);else if(Qc.has(w)){const[N,R]=Qc.get(w);k.value=s(N,R(),h)}Object.defineProperty(y,v,k)}),Object.preventExtensions(y)},o=new WeakMap,a=[1,1],d=l=>{if(!Db(l))throw new Error("object required");const f=o.get(l);if(f)return f;let h=a[0];const g=new Set,y=($,H=++a[0])=>{h!==H&&(h=H,g.forEach(P=>P($,H)))};let v=a[1];const w=($=++a[1])=>(v!==$&&!g.size&&(v=$,k.forEach(([H])=>{const P=H[1]($);P>h&&(h=P)})),h),x=$=>(H,P)=>{const m=[...H];m[1]=[$,...m[1]],y(m,P)},k=new Map,N=($,H)=>{if((Jm?"production":void 0)!=="production"&&k.has($))throw new Error("prop listener already exists");if(g.size){const P=H[3](x($));k.set($,[H,P])}else k.set($,[H])},R=$=>{var H;const P=k.get($);P&&(k.delete($),(H=P[1])==null||H.call(P))},L=$=>(g.add($),g.size===1&&k.forEach(([P,m],C)=>{if((Jm?"production":void 0)!=="production"&&m)throw new Error("remove already exists");const S=P[3](x(C));k.set(C,[P,S])}),()=>{g.delete($),g.size===0&&k.forEach(([P,m],C)=>{m&&(m(),k.set(C,[P]))})}),O=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),F=e(O,{deleteProperty($,H){const P=Reflect.get($,H);R(H);const m=Reflect.deleteProperty($,H);return m&&y(["delete",[H],P]),m},set($,H,P,m){const C=Reflect.has($,H),S=Reflect.get($,H,m);if(C&&(t(S,P)||o.has(P)&&t(S,o.get(P))))return!0;R(H),Db(P)&&(P=YK(P)||P);let _=P;if(P instanceof Promise)P.then(I=>{P.status="fulfilled",P.value=I,y(["resolve",[H],I])}).catch(I=>{P.status="rejected",P.reason=I,y(["reject",[H],I])});else{!Qc.has(P)&&n(P)&&(_=d(P));const I=!d0.has(_)&&Qc.get(_);I&&N(H,I)}return Reflect.set($,H,_,m),y(["set",[H],P,S]),!0}});o.set(l,F);const q=[O,w,s,L];return Qc.set(F,q),Reflect.ownKeys(l).forEach($=>{const H=Object.getOwnPropertyDescriptor(l,$);"value"in H&&(F[$]=l[$],delete H.value,delete H.writable),Object.defineProperty(O,$,H)}),F})=>[d,Qc,d0,t,e,n,r,i,s,o,a],[JK]=ZK();function Br(t={}){return JK(t)}function _s(t,e,n){const r=Qc.get(t);(Jm?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function cp(t,e){const n=Qc.get(t);(Jm?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function kf(t){return d0.add(t),t}function js(t,e,n,r){let i=t[e];return _s(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function XK(t){const e=Br({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const lp={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var eG=20,tG=1,Zf=1e6,nG=1e6,rG=-7,iG=21,sG=!1,Xp="[big.js] ",Qu=Xp+"Invalid ",Zy=Qu+"decimal places",oG=Qu+"rounding mode",DP=Xp+"Division by zero",rr={},da=void 0,aG=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function $P(){function t(e){var n=this;if(!(n instanceof t))return e===da?$P():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Qu+"value");e=e===0&&1/e<0?"-0":String(e)}cG(n,e)}n.constructor=t}return t.prototype=rr,t.DP=eG,t.RM=tG,t.NE=rG,t.PE=iG,t.strict=sG,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function cG(t,e){var n,r,i;if(!aG.test(e))throw Error(Qu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Yu(t,e,n,r){var i=t.c;if(n===da&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(oG);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==da))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==da||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Zu(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}rr.abs=function(){var t=new this.constructor(this);return t.s=1,t};rr.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,d=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=d)return a>d^e?1:-1;for(o=(a=r.length)<(d=i.length)?a:d,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==d?0:a>d^e?1:-1};rr.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Zf)throw Error(Zy);if(!i[0])throw Error(DP);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,d,l,f,h,g=i.slice(),y=a=i.length,v=r.length,w=r.slice(0,a),x=w.length,k=t,N=k.c=[],R=0,L=o+(k.e=e.e-t.e)+1;for(k.s=s,s=L<0?0:L,g.unshift(0);x++<a;)w.push(0);do{for(l=0;l<10;l++){if(a!=(x=w.length))f=a>x?1:-1;else for(h=-1,f=0;++h<a;)if(i[h]!=w[h]){f=i[h]>w[h]?1:-1;break}if(f<0){for(d=x==a?i:g;x;){if(w[--x]<d[x]){for(h=x;h&&!w[--h];)w[h]=9;--w[h],w[x]+=10}w[x]-=d[x]}for(;!w[0];)w.shift()}else break}N[R++]=f?l:++l,w[0]&&f?w[x]=r[y]||0:w=[r[y]]}while((y++<v||w[0]!==da)&&s--);return!N[0]&&R!=1&&(N.shift(),k.e--,L--),R>L&&Yu(k,L,n.RM,w[0]!==da),k};rr.eq=function(t){return this.cmp(t)===0};rr.gt=function(t){return this.cmp(t)>0};rr.gte=function(t){return this.cmp(t)>-1};rr.lt=function(t){return this.cmp(t)<0};rr.lte=function(t){return this.cmp(t)<1};rr.minus=rr.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,d=(t=new o(t)).s;if(a!=d)return t.s=-d,s.plus(t);var l=s.c.slice(),f=s.e,h=t.c,g=t.e;if(!l[0]||!h[0])return h[0]?t.s=-d:l[0]?t=new o(s):t.s=1,t;if(a=f-g){for((i=a<0)?(a=-a,r=l):(g=f,r=h),r.reverse(),d=a;d--;)r.push(0);r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=d=0;d<n;d++)if(l[d]!=h[d]){i=l[d]<h[d];break}if(i&&(r=l,l=h,h=r,t.s=-t.s),(d=(n=h.length)-(e=l.length))>0)for(;d--;)l[e++]=0;for(d=e;n>a;){if(l[--n]<h[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=h[n]}for(;l[--d]===0;)l.pop();for(;l[0]===0;)l.shift(),--g;return l[0]||(t.s=1,l=[g=0]),t.c=l,t.e=g,t};rr.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(DP);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};rr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};rr.plus=rr.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,d=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-d){for(e>0?(d=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++d),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=d,t};rr.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-1e6||t>nG)throw Error(Qu+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};rr.prec=function(t,e){if(t!==~~t||t<1||t>Zf)throw Error(Qu+"precision");return Yu(new this.constructor(this),t,e)};rr.round=function(t,e){if(t===da)t=0;else if(t!==~~t||t<-1e6||t>Zf)throw Error(Zy);return Yu(new this.constructor(this),t+this.e+1,e)};rr.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Xp+"No square root");s=Math.sqrt(+Zu(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Yu(t,(i.DP-=4)+t.e+1,i.RM)};rr.times=rr.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,d=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=d+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(d=a;d--;){for(a=0,l=o+d;l>d;)a=e[l]+s[d]*i[l-d-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};rr.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==da){if(t!==~~t||t<0||t>Zf)throw Error(Zy);for(n=Yu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Zu(n,!0,!!r)};rr.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==da){if(t!==~~t||t<0||t>Zf)throw Error(Zy);for(n=Yu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Zu(n,!1,!!r)};rr[Symbol.for("nodejs.util.inspect.custom")]=rr.toJSON=rr.toString=function(){var t=this,e=t.constructor;return Zu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};rr.toNumber=function(){var t=+Zu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Xp+"Imprecise conversion");return t};rr.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==da){if(t!==~~t||t<1||t>Zf)throw Error(Qu+"precision");for(n=Yu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Zu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};rr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Xp+"valueOf disallowed");return Zu(t,t.e<=e.NE||t.e>=e.PE,!0)};var jh=$P();const Xn={bigNumber(t){return t?new jh(t):new jh(0)},multiply(t,e){if(t===void 0||e===void 0)return new jh(0);const n=new jh(t),r=new jh(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},lG=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],uG=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],dG=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ue={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},fG={getERC20Abi:t=>Ue.USDT_CONTRACT_ADDRESSES.includes(t)?dG:lG,getSwapAbi:()=>uG},Fc={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},mn={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function $b(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const rn={setItem(t,e){f0()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(f0())return localStorage.getItem(t)||void 0},removeItem(t){f0()&&localStorage.removeItem(t)},clear(){f0()&&localStorage.clear()}};function f0(){return typeof window<"u"&&typeof localStorage<"u"}function Xa(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function hG(t){return(t==null?void 0:t.endsWith(Ue.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Ue.WC_NAME_SUFFIX))}var h9={};const Lb=(typeof process<"u"&&typeof h9<"u"?h9.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",vpe=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],bpe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Yr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Lb,SECURE_SITE_DASHBOARD:`${Lb}/dashboard`,SECURE_SITE_FAVICON:`${Lb}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},ft={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ft.getActiveNamespace(),e=ft.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{rn.setItem(mn.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=rn.getItem(mn.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{rn.removeItem(mn.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{rn.setItem(mn.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{rn.setItem(mn.ACTIVE_CAIP_NETWORK_ID,t),ft.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return rn.getItem(mn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{rn.removeItem(mn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=$b(t);rn.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ft.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),rn.setItem(mn.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=rn.getItem(mn.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=$b(t);rn.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return rn.getItem(mn.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=$b(t);return rn.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{rn.setItem(mn.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return rn.getItem(mn.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{rn.removeItem(mn.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return rn.getItem(mn.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=rn.getItem(mn.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{rn.setItem(mn.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return rn.getItem(mn.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=rn.getItem(mn.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));rn.setItem(mn.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ft.getConnectedNamespaces();e.includes(t)||(e.push(t),ft.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ft.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ft.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return rn.getItem(mn.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{rn.setItem(mn.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{rn.removeItem(mn.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=rn.getItem(mn.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ft.getBalanceCache();rn.setItem(mn.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ft.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ft.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ft.getBalanceCache();e[t.caipAddress]=t,rn.setItem(mn.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=rn.getItem(mn.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ft.getBalanceCache();rn.setItem(mn.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ft.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ft.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ft.getNativeBalanceCache();e[t.caipAddress]=t,rn.setItem(mn.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=rn.getItem(mn.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ft.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ft.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ft.getEnsCache();e[t.address]=t,rn.setItem(mn.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ft.getEnsCache();rn.setItem(mn.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=rn.getItem(mn.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ft.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ft.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ft.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},rn.setItem(mn.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ft.getIdentityCache();rn.setItem(mn.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{rn.removeItem(mn.PORTFOLIO_CACHE),rn.removeItem(mn.NATIVE_BALANCE_CACHE),rn.removeItem(mn.ENS_CACHE),rn.removeItem(mn.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},$t={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return $t.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Yr.TEN_SEC_MS:!0},isAllowedRetry(t,e=Yr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Yr.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if($t.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!$t.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ft.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,$t.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Ue.W3M_API_URL},getBlockchainApiUrl(){return Ue.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ue.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?Yr.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Ue.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),d=t.substring(r+s,o),l=t.substring(i),f=d+n;return a+f+l}},ks=Br({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),To={state:ks,subscribeNetworkImages(t){return _s(ks.networkImages,()=>t(ks.networkImages))},subscribeKey(t,e){return js(ks,t,e)},subscribe(t){return _s(ks,()=>t(ks))},setWalletImage(t,e){ks.walletImages[t]=e},setNetworkImage(t,e){ks.networkImages[t]=e},setChainImage(t,e){ks.chainImages[t]=e},setConnectorImage(t,e){ks.connectorImages={...ks.connectorImages,[t]:e}},setTokenImage(t,e){ks.tokenImages[t]=e},setCurrencyImage(t,e){ks.currencyImages[t]=e}},pG={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:""},Ub=Br({networkImagePromises:{}}),LP={async fetchWalletImage(t){if(t)return await Tn._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Ub.networkImagePromises[t]||(Ub.networkImagePromises[t]=Tn._fetchNetworkImage(t)),await Ub.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return To.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return To.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return To.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return To.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return To.state.connectorImages[t.imageId]},getChainImage(t){return To.state.networkImages[pG[t]]}};async function zh(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Jy{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await zh(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await zh(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await zh(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await zh(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await zh(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}var Mg={exports:{}},p9;function gG(){if(p9)return Mg.exports;p9=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,D,F){return Function.prototype.apply.call(O,D,F)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(L){console&&console.warn&&console.warn(L)}var i=Number.isNaN||function(O){return O!==O};function s(){s.init.call(this)}Mg.exports=s,Mg.exports.once=k,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(L){if(typeof L!="number"||L<0||i(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");o=L}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function d(L){return L._maxListeners===void 0?s.defaultMaxListeners:L._maxListeners}s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(O){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var q=O==="error",$=this._events;if($!==void 0)q=q&&$.error===void 0;else if(!q)return!1;if(q){var H;if(D.length>0&&(H=D[0]),H instanceof Error)throw H;var P=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw P.context=H,P}var m=$[O];if(m===void 0)return!1;if(typeof m=="function")e(m,this,D);else for(var C=m.length,S=v(m,C),F=0;F<C;++F)e(S[F],this,D);return!0};function l(L,O,D,F){var q,$,H;if(a(D),$=L._events,$===void 0?($=L._events=Object.create(null),L._eventsCount=0):($.newListener!==void 0&&(L.emit("newListener",O,D.listener?D.listener:D),$=L._events),H=$[O]),H===void 0)H=$[O]=D,++L._eventsCount;else if(typeof H=="function"?H=$[O]=F?[D,H]:[H,D]:F?H.unshift(D):H.push(D),q=d(L),q>0&&H.length>q&&!H.warned){H.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=L,P.type=O,P.count=H.length,r(P)}return L}s.prototype.addListener=function(O,D){return l(this,O,D,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(O,D){return l(this,O,D,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(L,O,D){var F={fired:!1,wrapFn:void 0,target:L,type:O,listener:D},q=f.bind(F);return q.listener=D,F.wrapFn=q,q}s.prototype.once=function(O,D){return a(D),this.on(O,h(this,O,D)),this},s.prototype.prependOnceListener=function(O,D){return a(D),this.prependListener(O,h(this,O,D)),this},s.prototype.removeListener=function(O,D){var F,q,$,H,P;if(a(D),q=this._events,q===void 0)return this;if(F=q[O],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete q[O],q.removeListener&&this.emit("removeListener",O,F.listener||D));else if(typeof F!="function"){for($=-1,H=F.length-1;H>=0;H--)if(F[H]===D||F[H].listener===D){P=F[H].listener,$=H;break}if($<0)return this;$===0?F.shift():w(F,$),F.length===1&&(q[O]=F[0]),q.removeListener!==void 0&&this.emit("removeListener",O,P||D)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(O){var D,F,q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var $=Object.keys(F),H;for(q=0;q<$.length;++q)H=$[q],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(q=D.length-1;q>=0;q--)this.removeListener(O,D[q]);return this};function g(L,O,D){var F=L._events;if(F===void 0)return[];var q=F[O];return q===void 0?[]:typeof q=="function"?D?[q.listener||q]:[q]:D?x(q):v(q,q.length)}s.prototype.listeners=function(O){return g(this,O,!0)},s.prototype.rawListeners=function(O){return g(this,O,!1)},s.listenerCount=function(L,O){return typeof L.listenerCount=="function"?L.listenerCount(O):y.call(L,O)},s.prototype.listenerCount=y;function y(L){var O=this._events;if(O!==void 0){var D=O[L];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(L,O){for(var D=new Array(O),F=0;F<O;++F)D[F]=L[F];return D}function w(L,O){for(;O+1<L.length;O++)L[O]=L[O+1];L.pop()}function x(L){for(var O=new Array(L.length),D=0;D<O.length;++D)O[D]=L[D].listener||L[D];return O}function k(L,O){return new Promise(function(D,F){function q(H){L.removeListener(O,$),F(H)}function $(){typeof L.removeListener=="function"&&L.removeListener("error",q),D([].slice.call(arguments))}R(L,O,$,{once:!0}),O!=="error"&&N(L,q,{once:!0})})}function N(L,O,D){typeof L.on=="function"&&R(L,"error",O,D)}function R(L,O,D,F){if(typeof L.on=="function")F.once?L.once(O,D):L.on(O,D);else if(typeof L.addEventListener=="function")L.addEventListener(O,function q($){F.once&&L.removeEventListener(O,q),D($)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}return Mg.exports}var lo=gG();const i6=Uo(lo);var Bb={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Z3=function(t,e){return Z3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Z3(t,e)};function mG(t,e){Z3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J3=function(){return J3=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J3.apply(this,arguments)};function yG(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wG(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function vG(t,e){return function(n,r){e(n,r,t)}}function bG(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function CG(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(h){o(h)}}function d(f){try{l(r.throw(f))}catch(h){o(h)}}function l(f){f.done?s(f.value):i(f.value).then(a,d)}l((r=r.apply(t,e||[])).next())})}function EG(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return d([l,f])}}function d(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function AG(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function _G(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function X3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function UP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function xG(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(UP(arguments[e]));return t}function SG(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function up(t){return this instanceof up?(this.v=t,this):new up(t)}function IG(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(v,w){s.push([g,y,v,w])>1||a(g,y)})})}function a(g,y){try{d(r[g](y))}catch(v){h(s[0][3],v)}}function d(g){g.value instanceof up?Promise.resolve(g.value.v).then(l,f):h(s[0][2],g)}function l(g){a("next",g)}function f(g){a("throw",g)}function h(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function TG(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:up(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function PG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof X3=="function"?X3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,d){o=t[s](o),i(a,d,o.done,o.value)})}}function i(s,o,a,d){Promise.resolve(d).then(function(l){s({value:l,done:a})},o)}}function NG(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function kG(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function RG(t){return t&&t.__esModule?t:{default:t}}function OG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function MG(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const DG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return J3},__asyncDelegator:TG,__asyncGenerator:IG,__asyncValues:PG,__await:up,__awaiter:CG,__classPrivateFieldGet:OG,__classPrivateFieldSet:MG,__createBinding:AG,__decorate:wG,__exportStar:_G,__extends:mG,__generator:EG,__importDefault:RG,__importStar:kG,__makeTemplateObject:NG,__metadata:bG,__param:vG,__read:UP,__rest:yG,__spread:xG,__spreadArrays:SG,__values:X3},Symbol.toStringTag,{value:"Module"})),Xy=Z4(DG);var Fb={},Wh={},g9;function $G(){if(g9)return Wh;g9=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Wh.delay=t,Wh}var Vl={},jb={},Kl={},m9;function LG(){return m9||(m9=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.ONE_THOUSAND=Kl.ONE_HUNDRED=void 0,Kl.ONE_HUNDRED=100,Kl.ONE_THOUSAND=1e3),Kl}var zb={},y9;function UG(){return y9||(y9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(zb)),zb}var w9;function BP(){return w9||(w9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xy;e.__exportStar(LG(),t),e.__exportStar(UG(),t)}(jb)),jb}var v9;function BG(){if(v9)return Vl;v9=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.fromMiliseconds=Vl.toMiliseconds=void 0;const t=BP();function e(r){return r*t.ONE_THOUSAND}Vl.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Vl.fromMiliseconds=n,Vl}var b9;function FG(){return b9||(b9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xy;e.__exportStar($G(),t),e.__exportStar(BG(),t)}(Fb)),Fb}var Id={},C9;function jG(){if(C9)return Id;C9=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Id.Watch=t,Id.default=t,Id}var Wb={},qh={},E9;function zG(){if(E9)return qh;E9=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.IWatch=void 0;class t{}return qh.IWatch=t,qh}var A9;function WG(){return A9||(A9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Xy.__exportStar(zG(),t)}(Wb)),Wb}var _9;function qG(){return _9||(_9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Xy;e.__exportStar(FG(),t),e.__exportStar(jG(),t),e.__exportStar(WG(),t),e.__exportStar(BP(),t)}(Bb)),Bb}var Fe=qG();class Ju{}let HG=class extends Ju{constructor(e){super()}};const x9=Fe.FIVE_SECONDS,Jf={pulse:"heartbeat_pulse"};let VG=class FP extends HG{constructor(e){super(e),this.events=new lo.EventEmitter,this.interval=x9,this.interval=(e==null?void 0:e.interval)||x9}static async init(e){const n=new FP(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Fe.toMiliseconds(this.interval))}pulse(){this.events.emit(Jf.pulse)}};const KG=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,GG=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,QG=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function YG(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ZG(t);return}return e}function ZG(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Dg(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!QG.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(KG.test(t)||GG.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,YG)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function JG(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function wi(t,...e){try{return JG(t(...e))}catch(n){return Promise.reject(n)}}function XG(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function eQ(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function lm(t){if(XG(t))return String(t);if(eQ(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return lm(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const e4="base64:";function tQ(t){return typeof t=="string"?t:e4+iQ(t)}function nQ(t){return typeof t!="string"||!t.startsWith(e4)?t:rQ(t.slice(e4.length))}function rQ(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function iQ(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ws(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function sQ(...t){return ws(t.join(":"))}function $g(t){return t=ws(t),t?t+":":""}function oQ(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function aQ(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const cQ="memory",lQ=()=>{const t=new Map;return{name:cQ,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function uQ(t={}){const e={mounts:{"":t.driver||lQ()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const f of e.mountpoints)if(l.startsWith(f))return{base:f,relativeKey:l.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,f)=>e.mountpoints.filter(h=>h.startsWith(l)||f&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,f)=>{if(e.watching){f=ws(f);for(const h of e.watchListeners)h(l,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await S9(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,f,h)=>{const g=new Map,y=v=>{let w=g.get(v.base);return w||(w={driver:v.driver,base:v.base,items:[]},g.set(v.base,w)),w};for(const v of l){const w=typeof v=="string",x=ws(w?v:v.key),k=w?void 0:v.value,N=w||!v.options?f:{...f,...v.options},R=n(x);y(R).items.push({key:x,value:k,relativeKey:R.relativeKey,options:N})}return Promise.all([...g.values()].map(v=>h(v))).then(v=>v.flat())},d={hasItem(l,f={}){l=ws(l);const{relativeKey:h,driver:g}=n(l);return wi(g.hasItem,h,f)},getItem(l,f={}){l=ws(l);const{relativeKey:h,driver:g}=n(l);return wi(g.getItem,h,f).then(y=>Dg(y))},getItems(l,f={}){return a(l,f,h=>h.driver.getItems?wi(h.driver.getItems,h.items.map(g=>({key:g.relativeKey,options:g.options})),f).then(g=>g.map(y=>({key:sQ(h.base,y.key),value:Dg(y.value)}))):Promise.all(h.items.map(g=>wi(h.driver.getItem,g.relativeKey,g.options).then(y=>({key:g.key,value:Dg(y)})))))},getItemRaw(l,f={}){l=ws(l);const{relativeKey:h,driver:g}=n(l);return g.getItemRaw?wi(g.getItemRaw,h,f):wi(g.getItem,h,f).then(y=>nQ(y))},async setItem(l,f,h={}){if(f===void 0)return d.removeItem(l);l=ws(l);const{relativeKey:g,driver:y}=n(l);y.setItem&&(await wi(y.setItem,g,lm(f),h),y.watch||i("update",l))},async setItems(l,f){await a(l,f,async h=>{if(h.driver.setItems)return wi(h.driver.setItems,h.items.map(g=>({key:g.relativeKey,value:lm(g.value),options:g.options})),f);h.driver.setItem&&await Promise.all(h.items.map(g=>wi(h.driver.setItem,g.relativeKey,lm(g.value),g.options)))})},async setItemRaw(l,f,h={}){if(f===void 0)return d.removeItem(l,h);l=ws(l);const{relativeKey:g,driver:y}=n(l);if(y.setItemRaw)await wi(y.setItemRaw,g,f,h);else if(y.setItem)await wi(y.setItem,g,tQ(f),h);else return;y.watch||i("update",l)},async removeItem(l,f={}){typeof f=="boolean"&&(f={removeMeta:f}),l=ws(l);const{relativeKey:h,driver:g}=n(l);g.removeItem&&(await wi(g.removeItem,h,f),(f.removeMeta||f.removeMata)&&await wi(g.removeItem,h+"$",f),g.watch||i("remove",l))},async getMeta(l,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),l=ws(l);const{relativeKey:h,driver:g}=n(l),y=Object.create(null);if(g.getMeta&&Object.assign(y,await wi(g.getMeta,h,f)),!f.nativeOnly){const v=await wi(g.getItem,h+"$",f).then(w=>Dg(w));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(y,v))}return y},setMeta(l,f,h={}){return this.setItem(l+"$",f,h)},removeMeta(l,f={}){return this.removeItem(l+"$",f)},async getKeys(l,f={}){var x;l=$g(l);const h=r(l,!0);let g=[];const y=[];let v=!0;for(const k of h){(x=k.driver.flags)!=null&&x.maxDepth||(v=!1);const N=await wi(k.driver.getKeys,k.relativeBase,f);for(const R of N){const L=k.mountpoint+ws(R);g.some(O=>L.startsWith(O))||y.push(L)}g=[k.mountpoint,...g.filter(R=>!R.startsWith(k.mountpoint))]}const w=f.maxDepth!==void 0&&!v;return y.filter(k=>(!w||oQ(k,f.maxDepth))&&aQ(k,l))},async clear(l,f={}){l=$g(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return wi(h.driver.clear,h.relativeBase,f);if(h.driver.removeItem){const g=await h.driver.getKeys(h.relativeBase||"",f);return Promise.all(g.map(y=>h.driver.removeItem(y,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>I9(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,f){if(l=$g(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,g)=>g.length-h.length)),e.mounts[l]=f,e.watching&&Promise.resolve(S9(f,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),d},async unmount(l,f=!0){var h,g;l=$g(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((g=(h=e.unwatch)[l])==null||g.call(h),delete e.unwatch[l]),f&&await I9(e.mounts[l]),e.mountpoints=e.mountpoints.filter(y=>y!==l),delete e.mounts[l])},getMount(l=""){l=ws(l)+":";const f=n(l);return{driver:f.driver,base:f.base}},getMounts(l="",f={}){return l=ws(l),r(l,f.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(l,f={})=>d.getKeys(l,f),get:(l,f={})=>d.getItem(l,f),set:(l,f,h={})=>d.setItem(l,f,h),has:(l,f={})=>d.hasItem(l,f),del:(l,f={})=>d.removeItem(l,f),remove:(l,f={})=>d.removeItem(l,f)};return d}function S9(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function I9(t){typeof t.dispose=="function"&&await wi(t.dispose)}function Xu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function jP(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Xu(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let qb;function e1(){return qb||(qb=jP("keyval-store","keyval")),qb}function T9(t,e=e1()){return e("readonly",n=>Xu(n.get(t)))}function dQ(t,e,n=e1()){return n("readwrite",r=>(r.put(e,t),Xu(r.transaction)))}function fQ(t,e=e1()){return e("readwrite",n=>(n.delete(t),Xu(n.transaction)))}function hQ(t=e1()){return t("readwrite",e=>(e.clear(),Xu(e.transaction)))}function pQ(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Xu(t.transaction)}function gQ(t=e1()){return t("readonly",e=>{if(e.getAllKeys)return Xu(e.getAllKeys());const n=[];return pQ(e,r=>n.push(r.key)).then(()=>n)})}const mQ=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),yQ=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Du(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return yQ(t)}catch{return t}}function dc(t){return typeof t=="string"?t:mQ(t)||""}const wQ="idb-keyval";var vQ=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=jP(t.dbName,t.storeName)),{name:wQ,options:t,async hasItem(i){return!(typeof await T9(n(i),r)>"u")},async getItem(i){return await T9(n(i),r)??null},setItem(i,s){return dQ(n(i),s,r)},removeItem(i){return fQ(n(i),r)},getKeys(){return gQ(r)},clear(){return hQ(r)}}};const bQ="WALLET_CONNECT_V2_INDEXED_DB",CQ="keyvaluestorage";let EQ=class{constructor(){this.indexedDb=uQ({driver:vQ({dbName:bQ,storeName:CQ})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,dc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},um={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Hb<"u"&&Hb.localStorage?um.exports=Hb.localStorage:typeof window<"u"&&window.localStorage?um.exports=window.localStorage:um.exports=new e})();function AQ(t){var e;return[t[0],Du((e=t[1])!=null?e:"")]}let _Q=class{constructor(){this.localStorage=um.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(AQ)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Du(n)}async setItem(e,n){this.localStorage.setItem(e,dc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const xQ="wc_storage_version",P9=1,SQ=async(t,e,n)=>{const r=xQ,i=await e.getItem(r);if(i&&i>=P9){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const d=a.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,P9),n(e),IQ(t,o)},IQ=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let TQ=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new _Q;this.storage=e;try{const n=new EQ;SQ(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Vb,N9;function PQ(){if(N9)return Vb;N9=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Vb=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var d=new Array(a);d[0]=s(n);for(var l=1;l<a;l++)d[l]=s(r[l]);return d.join(" ")}if(typeof n!="string")return n;var f=r.length;if(f===0)return n;for(var h="",g=1-o,y=-1,v=n&&n.length||0,w=0;w<v;){if(n.charCodeAt(w)===37&&w+1<v){switch(y=y>-1?y:0,n.charCodeAt(w+1)){case 100:case 102:if(g>=f||r[g]==null)break;y<w&&(h+=n.slice(y,w)),h+=Number(r[g]),y=w+2,w++;break;case 105:if(g>=f||r[g]==null)break;y<w&&(h+=n.slice(y,w)),h+=Math.floor(Number(r[g])),y=w+2,w++;break;case 79:case 111:case 106:if(g>=f||r[g]===void 0)break;y<w&&(h+=n.slice(y,w));var x=typeof r[g];if(x==="string"){h+="'"+r[g]+"'",y=w+2,w++;break}if(x==="function"){h+=r[g].name||"<anonymous>",y=w+2,w++;break}h+=s(r[g]),y=w+2,w++;break;case 115:if(g>=f)break;y<w&&(h+=n.slice(y,w)),h+=String(r[g]),y=w+2,w++;break;case 37:y<w&&(h+=n.slice(y,w)),h+="%",y=w+2,w++,g--;break}++g}++w}return y===-1?n:(y<v&&(h+=n.slice(y)),h)}return Vb}var Kb,k9;function NQ(){if(k9)return Kb;k9=1;const t=PQ();Kb=i;const e=O().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:v,res:v,err:g};function r(D,F){return Array.isArray(D)?D.filter(function($){return $!=="!stdSerializers.err"}):D===!0?Object.keys(F):!1}function i(D){D=D||{},D.browser=D.browser||{};const F=D.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const q=D.browser.write||e;D.browser.write&&(D.browser.asObject=!0);const $=D.serializers||{},H=r(D.browser.serialize,$);let P=D.browser.serialize;Array.isArray(D.browser.serialize)&&D.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const m=["error","fatal","warn","info","debug","trace"];typeof q=="function"&&(q.error=q.fatal=q.warn=q.info=q.debug=q.trace=q),D.enabled===!1&&(D.level="silent");const C=D.level||"info",S=Object.create(q);S.log||(S.log=x),Object.defineProperty(S,"levelVal",{get:I}),Object.defineProperty(S,"level",{get:j,set:W});const _={transmit:F,serialize:H,asObject:D.browser.asObject,levels:m,timestamp:y(D)};S.levels=i.levels,S.level=C,S.setMaxListeners=S.getMaxListeners=S.emit=S.addListener=S.on=S.prependListener=S.once=S.prependOnceListener=S.removeListener=S.removeAllListeners=S.listeners=S.listenerCount=S.eventNames=S.write=S.flush=x,S.serializers=$,S._serialize=H,S._stdErrSerialize=P,S.child=B,F&&(S._logEvent=h());function I(){return this.level==="silent"?1/0:this.levels.values[this.level]}function j(){return this._level}function W(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,s(_,S,"error","log"),s(_,S,"fatal","error"),s(_,S,"warn","error"),s(_,S,"info","log"),s(_,S,"debug","log"),s(_,S,"trace","log")}function B(E,U){if(!E)throw new Error("missing bindings for child Pino");U=U||{},H&&E.serializers&&(U.serializers=E.serializers);const J=U.serializers;if(H&&J){var ie=Object.assign({},$,J),ce=D.browser.serialize===!0?Object.keys(ie):H;delete E.serializers,d([E],ce,ie,this._stdErrSerialize)}function ue(Ae){this._childLevel=(Ae._childLevel|0)+1,this.error=l(Ae,E,"error"),this.fatal=l(Ae,E,"fatal"),this.warn=l(Ae,E,"warn"),this.info=l(Ae,E,"info"),this.debug=l(Ae,E,"debug"),this.trace=l(Ae,E,"trace"),ie&&(this.serializers=ie,this._serialize=ce),F&&(this._logEvent=h([].concat(Ae._logEvent.bindings,E)))}return ue.prototype=this,new ue(this)}return S}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:k,epochTime:N,unixTime:R,isoTime:L});function s(D,F,q,$){const H=Object.getPrototypeOf(F);F[q]=F.levelVal>F.levels.values[q]?x:H[q]?H[q]:e[q]||e[$]||x,o(D,F,q)}function o(D,F,q){!D.transmit&&F[q]===x||(F[q]=function($){return function(){const P=D.timestamp(),m=new Array(arguments.length),C=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var S=0;S<m.length;S++)m[S]=arguments[S];if(D.serialize&&!D.asObject&&d(m,this._serialize,this.serializers,this._stdErrSerialize),D.asObject?$.call(C,a(this,q,m,P)):$.apply(C,m),D.transmit){const _=D.transmit.level||F.level,I=i.levels.values[_],j=i.levels.values[q];if(j<I)return;f(this,{ts:P,methodLevel:q,methodValue:j,transmitValue:i.levels.values[D.transmit.level||F.level],send:D.transmit.send,val:F.levelVal},m)}}}(F[q]))}function a(D,F,q,$){D._serialize&&d(q,D._serialize,D.serializers,D._stdErrSerialize);const H=q.slice();let P=H[0];const m={};$&&(m.time=$),m.level=i.levels.values[F];let C=(D._childLevel|0)+1;if(C<1&&(C=1),P!==null&&typeof P=="object"){for(;C--&&typeof H[0]=="object";)Object.assign(m,H.shift());P=H.length?t(H.shift(),H):void 0}else typeof P=="string"&&(P=t(H.shift(),H));return P!==void 0&&(m.msg=P),m}function d(D,F,q,$){for(const H in D)if($&&D[H]instanceof Error)D[H]=i.stdSerializers.err(D[H]);else if(typeof D[H]=="object"&&!Array.isArray(D[H]))for(const P in D[H])F&&F.indexOf(P)>-1&&P in q&&(D[H][P]=q[P](D[H][P]))}function l(D,F,q){return function(){const $=new Array(1+arguments.length);$[0]=F;for(var H=1;H<$.length;H++)$[H]=arguments[H-1];return D[q].apply(this,$)}}function f(D,F,q){const $=F.send,H=F.ts,P=F.methodLevel,m=F.methodValue,C=F.val,S=D._logEvent.bindings;d(q,D._serialize||Object.keys(D.serializers),D.serializers,D._stdErrSerialize===void 0?!0:D._stdErrSerialize),D._logEvent.ts=H,D._logEvent.messages=q.filter(function(_){return S.indexOf(_)===-1}),D._logEvent.level.label=P,D._logEvent.level.value=m,$(P,D._logEvent,C),D._logEvent=h(S)}function h(D){return{ts:0,messages:[],bindings:D||[],level:{label:"",value:0}}}function g(D){const F={type:D.constructor.name,msg:D.message,stack:D.stack};for(const q in D)F[q]===void 0&&(F[q]=D[q]);return F}function y(D){return typeof D.timestamp=="function"?D.timestamp:D.timestamp===!1?k:N}function v(){return{}}function w(D){return D}function x(){}function k(){return!1}function N(){return Date.now()}function R(){return Math.round(Date.now()/1e3)}function L(){return new Date(Date.now()).toISOString()}function O(){function D(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return D(self)||D(window)||D(this)||{}}}return Kb}var Hd=NQ();const t1=Uo(Hd),kQ={level:"info"},n1="custom_context",s6=1e3*1024;let RQ=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},R9=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new RQ(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},zP=class{constructor(e,n=s6){this.level=e??"error",this.levelValue=Hd.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new R9(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Hd.levels.values.error?console.error(e):n===Hd.levels.values.warn?console.warn(e):n===Hd.levels.values.debug?console.debug(e):n===Hd.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(dc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new R9(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(dc({extraMetadata:e})),new Blob(n,{type:"application/json"})}},OQ=class{constructor(e,n=s6){this.baseChunkLogger=new zP(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},MQ=class{constructor(e,n=s6){this.baseChunkLogger=new zP(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var DQ=Object.defineProperty,$Q=Object.defineProperties,LQ=Object.getOwnPropertyDescriptors,O9=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,BQ=Object.prototype.propertyIsEnumerable,M9=(t,e,n)=>e in t?DQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xm=(t,e)=>{for(var n in e||(e={}))UQ.call(e,n)&&M9(t,n,e[n]);if(O9)for(var n of O9(e))BQ.call(e,n)&&M9(t,n,e[n]);return t},ey=(t,e)=>$Q(t,LQ(e));function Xf(t){return ey(Xm({},t),{level:(t==null?void 0:t.level)||kQ.level})}function FQ(t,e=n1){return t[e]||""}function jQ(t,e,n=n1){return t[n]=e,t}function Ss(t,e=n1){let n="";return typeof t.bindings>"u"?n=FQ(t,e):n=t.bindings().context||"",n}function zQ(t,e,n=n1){const r=Ss(t,n);return r.trim()?`${r}/${e}`:e}function Yi(t,e,n=n1){const r=zQ(t,e,n),i=t.child({context:r});return jQ(i,r,n)}function WQ(t){var e,n;const r=new OQ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:t1(ey(Xm({},t.opts),{level:"trace",browser:ey(Xm({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function qQ(t){var e;const n=new MQ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:t1(ey(Xm({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function o6(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?WQ(t):qQ(t)}var HQ=Object.defineProperty,VQ=(t,e,n)=>e in t?HQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D9=(t,e,n)=>VQ(t,typeof e!="symbol"?e+"":e,n);let KQ=class extends Ju{constructor(e){super(),this.opts=e,D9(this,"protocol","wc"),D9(this,"version",2)}};var GQ=Object.defineProperty,QQ=(t,e,n)=>e in t?GQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YQ=(t,e,n)=>QQ(t,e+"",n);let ZQ=class extends Ju{constructor(e,n){super(),this.core=e,this.logger=n,YQ(this,"records",new Map)}},JQ=class{constructor(e,n){this.logger=e,this.core=n}},XQ=class extends Ju{constructor(e,n){super(),this.relayer=e,this.logger=n}},eY=class extends Ju{constructor(e){super()}},tY=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},nY=class extends Ju{constructor(e,n){super(),this.relayer=e,this.logger=n}},rY=class extends Ju{constructor(e,n){super(),this.core=e,this.logger=n}},iY=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},sY=class{constructor(e,n){this.projectId=e,this.logger=n}},oY=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var aY=Object.defineProperty,cY=(t,e,n)=>e in t?aY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$9=(t,e,n)=>cY(t,typeof e!="symbol"?e+"":e,n);let lY=class{constructor(e){this.opts=e,$9(this,"protocol","wc"),$9(this,"version",2)}},uY=class{constructor(e){this.client=e}};function dY(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WP(t,...e){if(!dY(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function L9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fY(t,e){WP(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Td=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gb=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function hY(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function qP(t){return typeof t=="string"&&(t=hY(t)),WP(t),t}let pY=class{clone(){return this._cloneInto()}};function gY(t){const e=r=>t().update(qP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function HP(t=32){if(Td&&typeof Td.getRandomValues=="function")return Td.getRandomValues(new Uint8Array(t));if(Td&&typeof Td.randomBytes=="function")return Td.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function mY(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),d=r?4:0,l=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+l,a,r)}let yY=class extends pY{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gb(this.buffer)}update(e){L9(this);const{view:n,buffer:r,blockLen:i}=this;e=qP(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const d=Gb(e);for(;i<=s-o;o+=i)this.process(d,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){L9(this),fY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;mY(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Gb(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=d/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Lg=BigInt(2**32-1),t4=BigInt(32);function VP(t,e=!1){return e?{h:Number(t&Lg),l:Number(t>>t4&Lg)}:{h:Number(t>>t4&Lg)|0,l:Number(t&Lg)|0}}function wY(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=VP(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const vY=(t,e)=>BigInt(t>>>0)<<t4|BigInt(e>>>0),bY=(t,e,n)=>t>>>n,CY=(t,e,n)=>t<<32-n|e>>>n,EY=(t,e,n)=>t>>>n|e<<32-n,AY=(t,e,n)=>t<<32-n|e>>>n,_Y=(t,e,n)=>t<<64-n|e>>>n-32,xY=(t,e,n)=>t>>>n-32|e<<64-n,SY=(t,e)=>e,IY=(t,e)=>t,TY=(t,e,n)=>t<<n|e>>>32-n,PY=(t,e,n)=>e<<n|t>>>32-n,NY=(t,e,n)=>e<<n-32|t>>>64-n,kY=(t,e,n)=>t<<n-32|e>>>64-n;function RY(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const OY=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),MY=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,DY=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),$Y=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,LY=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),UY=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,un={fromBig:VP,split:wY,toBig:vY,shrSH:bY,shrSL:CY,rotrSH:EY,rotrSL:AY,rotrBH:_Y,rotrBL:xY,rotr32H:SY,rotr32L:IY,rotlSH:TY,rotlSL:PY,rotlBH:NY,rotlBL:kY,add:RY,add3L:OY,add3H:MY,add4L:DY,add4H:$Y,add5H:UY,add5L:LY},[BY,FY]=un.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jc=new Uint32Array(80),zc=new Uint32Array(80);let jY=class extends yY{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:d,Eh:l,El:f,Fh:h,Fl:g,Gh:y,Gl:v,Hh:w,Hl:x}=this;return[e,n,r,i,s,o,a,d,l,f,h,g,y,v,w,x]}set(e,n,r,i,s,o,a,d,l,f,h,g,y,v,w,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=d|0,this.Eh=l|0,this.El=f|0,this.Fh=h|0,this.Fl=g|0,this.Gh=y|0,this.Gl=v|0,this.Hh=w|0,this.Hl=x|0}process(e,n){for(let R=0;R<16;R++,n+=4)jc[R]=e.getUint32(n),zc[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const L=jc[R-15]|0,O=zc[R-15]|0,D=un.rotrSH(L,O,1)^un.rotrSH(L,O,8)^un.shrSH(L,O,7),F=un.rotrSL(L,O,1)^un.rotrSL(L,O,8)^un.shrSL(L,O,7),q=jc[R-2]|0,$=zc[R-2]|0,H=un.rotrSH(q,$,19)^un.rotrBH(q,$,61)^un.shrSH(q,$,6),P=un.rotrSL(q,$,19)^un.rotrBL(q,$,61)^un.shrSL(q,$,6),m=un.add4L(F,P,zc[R-7],zc[R-16]),C=un.add4H(m,D,H,jc[R-7],jc[R-16]);jc[R]=C|0,zc[R]=m|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:d,Dh:l,Dl:f,Eh:h,El:g,Fh:y,Fl:v,Gh:w,Gl:x,Hh:k,Hl:N}=this;for(let R=0;R<80;R++){const L=un.rotrSH(h,g,14)^un.rotrSH(h,g,18)^un.rotrBH(h,g,41),O=un.rotrSL(h,g,14)^un.rotrSL(h,g,18)^un.rotrBL(h,g,41),D=h&y^~h&w,F=g&v^~g&x,q=un.add5L(N,O,F,FY[R],zc[R]),$=un.add5H(q,k,L,D,BY[R],jc[R]),H=q|0,P=un.rotrSH(r,i,28)^un.rotrBH(r,i,34)^un.rotrBH(r,i,39),m=un.rotrSL(r,i,28)^un.rotrBL(r,i,34)^un.rotrBL(r,i,39),C=r&s^r&a^s&a,S=i&o^i&d^o&d;k=w|0,N=x|0,w=y|0,x=v|0,y=h|0,v=g|0,{h,l:g}=un.add(l|0,f|0,$|0,H|0),l=a|0,f=d|0,a=s|0,d=o|0,s=r|0,o=i|0;const _=un.add3L(H,m,S);r=un.add3H(_,$,P,C),i=_|0}({h:r,l:i}=un.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=un.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:d}=un.add(this.Ch|0,this.Cl|0,a|0,d|0),{h:l,l:f}=un.add(this.Dh|0,this.Dl|0,l|0,f|0),{h,l:g}=un.add(this.Eh|0,this.El|0,h|0,g|0),{h:y,l:v}=un.add(this.Fh|0,this.Fl|0,y|0,v|0),{h:w,l:x}=un.add(this.Gh|0,this.Gl|0,w|0,x|0),{h:k,l:N}=un.add(this.Hh|0,this.Hl|0,k|0,N|0),this.set(r,i,s,o,a,d,l,f,h,g,y,v,w,x,k,N)}roundClean(){jc.fill(0),zc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const zY=gY(()=>new jY);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a6=BigInt(0),KP=BigInt(1),WY=BigInt(2);function c6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function l6(t){if(!c6(t))throw new Error("Uint8Array expected")}function Qb(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const qY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function u6(t){l6(t);let e="";for(let n=0;n<t.length;n++)e+=qY[t[n]];return e}function GP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?a6:BigInt("0x"+t)}const La={_0:48,_9:57,A:65,F:70,a:97,f:102};function U9(t){if(t>=La._0&&t<=La._9)return t-La._0;if(t>=La.A&&t<=La.F)return t-(La.A-10);if(t>=La.a&&t<=La.f)return t-(La.a-10)}function QP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=U9(t.charCodeAt(s)),a=U9(t.charCodeAt(s+1));if(o===void 0||a===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=o*16+a}return r}function HY(t){return GP(u6(t))}function dm(t){return l6(t),GP(u6(Uint8Array.from(t).reverse()))}function YP(t,e){return QP(t.toString(16).padStart(e*2,"0"))}function n4(t,e){return YP(t,e).reverse()}function Ua(t,e,n){let r;if(typeof e=="string")try{r=QP(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(c6(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function B9(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];l6(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Yb=t=>typeof t=="bigint"&&a6<=t;function VY(t,e,n){return Yb(t)&&Yb(e)&&Yb(n)&&e<=t&&t<n}function Hh(t,e,n,r){if(!VY(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function KY(t){let e;for(e=0;t>a6;t>>=KP,e+=1);return e}const GY=t=>(WY<<BigInt(t-1))-KP,QY={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||c6(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function d6(t,e,n={}){const r=(i,s,o)=>{const a=QY[s];if(typeof a!="function")throw new Error("invalid validator function");const d=t[i];if(!(o&&d===void 0)&&!a(d,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+d)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function F9(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Ei=BigInt(0),Qr=BigInt(1),iu=BigInt(2),YY=BigInt(3),r4=BigInt(4),j9=BigInt(5),z9=BigInt(8);function ui(t,e){const n=t%e;return n>=Ei?n:e+n}function ZY(t,e,n){if(e<Ei)throw new Error("invalid exponent, negatives unsupported");if(n<=Ei)throw new Error("invalid modulus");if(n===Qr)return Ei;let r=Qr;for(;e>Ei;)e&Qr&&(r=r*t%n),t=t*t%n,e>>=Qr;return r}function Ko(t,e,n){let r=t;for(;e-- >Ei;)r*=r,r%=n;return r}function W9(t,e){if(t===Ei)throw new Error("invert: expected non-zero number");if(e<=Ei)throw new Error("invert: expected positive modulus, got "+e);let n=ui(t,e),r=e,i=Ei,s=Qr;for(;n!==Ei;){const o=r/n,a=r%n,d=i-s*o;r=n,n=a,i=s,s=d}if(r!==Qr)throw new Error("invert: does not exist");return ui(i,e)}function JY(t){const e=(t-Qr)/iu;let n,r,i;for(n=t-Qr,r=0;n%iu===Ei;n/=iu,r++);for(i=iu;i<t&&ZY(i,e,t)!==t-Qr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Qr)/r4;return function(a,d){const l=a.pow(d,o);if(!a.eql(a.sqr(l),d))throw new Error("Cannot find square root");return l}}const s=(n+Qr)/iu;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let d=r,l=o.pow(o.mul(o.ONE,i),n),f=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let g=1;for(let v=o.sqr(h);g<d&&!o.eql(v,o.ONE);g++)v=o.sqr(v);const y=o.pow(l,Qr<<BigInt(d-g-1));l=o.sqr(y),f=o.mul(f,y),h=o.mul(h,l),d=g}return f}}function XY(t){if(t%r4===YY){const e=(t+Qr)/r4;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%z9===j9){const e=(t-j9)/z9;return function(n,r){const i=n.mul(r,iu),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,iu),s),d=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return JY(t)}const eZ=(t,e)=>(ui(t,e)&Qr)===Qr,tZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nZ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=tZ.reduce((r,i)=>(r[i]="function",r),e);return d6(t,n)}function rZ(t,e,n){if(n<Ei)throw new Error("invalid exponent, negatives unsupported");if(n===Ei)return t.ONE;if(n===Qr)return e;let r=t.ONE,i=e;for(;n>Ei;)n&Qr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Qr;return r}function iZ(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function ZP(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function JP(t,e,n=!1,r={}){if(t<=Ei)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=ZP(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:GY(i),ZERO:Ei,ONE:Qr,create:d=>ui(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ei<=d&&d<t},is0:d=>d===Ei,isOdd:d=>(d&Qr)===Qr,neg:d=>ui(-d,t),eql:(d,l)=>d===l,sqr:d=>ui(d*d,t),add:(d,l)=>ui(d+l,t),sub:(d,l)=>ui(d-l,t),mul:(d,l)=>ui(d*l,t),pow:(d,l)=>rZ(a,d,l),div:(d,l)=>ui(d*W9(l,t),t),sqrN:d=>d*d,addN:(d,l)=>d+l,subN:(d,l)=>d-l,mulN:(d,l)=>d*l,inv:d=>W9(d,t),sqrt:r.sqrt||(d=>(o||(o=XY(t)),o(a,d))),invertBatch:d=>iZ(a,d),cmov:(d,l,f)=>f?l:d,toBytes:d=>n?n4(d,s):YP(d,s),fromBytes:d=>{if(d.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+d.length);return n?dm(d):HY(d)}});return Object.freeze(a)}const q9=BigInt(0),Ug=BigInt(1);function Zb(t,e){const n=e.negate();return t?n:e}function XP(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Jb(t,e){XP(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function sZ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function oZ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Xb=new WeakMap,eN=new WeakMap;function e2(t){return eN.get(t)||1}function aZ(t,e){return{constTimeNegate:Zb,hasPrecomputes(n){return e2(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>q9;)r&Ug&&(i=i.add(s)),s=s.double(),r>>=Ug;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Jb(r,e),o=[];let a=n,d=a;for(let l=0;l<i;l++){d=a,o.push(d);for(let f=1;f<s;f++)d=d.add(a),o.push(d);a=d.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Jb(n,e);let a=t.ZERO,d=t.BASE;const l=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let g=0;g<s;g++){const y=g*o;let v=Number(i&l);i>>=h,v>o&&(v-=f,i+=Ug);const w=y,x=y+Math.abs(v)-1,k=g%2!==0,N=v<0;v===0?d=d.add(Zb(k,r[w])):a=a.add(Zb(N,r[x]))}return{p:a,f:d}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Jb(n,e),d=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<o;h++){const g=h*a;if(i===q9)break;let y=Number(i&d);if(i>>=f,y>a&&(y-=l,i+=Ug),y===0)continue;let v=r[g+Math.abs(y)-1];y<0&&(v=v.negate()),s=s.add(v)}return s},getPrecomputes(n,r,i){let s=Xb.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Xb.set(r,i(s))),s},wNAFCached(n,r,i){const s=e2(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=e2(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){XP(r,e),eN.set(n,r),Xb.delete(n)}}}function cZ(t,e,n,r){if(sZ(n,t),oZ(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=KY(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,d=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let f=i;for(let h=l;h>=0;h-=o){d.fill(i);for(let y=0;y<r.length;y++){const v=r[y],w=Number(v>>BigInt(h)&BigInt(a));d[w]=d[w].add(n[y])}let g=i;for(let y=d.length-1,v=i;y>0;y--)v=v.add(d[y]),g=g.add(v);if(f=f.add(g),h!==0)for(let y=0;y<o;y++)f=f.double()}return f}function lZ(t){return nZ(t.Fp),d6(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ZP(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const bo=BigInt(0),ps=BigInt(1),Bg=BigInt(2),uZ=BigInt(8),dZ={zip215:!0};function fZ(t){const e=lZ(t);return d6(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function hZ(t){const e=fZ(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:d}=e,l=Bg<<BigInt(a*8)-ps,f=n.create,h=JP(e.n,e.nBitLength),g=e.uvRatio||((_,I)=>{try{return{isValid:!0,value:n.sqrt(_*n.inv(I))}}catch{return{isValid:!1,value:bo}}}),y=e.adjustScalarBytes||(_=>_),v=e.domain||((_,I,j)=>{if(Qb("phflag",j),I.length||j)throw new Error("Contexts/pre-hash are not supported");return _});function w(_,I){Hh("coordinate "+_,I,bo,l)}function x(_){if(!(_ instanceof R))throw new Error("ExtendedPoint expected")}const k=F9((_,I)=>{const{ex:j,ey:W,ez:B}=_,E=_.is0();I==null&&(I=E?uZ:n.inv(B));const U=f(j*I),J=f(W*I),ie=f(B*I);if(E)return{x:bo,y:ps};if(ie!==ps)throw new Error("invZ was invalid");return{x:U,y:J}}),N=F9(_=>{const{a:I,d:j}=e;if(_.is0())throw new Error("bad point: ZERO");const{ex:W,ey:B,ez:E,et:U}=_,J=f(W*W),ie=f(B*B),ce=f(E*E),ue=f(ce*ce),Ae=f(J*I),$e=f(ce*f(Ae+ie)),le=f(ue+f(j*f(J*ie)));if($e!==le)throw new Error("bad point: equation left != right (1)");const re=f(W*B),ae=f(E*U);if(re!==ae)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(I,j,W,B){this.ex=I,this.ey=j,this.ez=W,this.et=B,w("x",I),w("y",j),w("z",W),w("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof R)throw new Error("extended point not allowed");const{x:j,y:W}=I||{};return w("x",j),w("y",W),new R(j,W,ps,f(j*W))}static normalizeZ(I){const j=n.invertBatch(I.map(W=>W.ez));return I.map((W,B)=>W.toAffine(j[B])).map(R.fromAffine)}static msm(I,j){return cZ(R,h,I,j)}_setWindowSize(I){D.setWindowSize(this,I)}assertValidity(){N(this)}equals(I){x(I);const{ex:j,ey:W,ez:B}=this,{ex:E,ey:U,ez:J}=I,ie=f(j*J),ce=f(E*B),ue=f(W*J),Ae=f(U*B);return ie===ce&&ue===Ae}is0(){return this.equals(R.ZERO)}negate(){return new R(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:I}=e,{ex:j,ey:W,ez:B}=this,E=f(j*j),U=f(W*W),J=f(Bg*f(B*B)),ie=f(I*E),ce=j+W,ue=f(f(ce*ce)-E-U),Ae=ie+U,$e=Ae-J,le=ie-U,re=f(ue*$e),ae=f(Ae*le),Ce=f(ue*le),we=f($e*Ae);return new R(re,ae,we,Ce)}add(I){x(I);const{a:j,d:W}=e,{ex:B,ey:E,ez:U,et:J}=this,{ex:ie,ey:ce,ez:ue,et:Ae}=I;if(j===BigInt(-1)){const At=f((E-B)*(ce+ie)),Nn=f((E+B)*(ce-ie)),Zt=f(Nn-At);if(Zt===bo)return this.double();const on=f(U*Bg*Ae),qn=f(J*Bg*ue),Ft=qn+on,Kt=Nn+At,Pt=qn-on,dt=f(Ft*Zt),Ke=f(Kt*Pt),bn=f(Ft*Pt),an=f(Zt*Kt);return new R(dt,Ke,an,bn)}const $e=f(B*ie),le=f(E*ce),re=f(J*W*Ae),ae=f(U*ue),Ce=f((B+E)*(ie+ce)-$e-le),we=ae-re,Se=ae+re,Ze=f(le-j*$e),Me=f(Ce*we),wt=f(Se*Ze),en=f(Ce*Ze),je=f(we*Se);return new R(Me,wt,je,en)}subtract(I){return this.add(I.negate())}wNAF(I){return D.wNAFCached(this,I,R.normalizeZ)}multiply(I){const j=I;Hh("scalar",j,ps,r);const{p:W,f:B}=this.wNAF(j);return R.normalizeZ([W,B])[0]}multiplyUnsafe(I,j=R.ZERO){const W=I;return Hh("scalar",W,bo,r),W===bo?O:this.is0()||W===ps?this:D.wNAFCachedUnsafe(this,W,R.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(I){return k(this,I)}clearCofactor(){const{h:I}=e;return I===ps?this:this.multiplyUnsafe(I)}static fromHex(I,j=!1){const{d:W,a:B}=e,E=n.BYTES;I=Ua("pointHex",I,E),Qb("zip215",j);const U=I.slice(),J=I[E-1];U[E-1]=J&-129;const ie=dm(U),ce=j?l:n.ORDER;Hh("pointHex.y",ie,bo,ce);const ue=f(ie*ie),Ae=f(ue-ps),$e=f(W*ue-B);let{isValid:le,value:re}=g(Ae,$e);if(!le)throw new Error("Point.fromHex: invalid y coordinate");const ae=(re&ps)===ps,Ce=(J&128)!==0;if(!j&&re===bo&&Ce)throw new Error("Point.fromHex: x=0 and x_0=1");return Ce!==ae&&(re=f(-re)),R.fromAffine({x:re,y:ie})}static fromPrivateKey(I){return $(I).point}toRawBytes(){const{x:I,y:j}=this.toAffine(),W=n4(j,n.BYTES);return W[W.length-1]|=I&ps?128:0,W}toHex(){return u6(this.toRawBytes())}}R.BASE=new R(e.Gx,e.Gy,ps,f(e.Gx*e.Gy)),R.ZERO=new R(bo,ps,ps,bo);const{BASE:L,ZERO:O}=R,D=aZ(R,a*8);function F(_){return ui(_,r)}function q(_){return F(dm(_))}function $(_){const I=n.BYTES;_=Ua("private key",_,I);const j=Ua("hashed private key",s(_),2*I),W=y(j.slice(0,I)),B=j.slice(I,2*I),E=q(W),U=L.multiply(E),J=U.toRawBytes();return{head:W,prefix:B,scalar:E,point:U,pointBytes:J}}function H(_){return $(_).pointBytes}function P(_=new Uint8Array,...I){const j=B9(...I);return q(s(v(j,Ua("context",_),!!i)))}function m(_,I,j={}){_=Ua("message",_),i&&(_=i(_));const{prefix:W,scalar:B,pointBytes:E}=$(I),U=P(j.context,W,_),J=L.multiply(U).toRawBytes(),ie=P(j.context,J,E,_),ce=F(U+ie*B);Hh("signature.s",ce,bo,r);const ue=B9(J,n4(ce,n.BYTES));return Ua("result",ue,n.BYTES*2)}const C=dZ;function S(_,I,j,W=C){const{context:B,zip215:E}=W,U=n.BYTES;_=Ua("signature",_,2*U),I=Ua("message",I),j=Ua("publicKey",j,U),E!==void 0&&Qb("zip215",E),i&&(I=i(I));const J=dm(_.slice(U,2*U));let ie,ce,ue;try{ie=R.fromHex(j,E),ce=R.fromHex(_.slice(0,U),E),ue=L.multiplyUnsafe(J)}catch{return!1}if(!E&&ie.isSmallOrder())return!1;const Ae=P(B,ce.toRawBytes(),ie.toRawBytes(),I);return ce.add(ie.multiplyUnsafe(Ae)).subtract(ue).clearCofactor().equals(R.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:m,verify:S,ExtendedPoint:R,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(n.BYTES),precompute(_=8,I=R.BASE){return I._setWindowSize(_),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const f6=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),H9=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const pZ=BigInt(1),V9=BigInt(2);BigInt(3);const gZ=BigInt(5),mZ=BigInt(8);function yZ(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=f6,o=t*t%s*t%s,a=Ko(o,V9,s)*o%s,d=Ko(a,pZ,s)*t%s,l=Ko(d,gZ,s)*d%s,f=Ko(l,e,s)*l%s,h=Ko(f,n,s)*f%s,g=Ko(h,r,s)*h%s,y=Ko(g,i,s)*g%s,v=Ko(y,i,s)*g%s,w=Ko(v,e,s)*l%s;return{pow_p_5_8:Ko(w,V9,s)*t%s,b2:o}}function wZ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function vZ(t,e){const n=f6,r=ui(e*e*e,n),i=ui(r*r*e,n),s=yZ(t*i).pow_p_5_8;let o=ui(t*r*s,n);const a=ui(e*o*o,n),d=o,l=ui(o*H9,n),f=a===t,h=a===ui(-t,n),g=a===ui(-t*H9,n);return f&&(o=d),(h||g)&&(o=l),eZ(o,n)&&(o=ui(-o,n)),{isValid:f||h,value:o}}const bZ=JP(f6,void 0,!0),CZ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bZ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mZ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zY,randomBytes:HP,adjustScalarBytes:wZ,uvRatio:vZ},tN=hZ(CZ),EZ="EdDSA",AZ="JWT",ty=".",ew="base64url",nN="utf8",rN="utf8",_Z=":",xZ="did",SZ="key",K9="base58btc",IZ="z",TZ="K36",PZ=32;function h6(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function iN(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?h6(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function sN(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=iN(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return h6(n)}function NZ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,d=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var w=0,x=0,k=0,N=v.length;k!==N&&v[k]===0;)k++,w++;for(var R=(N-k)*f+1>>>0,L=new Uint8Array(R);k!==N;){for(var O=v[k],D=0,F=R-1;(O!==0||D<x)&&F!==-1;F--,D++)O+=256*L[F]>>>0,L[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=D,k++}for(var q=R-x;q!==R&&L[q]===0;)q++;for(var $=d.repeat(w);q<R;++q)$+=t.charAt(L[q]);return $}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var w=0;if(v[w]!==" "){for(var x=0,k=0;v[w]===d;)x++,w++;for(var N=(v.length-w)*l+1>>>0,R=new Uint8Array(N);v[w];){var L=n[v.charCodeAt(w)];if(L===255)return;for(var O=0,D=N-1;(L!==0||O<k)&&D!==-1;D--,O++)L+=a*R[D]>>>0,R[D]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");k=O,w++}if(v[w]!==" "){for(var F=N-k;F!==N&&R[F]===0;)F++;for(var q=new Uint8Array(x+(N-F)),$=x;F!==N;)q[$++]=R[F++];return q}}}function y(v){var w=g(v);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:y}}var kZ=NZ,RZ=kZ;const oN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},OZ=t=>new TextEncoder().encode(t),MZ=t=>new TextDecoder().decode(t);let DZ=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},$Z=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return aN(this,e)}},LZ=class{constructor(e){this.decoders=e}or(e){return aN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const aN=(t,e)=>new LZ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let UZ=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new DZ(e,n,r),this.decoder=new $Z(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const tw=({name:t,prefix:e,encode:n,decode:r})=>new UZ(t,e,n,r),r1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=RZ(n,e);return tw({prefix:t,name:e,encode:r,decode:s=>oN(i(s))})},BZ=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,d=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&d>>a)}if(a>=n||255&d<<8-a)throw new SyntaxError("Unexpected end of data");return o},FZ=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let d=0;d<t.length;++d)for(a=a<<8|t[d],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},$i=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>tw({prefix:e,name:t,encode(i){return FZ(i,r,n)},decode(i){return BZ(i,r,n,t)}}),jZ=tw({prefix:"\0",name:"identity",encode:t=>MZ(t),decode:t=>OZ(t)});var zZ=Object.freeze({__proto__:null,identity:jZ});const WZ=$i({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qZ=Object.freeze({__proto__:null,base2:WZ});const HZ=$i({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var VZ=Object.freeze({__proto__:null,base8:HZ});const KZ=r1({prefix:"9",name:"base10",alphabet:"0123456789"});var GZ=Object.freeze({__proto__:null,base10:KZ});const QZ=$i({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YZ=$i({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ZZ=Object.freeze({__proto__:null,base16:QZ,base16upper:YZ});const JZ=$i({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),XZ=$i({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eJ=$i({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tJ=$i({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nJ=$i({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rJ=$i({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iJ=$i({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sJ=$i({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oJ=$i({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var aJ=Object.freeze({__proto__:null,base32:JZ,base32upper:XZ,base32pad:eJ,base32padupper:tJ,base32hex:nJ,base32hexupper:rJ,base32hexpad:iJ,base32hexpadupper:sJ,base32z:oJ});const cJ=r1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lJ=r1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var uJ=Object.freeze({__proto__:null,base36:cJ,base36upper:lJ});const dJ=r1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fJ=r1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hJ=Object.freeze({__proto__:null,base58btc:dJ,base58flickr:fJ});const pJ=$i({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gJ=$i({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mJ=$i({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yJ=$i({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wJ=Object.freeze({__proto__:null,base64:pJ,base64pad:gJ,base64url:mJ,base64urlpad:yJ});const cN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),vJ=cN.reduce((t,e,n)=>(t[n]=e,t),[]),bJ=cN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function CJ(t){return t.reduce((e,n)=>(e+=vJ[n],e),"")}function EJ(t){const e=[];for(const n of t){const r=bJ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const AJ=tw({prefix:"🚀",name:"base256emoji",encode:CJ,decode:EJ});var _J=Object.freeze({__proto__:null,base256emoji:AJ}),xJ=lN,G9=128,SJ=-128,IJ=Math.pow(2,31);function lN(t,e,n){e=e||[],n=n||0;for(var r=n;t>=IJ;)e[n++]=t&255|G9,t/=128;for(;t&SJ;)e[n++]=t&255|G9,t>>>=7;return e[n]=t|0,lN.bytes=n-r+1,e}var TJ=i4,PJ=128,Q9=127;function i4(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw i4.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Q9)<<i:(o&Q9)*Math.pow(2,i),i+=7}while(o>=PJ);return i4.bytes=s-r,n}var NJ=Math.pow(2,7),kJ=Math.pow(2,14),RJ=Math.pow(2,21),OJ=Math.pow(2,28),MJ=Math.pow(2,35),DJ=Math.pow(2,42),$J=Math.pow(2,49),LJ=Math.pow(2,56),UJ=Math.pow(2,63),BJ=function(t){return t<NJ?1:t<kJ?2:t<RJ?3:t<OJ?4:t<MJ?5:t<DJ?6:t<$J?7:t<LJ?8:t<UJ?9:10},FJ={encode:xJ,decode:TJ,encodingLength:BJ},uN=FJ;const Y9=(t,e,n=0)=>(uN.encode(t,e,n),e),Z9=t=>uN.encodingLength(t),s4=(t,e)=>{const n=e.byteLength,r=Z9(t),i=r+Z9(n),s=new Uint8Array(i+n);return Y9(t,s,0),Y9(n,s,r),s.set(e,i),new jJ(t,n,e,s)};let jJ=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const dN=({name:t,code:e,encode:n})=>new zJ(t,e,n);let zJ=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?s4(this.code,n):n.then(r=>s4(this.code,r))}else throw Error("Unknown type, must be binary type")}};const fN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),WJ=dN({name:"sha2-256",code:18,encode:fN("SHA-256")}),qJ=dN({name:"sha2-512",code:19,encode:fN("SHA-512")});var HJ=Object.freeze({__proto__:null,sha256:WJ,sha512:qJ});const hN=0,VJ="identity",pN=oN,KJ=t=>s4(hN,pN(t)),GJ={code:hN,name:VJ,encode:pN,digest:KJ};var QJ=Object.freeze({__proto__:null,identity:GJ});new TextEncoder,new TextDecoder;const J9={...zZ,...qZ,...VZ,...GZ,...ZZ,...aJ,...uJ,...hJ,...wJ,..._J};({...HJ,...QJ});function gN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const X9=gN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),t2=gN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=iN(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),mN={utf8:X9,"utf-8":X9,hex:J9.base16,latin1:t2,ascii:t2,binary:t2,...J9};function nw(t,e="utf8"){const n=mN[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function eh(t,e="utf8"){const n=mN[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?h6(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function e_(t){return Du(nw(eh(t,ew),nN))}function ny(t){return nw(eh(dc(t),nN),ew)}function yN(t){const e=eh(TZ,K9),n=IZ+nw(sN([e,t]),K9);return[xZ,SZ,n].join(_Z)}function YJ(t){return nw(t,ew)}function ZJ(t){return eh(t,ew)}function JJ(t){return eh([ny(t.header),ny(t.payload)].join(ty),rN)}function XJ(t){return[ny(t.header),ny(t.payload),YJ(t.signature)].join(ty)}function o4(t){const e=t.split(ty),n=e_(e[0]),r=e_(e[1]),i=ZJ(e[2]),s=eh(e.slice(0,2).join(ty),rN);return{header:n,payload:r,signature:i,data:s}}function t_(t=HP(PZ)){const e=tN.getPublicKey(t);return{secretKey:sN([t,e]),publicKey:e}}async function eX(t,e,n,r,i=Fe.fromMiliseconds(Date.now())){const s={alg:EZ,typ:AZ},o=yN(r.publicKey),a=i+n,d={iss:o,sub:t,aud:e,iat:i,exp:a},l=JJ({header:s,payload:d}),f=tN.sign(l,r.secretKey.slice(0,32));return XJ({header:s,payload:d,signature:f})}var n_=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},tX=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),nX=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),rX=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),iX=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),sX=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,r_=3,cX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oX]],i_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lX(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new sX:typeof navigator<"u"?dX(navigator.userAgent):hX()}function uX(t){return t!==""&&cX.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function dX(t){var e=uX(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new iX;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<r_&&(i=n_(n_([],i,!0),pX(r_-i.length),!0)):i=[];var s=i.join("."),o=fX(t),a=aX.exec(t);return a&&a[1]?new rX(n,s,o,a[1]):new tX(n,s,o)}function fX(t){for(var e=0,n=i_.length;e<n;e++){var r=i_[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function hX(){var t=typeof process<"u"&&process.version;return t?new nX(process.version.slice(1)):null}function pX(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var ur={},s_;function wN(){if(s_)return ur;s_=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.getLocalStorage=ur.getLocalStorageOrThrow=ur.getCrypto=ur.getCryptoOrThrow=ur.getLocation=ur.getLocationOrThrow=ur.getNavigator=ur.getNavigatorOrThrow=ur.getDocument=ur.getDocumentOrThrow=ur.getFromWindowOrThrow=ur.getFromWindow=void 0;function t(g){let y;return typeof window<"u"&&typeof window[g]<"u"&&(y=window[g]),y}ur.getFromWindow=t;function e(g){const y=t(g);if(!y)throw new Error(`${g} is not defined in Window`);return y}ur.getFromWindowOrThrow=e;function n(){return e("document")}ur.getDocumentOrThrow=n;function r(){return t("document")}ur.getDocument=r;function i(){return e("navigator")}ur.getNavigatorOrThrow=i;function s(){return t("navigator")}ur.getNavigator=s;function o(){return e("location")}ur.getLocationOrThrow=o;function a(){return t("location")}ur.getLocation=a;function d(){return e("crypto")}ur.getCryptoOrThrow=d;function l(){return t("crypto")}ur.getCrypto=l;function f(){return e("localStorage")}ur.getLocalStorageOrThrow=f;function h(){return t("localStorage")}return ur.getLocalStorage=h,ur}var $u=wN(),Vh={},o_;function gX(){if(o_)return Vh;o_=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.getWindowMetadata=void 0;const t=wN();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const y=n.getElementsByTagName("link"),v=[];for(let w=0;w<y.length;w++){const x=y[w],k=x.getAttribute("rel");if(k&&k.toLowerCase().indexOf("icon")>-1){const N=x.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let R=r.protocol+"//"+r.host;if(N.indexOf("/")===0)R+=N;else{const L=r.pathname.split("/");L.pop();const O=L.join("/");R+=O+"/"+N}v.push(R)}else if(N.indexOf("//")===0){const R=r.protocol+N;v.push(R)}else v.push(N)}}return v}function s(...y){const v=n.getElementsByTagName("meta");for(let w=0;w<v.length;w++){const x=v[w],k=["itemprop","property","name"].map(N=>x.getAttribute(N)).filter(N=>N?y.includes(N):!1);if(k.length&&k){const N=x.getAttribute("content");if(N)return N}}return""}function o(){let y=s("name","og:site_name","og:title","twitter:title");return y||(y=n.title),y}function a(){return s("description","og:description","twitter:description","keywords")}const d=o(),l=a(),f=r.origin,h=i();return{description:l,url:f,icons:h,name:d}}return Vh.getWindowMetadata=e,Vh}var mX=gX();function dp(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function a_(t){return dp(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const vN="2.23.2";let Kh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${vN}`};class Lu extends Error{constructor(e,n={}){var a;const r=(()=>{var d;return n.cause instanceof Lu?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),i=n.cause instanceof Lu&&n.cause.docsPath||n.docsPath,s=(a=Kh.getDocsUrl)==null?void 0:a.call(Kh,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Kh.version?[`Version: ${Kh.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=vN}walk(e){return bN(this,e)}}function bN(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?bN(t.cause,e):e?null:t}class CN extends Lu{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function th(t,{dir:e,size:n=32}={}){return typeof t=="string"?yX(t,{dir:e,size:n}):wX(t,{dir:e,size:n})}function yX(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new CN({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function wX(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new CN({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class vX extends Lu{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class bX extends Lu{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function nh(t,{size:e}){if(a_(t)>e)throw new bX({givenSize:a_(t),maxSize:e})}function a4(t,e={}){const{signed:n}=e;e.size&&nh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function CX(t,e={}){return Number(a4(t,e))}const EX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function c4(t,e={}){return typeof t=="number"||typeof t=="bigint"?AN(t,e):typeof t=="string"?xX(t,e):typeof t=="boolean"?AX(t,e):EN(t,e)}function AX(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(nh(n,{size:e.size}),th(n,{size:e.size})):n}function EN(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=EX[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(nh(r,{size:e.size}),th(r,{dir:"right",size:e.size})):r}function AN(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const d=typeof t=="bigint"?"n":"";throw new vX({max:s?`${s}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${t}${d}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?th(a,{size:r}):a}const _X=new TextEncoder;function xX(t,e={}){const n=_X.encode(t);return EN(n,e)}const SX=new TextEncoder;function IX(t,e={}){return typeof t=="number"||typeof t=="bigint"?PX(t,e):typeof t=="boolean"?TX(t,e):dp(t)?_N(t,e):xN(t,e)}function TX(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(nh(n,{size:e.size}),th(n,{size:e.size})):n}const Ba={zero:48,nine:57,A:65,F:70,a:97,f:102};function c_(t){if(t>=Ba.zero&&t<=Ba.nine)return t-Ba.zero;if(t>=Ba.A&&t<=Ba.F)return t-(Ba.A-10);if(t>=Ba.a&&t<=Ba.f)return t-(Ba.a-10)}function _N(t,e={}){let n=t;e.size&&(nh(n,{size:e.size}),n=th(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const d=c_(r.charCodeAt(a++)),l=c_(r.charCodeAt(a++));if(d===void 0||l===void 0)throw new Lu(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=d*16+l}return s}function PX(t,e){const n=AN(t,e);return _N(n)}function xN(t,e={}){const n=SX.encode(t);return typeof e.size=="number"?(nh(n,{size:e.size}),th(n,{dir:"right",size:e.size})):n}function SN(t,e){const n=e||"hex",r=fT(dp(t,{strict:!1})?IX(t):t);return n==="bytes"?r:c4(r)}class NX extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const n2=new NX(8192);function kX(t,e){if(n2.has(`${t}.${e}`))return n2.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=SN(xN(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return n2.set(`${t}.${e}`,s),s}function RX(t){const e=SN(`0x${t.substring(4)}`).substring(26);return kX(`0x${e}`)}async function OX({hash:t,signature:e}){const n=dp(t)?t:c4(t),{secp256k1:r}=await Cs(async()=>{const{secp256k1:o}=await import("./secp256k1-CUQdHBxp.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:f,v:h,yParity:g}=e,y=Number(g??h),v=l_(y);return new r.Signature(a4(l),a4(f)).addRecoveryBit(v)}const o=dp(e)?e:c4(e),a=CX(`0x${o.slice(130)}`),d=l_(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function l_(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function MX({hash:t,signature:e}){return RX(await OX({hash:t,signature:e}))}function DX(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const f=t.charAt(l),h=f.charCodeAt(0);if(e[h]!==255)throw new TypeError(f+" is ambiguous");e[h]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let f=0,h=0,g=0;const y=l.length;for(;g!==y&&l[g]===0;)g++,f++;const v=(y-g)*s+1>>>0,w=new Uint8Array(v);for(;g!==y;){let N=l[g],R=0;for(let L=v-1;(N!==0||R<h)&&L!==-1;L--,R++)N+=256*w[L]>>>0,w[L]=N%n>>>0,N=N/n>>>0;if(N!==0)throw new Error("Non-zero carry");h=R,g++}let x=v-h;for(;x!==v&&w[x]===0;)x++;let k=r.repeat(f);for(;x<v;++x)k+=t.charAt(w[x]);return k}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let f=0,h=0,g=0;for(;l[f]===r;)h++,f++;const y=(l.length-f)*i+1>>>0,v=new Uint8Array(y);for(;f<l.length;){const N=l.charCodeAt(f);if(N>255)return;let R=e[N];if(R===255)return;let L=0;for(let O=y-1;(R!==0||L<g)&&O!==-1;O--,L++)R+=n*v[O]>>>0,v[O]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");g=L,f++}let w=y-g;for(;w!==y&&v[w]===0;)w++;const x=new Uint8Array(h+(y-w));let k=h;for(;w!==y;)x[k++]=v[w++];return x}function d(l){const f=a(l);if(f)return f;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:d}}var $X="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const IN=DX($X);function TN(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function r2(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=TN(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function LX(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,d=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var w=0,x=0,k=0,N=v.length;k!==N&&v[k]===0;)k++,w++;for(var R=(N-k)*f+1>>>0,L=new Uint8Array(R);k!==N;){for(var O=v[k],D=0,F=R-1;(O!==0||D<x)&&F!==-1;F--,D++)O+=256*L[F]>>>0,L[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=D,k++}for(var q=R-x;q!==R&&L[q]===0;)q++;for(var $=d.repeat(w);q<R;++q)$+=t.charAt(L[q]);return $}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var w=0;if(v[w]!==" "){for(var x=0,k=0;v[w]===d;)x++,w++;for(var N=(v.length-w)*l+1>>>0,R=new Uint8Array(N);v[w];){var L=n[v.charCodeAt(w)];if(L===255)return;for(var O=0,D=N-1;(L!==0||O<k)&&D!==-1;D--,O++)L+=a*R[D]>>>0,R[D]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");k=O,w++}if(v[w]!==" "){for(var F=N-k;F!==N&&R[F]===0;)F++;for(var q=new Uint8Array(x+(N-F)),$=x;F!==N;)q[$++]=R[F++];return q}}}function y(v){var w=g(v);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:y}}var UX=LX,BX=UX;const FX=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jX=t=>new TextEncoder().encode(t),zX=t=>new TextDecoder().decode(t);class WX{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qX{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return PN(this,e)}}class HX{constructor(e){this.decoders=e}or(e){return PN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const PN=(t,e)=>new HX({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class VX{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new WX(e,n,r),this.decoder=new qX(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rw=({name:t,prefix:e,encode:n,decode:r})=>new VX(t,e,n,r),i1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=BX(n,e);return rw({prefix:t,name:e,encode:r,decode:s=>FX(i(s))})},KX=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,d=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&d>>a)}if(a>=n||255&d<<8-a)throw new SyntaxError("Unexpected end of data");return o},GX=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let d=0;d<t.length;++d)for(a=a<<8|t[d],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Li=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>rw({prefix:e,name:t,encode(i){return GX(i,r,n)},decode(i){return KX(i,r,n,t)}}),QX=rw({prefix:"\0",name:"identity",encode:t=>zX(t),decode:t=>jX(t)}),YX=Object.freeze(Object.defineProperty({__proto__:null,identity:QX},Symbol.toStringTag,{value:"Module"})),ZX=Li({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),JX=Object.freeze(Object.defineProperty({__proto__:null,base2:ZX},Symbol.toStringTag,{value:"Module"})),XX=Li({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eee=Object.freeze(Object.defineProperty({__proto__:null,base8:XX},Symbol.toStringTag,{value:"Module"})),tee=i1({prefix:"9",name:"base10",alphabet:"0123456789"}),nee=Object.freeze(Object.defineProperty({__proto__:null,base10:tee},Symbol.toStringTag,{value:"Module"})),ree=Li({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iee=Li({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),see=Object.freeze(Object.defineProperty({__proto__:null,base16:ree,base16upper:iee},Symbol.toStringTag,{value:"Module"})),oee=Li({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aee=Li({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cee=Li({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lee=Li({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uee=Li({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dee=Li({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fee=Li({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hee=Li({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pee=Li({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gee=Object.freeze(Object.defineProperty({__proto__:null,base32:oee,base32hex:uee,base32hexpad:fee,base32hexpadupper:hee,base32hexupper:dee,base32pad:cee,base32padupper:lee,base32upper:aee,base32z:pee},Symbol.toStringTag,{value:"Module"})),mee=i1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yee=i1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wee=Object.freeze(Object.defineProperty({__proto__:null,base36:mee,base36upper:yee},Symbol.toStringTag,{value:"Module"})),vee=i1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bee=i1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Cee=Object.freeze(Object.defineProperty({__proto__:null,base58btc:vee,base58flickr:bee},Symbol.toStringTag,{value:"Module"})),Eee=Li({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Aee=Li({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_ee=Li({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xee=Li({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),See=Object.freeze(Object.defineProperty({__proto__:null,base64:Eee,base64pad:Aee,base64url:_ee,base64urlpad:xee},Symbol.toStringTag,{value:"Module"})),NN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Iee=NN.reduce((t,e,n)=>(t[n]=e,t),[]),Tee=NN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Pee(t){return t.reduce((e,n)=>(e+=Iee[n],e),"")}function Nee(t){const e=[];for(const n of t){const r=Tee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const kee=rw({prefix:"🚀",name:"base256emoji",encode:Pee,decode:Nee}),Ree=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:kee},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const u_={...YX,...JX,...eee,...nee,...see,...gee,...wee,...Cee,...See,...Ree};function kN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const d_=kN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),i2=kN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=TN(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),RN={utf8:d_,"utf-8":d_,hex:u_.base16,latin1:i2,ascii:i2,binary:i2,...u_};function io(t,e="utf8"){const n=RN[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function is(t,e="utf8"){const n=RN[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var s2={};const Oee="6.6.1",Mee={version:Oee};var o2={},fm={exports:{}},Dee=fm.exports,f_;function wc(){return f_||(f_=1,function(t){(function(e,n){function r(P,m){if(!P)throw new Error(m||"Assertion failed")}function i(P,m){P.super_=m;var C=function(){};C.prototype=m.prototype,P.prototype=new C,P.prototype.constructor=P}function s(P,m,C){if(s.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((m==="le"||m==="be")&&(C=m,m=10),this._init(P||0,m||10,C||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=J4.Buffer}catch{}s.isBN=function(m){return m instanceof s?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===s.wordSize&&Array.isArray(m.words)},s.max=function(m,C){return m.cmp(C)>0?m:C},s.min=function(m,C){return m.cmp(C)<0?m:C},s.prototype._init=function(m,C,S){if(typeof m=="number")return this._initNumber(m,C,S);if(typeof m=="object")return this._initArray(m,C,S);C==="hex"&&(C=16),r(C===(C|0)&&C>=2&&C<=36),m=m.toString().replace(/\s+/g,"");var _=0;m[0]==="-"&&(_++,this.negative=1),_<m.length&&(C===16?this._parseHex(m,_,S):(this._parseBase(m,C,_),S==="le"&&this._initArray(this.toArray(),C,S)))},s.prototype._initNumber=function(m,C,S){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),C,S)},s.prototype._initArray=function(m,C,S){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I,j,W=0;if(S==="be")for(_=m.length-1,I=0;_>=0;_-=3)j=m[_]|m[_-1]<<8|m[_-2]<<16,this.words[I]|=j<<W&67108863,this.words[I+1]=j>>>26-W&67108863,W+=24,W>=26&&(W-=26,I++);else if(S==="le")for(_=0,I=0;_<m.length;_+=3)j=m[_]|m[_+1]<<8|m[_+2]<<16,this.words[I]|=j<<W&67108863,this.words[I+1]=j>>>26-W&67108863,W+=24,W>=26&&(W-=26,I++);return this.strip()};function a(P,m){var C=P.charCodeAt(m);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function d(P,m,C){var S=a(P,C);return C-1>=m&&(S|=a(P,C-1)<<4),S}s.prototype._parseHex=function(m,C,S){this.length=Math.ceil((m.length-C)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I=0,j=0,W;if(S==="be")for(_=m.length-1;_>=C;_-=2)W=d(m,C,_)<<I,this.words[j]|=W&67108863,I>=18?(I-=18,j+=1,this.words[j]|=W>>>26):I+=8;else{var B=m.length-C;for(_=B%2===0?C+1:C;_<m.length;_+=2)W=d(m,C,_)<<I,this.words[j]|=W&67108863,I>=18?(I-=18,j+=1,this.words[j]|=W>>>26):I+=8}this.strip()};function l(P,m,C,S){for(var _=0,I=Math.min(P.length,C),j=m;j<I;j++){var W=P.charCodeAt(j)-48;_*=S,W>=49?_+=W-49+10:W>=17?_+=W-17+10:_+=W}return _}s.prototype._parseBase=function(m,C,S){this.words=[0],this.length=1;for(var _=0,I=1;I<=67108863;I*=C)_++;_--,I=I/C|0;for(var j=m.length-S,W=j%_,B=Math.min(j,j-W)+S,E=0,U=S;U<B;U+=_)E=l(m,U,U+_,C),this.imuln(I),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(W!==0){var J=1;for(E=l(m,U,m.length,C),U=0;U<W;U++)J*=C;this.imuln(J),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this.strip()},s.prototype.copy=function(m){m.words=new Array(this.length);for(var C=0;C<this.length;C++)m.words[C]=this.words[C];m.length=this.length,m.negative=this.negative,m.red=this.red},s.prototype.clone=function(){var m=new s(null);return this.copy(m),m},s.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(m,C){m=m||10,C=C|0||1;var S;if(m===16||m==="hex"){S="";for(var _=0,I=0,j=0;j<this.length;j++){var W=this.words[j],B=((W<<_|I)&16777215).toString(16);I=W>>>24-_&16777215,_+=2,_>=26&&(_-=26,j--),I!==0||j!==this.length-1?S=f[6-B.length]+B+S:S=B+S}for(I!==0&&(S=I.toString(16)+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(m===(m|0)&&m>=2&&m<=36){var E=h[m],U=g[m];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var ie=J.modn(U).toString(m);J=J.idivn(U),J.isZero()?S=ie+S:S=f[E-ie.length]+ie+S}for(this.isZero()&&(S="0"+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(m,C){return r(typeof o<"u"),this.toArrayLike(o,m,C)},s.prototype.toArray=function(m,C){return this.toArrayLike(Array,m,C)},s.prototype.toArrayLike=function(m,C,S){var _=this.byteLength(),I=S||Math.max(1,_);r(_<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0"),this.strip();var j=C==="le",W=new m(I),B,E,U=this.clone();if(j){for(E=0;!U.isZero();E++)B=U.andln(255),U.iushrn(8),W[E]=B;for(;E<I;E++)W[E]=0}else{for(E=0;E<I-_;E++)W[E]=0;for(E=0;!U.isZero();E++)B=U.andln(255),U.iushrn(8),W[I-E-1]=B}return W},Math.clz32?s.prototype._countBits=function(m){return 32-Math.clz32(m)}:s.prototype._countBits=function(m){var C=m,S=0;return C>=4096&&(S+=13,C>>>=13),C>=64&&(S+=7,C>>>=7),C>=8&&(S+=4,C>>>=4),C>=2&&(S+=2,C>>>=2),S+C},s.prototype._zeroBits=function(m){if(m===0)return 26;var C=m,S=0;return(C&8191)===0&&(S+=13,C>>>=13),(C&127)===0&&(S+=7,C>>>=7),(C&15)===0&&(S+=4,C>>>=4),(C&3)===0&&(S+=2,C>>>=2),(C&1)===0&&S++,S},s.prototype.bitLength=function(){var m=this.words[this.length-1],C=this._countBits(m);return(this.length-1)*26+C};function y(P){for(var m=new Array(P.bitLength()),C=0;C<m.length;C++){var S=C/26|0,_=C%26;m[C]=(P.words[S]&1<<_)>>>_}return m}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,C=0;C<this.length;C++){var S=this._zeroBits(this.words[C]);if(m+=S,S!==26)break}return m},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},s.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var C=0;C<m.length;C++)this.words[C]=this.words[C]|m.words[C];return this.strip()},s.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},s.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},s.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},s.prototype.iuand=function(m){var C;this.length>m.length?C=m:C=this;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]&m.words[S];return this.length=C.length,this.strip()},s.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},s.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},s.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},s.prototype.iuxor=function(m){var C,S;this.length>m.length?(C=this,S=m):(C=m,S=this);for(var _=0;_<S.length;_++)this.words[_]=C.words[_]^S.words[_];if(this!==C)for(;_<C.length;_++)this.words[_]=C.words[_];return this.length=C.length,this.strip()},s.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},s.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},s.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},s.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var C=Math.ceil(m/26)|0,S=m%26;this._expand(C),S>0&&C--;for(var _=0;_<C;_++)this.words[_]=~this.words[_]&67108863;return S>0&&(this.words[_]=~this.words[_]&67108863>>26-S),this.strip()},s.prototype.notn=function(m){return this.clone().inotn(m)},s.prototype.setn=function(m,C){r(typeof m=="number"&&m>=0);var S=m/26|0,_=m%26;return this._expand(S+1),C?this.words[S]=this.words[S]|1<<_:this.words[S]=this.words[S]&~(1<<_),this.strip()},s.prototype.iadd=function(m){var C;if(this.negative!==0&&m.negative===0)return this.negative=0,C=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,C=this.isub(m),m.negative=1,C._normSign();var S,_;this.length>m.length?(S=this,_=m):(S=m,_=this);for(var I=0,j=0;j<_.length;j++)C=(S.words[j]|0)+(_.words[j]|0)+I,this.words[j]=C&67108863,I=C>>>26;for(;I!==0&&j<S.length;j++)C=(S.words[j]|0)+I,this.words[j]=C&67108863,I=C>>>26;if(this.length=S.length,I!==0)this.words[this.length]=I,this.length++;else if(S!==this)for(;j<S.length;j++)this.words[j]=S.words[j];return this},s.prototype.add=function(m){var C;return m.negative!==0&&this.negative===0?(m.negative=0,C=this.sub(m),m.negative^=1,C):m.negative===0&&this.negative!==0?(this.negative=0,C=m.sub(this),this.negative=1,C):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},s.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var C=this.iadd(m);return m.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var S=this.cmp(m);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,I;S>0?(_=this,I=m):(_=m,I=this);for(var j=0,W=0;W<I.length;W++)C=(_.words[W]|0)-(I.words[W]|0)+j,j=C>>26,this.words[W]=C&67108863;for(;j!==0&&W<_.length;W++)C=(_.words[W]|0)+j,j=C>>26,this.words[W]=C&67108863;if(j===0&&W<_.length&&_!==this)for(;W<_.length;W++)this.words[W]=_.words[W];return this.length=Math.max(this.length,W),_!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(m){return this.clone().isub(m)};function v(P,m,C){C.negative=m.negative^P.negative;var S=P.length+m.length|0;C.length=S,S=S-1|0;var _=P.words[0]|0,I=m.words[0]|0,j=_*I,W=j&67108863,B=j/67108864|0;C.words[0]=W;for(var E=1;E<S;E++){for(var U=B>>>26,J=B&67108863,ie=Math.min(E,m.length-1),ce=Math.max(0,E-P.length+1);ce<=ie;ce++){var ue=E-ce|0;_=P.words[ue]|0,I=m.words[ce]|0,j=_*I+J,U+=j/67108864|0,J=j&67108863}C.words[E]=J|0,B=U|0}return B!==0?C.words[E]=B|0:C.length--,C.strip()}var w=function(m,C,S){var _=m.words,I=C.words,j=S.words,W=0,B,E,U,J=_[0]|0,ie=J&8191,ce=J>>>13,ue=_[1]|0,Ae=ue&8191,$e=ue>>>13,le=_[2]|0,re=le&8191,ae=le>>>13,Ce=_[3]|0,we=Ce&8191,Se=Ce>>>13,Ze=_[4]|0,Me=Ze&8191,wt=Ze>>>13,en=_[5]|0,je=en&8191,At=en>>>13,Nn=_[6]|0,Zt=Nn&8191,on=Nn>>>13,qn=_[7]|0,Ft=qn&8191,Kt=qn>>>13,Pt=_[8]|0,dt=Pt&8191,Ke=Pt>>>13,bn=_[9]|0,an=bn&8191,tn=bn>>>13,fn=I[0]|0,Ge=fn&8191,cn=fn>>>13,Zi=I[1]|0,On=Zi&8191,Yn=Zi>>>13,zs=I[2]|0,Hn=zs&8191,ir=zs>>>13,Ws=I[3]|0,Zn=Ws&8191,Cr=Ws>>>13,Ji=I[4]|0,jn=Ji&8191,Vn=Ji>>>13,Sa=I[5]|0,sr=Sa&8191,pr=Sa>>>13,jo=I[6]|0,pn=jo&8191,Jn=jo>>>13,z=I[7]|0,G=z&8191,K=z>>>13,T=I[8]|0,Y=T&8191,se=T>>>13,de=I[9]|0,be=de&8191,_e=de>>>13;S.negative=m.negative^C.negative,S.length=19,B=Math.imul(ie,Ge),E=Math.imul(ie,cn),E=E+Math.imul(ce,Ge)|0,U=Math.imul(ce,cn);var it=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(it>>>26)|0,it&=67108863,B=Math.imul(Ae,Ge),E=Math.imul(Ae,cn),E=E+Math.imul($e,Ge)|0,U=Math.imul($e,cn),B=B+Math.imul(ie,On)|0,E=E+Math.imul(ie,Yn)|0,E=E+Math.imul(ce,On)|0,U=U+Math.imul(ce,Yn)|0;var He=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(He>>>26)|0,He&=67108863,B=Math.imul(re,Ge),E=Math.imul(re,cn),E=E+Math.imul(ae,Ge)|0,U=Math.imul(ae,cn),B=B+Math.imul(Ae,On)|0,E=E+Math.imul(Ae,Yn)|0,E=E+Math.imul($e,On)|0,U=U+Math.imul($e,Yn)|0,B=B+Math.imul(ie,Hn)|0,E=E+Math.imul(ie,ir)|0,E=E+Math.imul(ce,Hn)|0,U=U+Math.imul(ce,ir)|0;var hn=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(hn>>>26)|0,hn&=67108863,B=Math.imul(we,Ge),E=Math.imul(we,cn),E=E+Math.imul(Se,Ge)|0,U=Math.imul(Se,cn),B=B+Math.imul(re,On)|0,E=E+Math.imul(re,Yn)|0,E=E+Math.imul(ae,On)|0,U=U+Math.imul(ae,Yn)|0,B=B+Math.imul(Ae,Hn)|0,E=E+Math.imul(Ae,ir)|0,E=E+Math.imul($e,Hn)|0,U=U+Math.imul($e,ir)|0,B=B+Math.imul(ie,Zn)|0,E=E+Math.imul(ie,Cr)|0,E=E+Math.imul(ce,Zn)|0,U=U+Math.imul(ce,Cr)|0;var Qe=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,B=Math.imul(Me,Ge),E=Math.imul(Me,cn),E=E+Math.imul(wt,Ge)|0,U=Math.imul(wt,cn),B=B+Math.imul(we,On)|0,E=E+Math.imul(we,Yn)|0,E=E+Math.imul(Se,On)|0,U=U+Math.imul(Se,Yn)|0,B=B+Math.imul(re,Hn)|0,E=E+Math.imul(re,ir)|0,E=E+Math.imul(ae,Hn)|0,U=U+Math.imul(ae,ir)|0,B=B+Math.imul(Ae,Zn)|0,E=E+Math.imul(Ae,Cr)|0,E=E+Math.imul($e,Zn)|0,U=U+Math.imul($e,Cr)|0,B=B+Math.imul(ie,jn)|0,E=E+Math.imul(ie,Vn)|0,E=E+Math.imul(ce,jn)|0,U=U+Math.imul(ce,Vn)|0;var xt=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,B=Math.imul(je,Ge),E=Math.imul(je,cn),E=E+Math.imul(At,Ge)|0,U=Math.imul(At,cn),B=B+Math.imul(Me,On)|0,E=E+Math.imul(Me,Yn)|0,E=E+Math.imul(wt,On)|0,U=U+Math.imul(wt,Yn)|0,B=B+Math.imul(we,Hn)|0,E=E+Math.imul(we,ir)|0,E=E+Math.imul(Se,Hn)|0,U=U+Math.imul(Se,ir)|0,B=B+Math.imul(re,Zn)|0,E=E+Math.imul(re,Cr)|0,E=E+Math.imul(ae,Zn)|0,U=U+Math.imul(ae,Cr)|0,B=B+Math.imul(Ae,jn)|0,E=E+Math.imul(Ae,Vn)|0,E=E+Math.imul($e,jn)|0,U=U+Math.imul($e,Vn)|0,B=B+Math.imul(ie,sr)|0,E=E+Math.imul(ie,pr)|0,E=E+Math.imul(ce,sr)|0,U=U+Math.imul(ce,pr)|0;var St=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(St>>>26)|0,St&=67108863,B=Math.imul(Zt,Ge),E=Math.imul(Zt,cn),E=E+Math.imul(on,Ge)|0,U=Math.imul(on,cn),B=B+Math.imul(je,On)|0,E=E+Math.imul(je,Yn)|0,E=E+Math.imul(At,On)|0,U=U+Math.imul(At,Yn)|0,B=B+Math.imul(Me,Hn)|0,E=E+Math.imul(Me,ir)|0,E=E+Math.imul(wt,Hn)|0,U=U+Math.imul(wt,ir)|0,B=B+Math.imul(we,Zn)|0,E=E+Math.imul(we,Cr)|0,E=E+Math.imul(Se,Zn)|0,U=U+Math.imul(Se,Cr)|0,B=B+Math.imul(re,jn)|0,E=E+Math.imul(re,Vn)|0,E=E+Math.imul(ae,jn)|0,U=U+Math.imul(ae,Vn)|0,B=B+Math.imul(Ae,sr)|0,E=E+Math.imul(Ae,pr)|0,E=E+Math.imul($e,sr)|0,U=U+Math.imul($e,pr)|0,B=B+Math.imul(ie,pn)|0,E=E+Math.imul(ie,Jn)|0,E=E+Math.imul(ce,pn)|0,U=U+Math.imul(ce,Jn)|0;var Lt=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,B=Math.imul(Ft,Ge),E=Math.imul(Ft,cn),E=E+Math.imul(Kt,Ge)|0,U=Math.imul(Kt,cn),B=B+Math.imul(Zt,On)|0,E=E+Math.imul(Zt,Yn)|0,E=E+Math.imul(on,On)|0,U=U+Math.imul(on,Yn)|0,B=B+Math.imul(je,Hn)|0,E=E+Math.imul(je,ir)|0,E=E+Math.imul(At,Hn)|0,U=U+Math.imul(At,ir)|0,B=B+Math.imul(Me,Zn)|0,E=E+Math.imul(Me,Cr)|0,E=E+Math.imul(wt,Zn)|0,U=U+Math.imul(wt,Cr)|0,B=B+Math.imul(we,jn)|0,E=E+Math.imul(we,Vn)|0,E=E+Math.imul(Se,jn)|0,U=U+Math.imul(Se,Vn)|0,B=B+Math.imul(re,sr)|0,E=E+Math.imul(re,pr)|0,E=E+Math.imul(ae,sr)|0,U=U+Math.imul(ae,pr)|0,B=B+Math.imul(Ae,pn)|0,E=E+Math.imul(Ae,Jn)|0,E=E+Math.imul($e,pn)|0,U=U+Math.imul($e,Jn)|0,B=B+Math.imul(ie,G)|0,E=E+Math.imul(ie,K)|0,E=E+Math.imul(ce,G)|0,U=U+Math.imul(ce,K)|0;var Ut=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,B=Math.imul(dt,Ge),E=Math.imul(dt,cn),E=E+Math.imul(Ke,Ge)|0,U=Math.imul(Ke,cn),B=B+Math.imul(Ft,On)|0,E=E+Math.imul(Ft,Yn)|0,E=E+Math.imul(Kt,On)|0,U=U+Math.imul(Kt,Yn)|0,B=B+Math.imul(Zt,Hn)|0,E=E+Math.imul(Zt,ir)|0,E=E+Math.imul(on,Hn)|0,U=U+Math.imul(on,ir)|0,B=B+Math.imul(je,Zn)|0,E=E+Math.imul(je,Cr)|0,E=E+Math.imul(At,Zn)|0,U=U+Math.imul(At,Cr)|0,B=B+Math.imul(Me,jn)|0,E=E+Math.imul(Me,Vn)|0,E=E+Math.imul(wt,jn)|0,U=U+Math.imul(wt,Vn)|0,B=B+Math.imul(we,sr)|0,E=E+Math.imul(we,pr)|0,E=E+Math.imul(Se,sr)|0,U=U+Math.imul(Se,pr)|0,B=B+Math.imul(re,pn)|0,E=E+Math.imul(re,Jn)|0,E=E+Math.imul(ae,pn)|0,U=U+Math.imul(ae,Jn)|0,B=B+Math.imul(Ae,G)|0,E=E+Math.imul(Ae,K)|0,E=E+Math.imul($e,G)|0,U=U+Math.imul($e,K)|0,B=B+Math.imul(ie,Y)|0,E=E+Math.imul(ie,se)|0,E=E+Math.imul(ce,Y)|0,U=U+Math.imul(ce,se)|0;var Nt=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,B=Math.imul(an,Ge),E=Math.imul(an,cn),E=E+Math.imul(tn,Ge)|0,U=Math.imul(tn,cn),B=B+Math.imul(dt,On)|0,E=E+Math.imul(dt,Yn)|0,E=E+Math.imul(Ke,On)|0,U=U+Math.imul(Ke,Yn)|0,B=B+Math.imul(Ft,Hn)|0,E=E+Math.imul(Ft,ir)|0,E=E+Math.imul(Kt,Hn)|0,U=U+Math.imul(Kt,ir)|0,B=B+Math.imul(Zt,Zn)|0,E=E+Math.imul(Zt,Cr)|0,E=E+Math.imul(on,Zn)|0,U=U+Math.imul(on,Cr)|0,B=B+Math.imul(je,jn)|0,E=E+Math.imul(je,Vn)|0,E=E+Math.imul(At,jn)|0,U=U+Math.imul(At,Vn)|0,B=B+Math.imul(Me,sr)|0,E=E+Math.imul(Me,pr)|0,E=E+Math.imul(wt,sr)|0,U=U+Math.imul(wt,pr)|0,B=B+Math.imul(we,pn)|0,E=E+Math.imul(we,Jn)|0,E=E+Math.imul(Se,pn)|0,U=U+Math.imul(Se,Jn)|0,B=B+Math.imul(re,G)|0,E=E+Math.imul(re,K)|0,E=E+Math.imul(ae,G)|0,U=U+Math.imul(ae,K)|0,B=B+Math.imul(Ae,Y)|0,E=E+Math.imul(Ae,se)|0,E=E+Math.imul($e,Y)|0,U=U+Math.imul($e,se)|0,B=B+Math.imul(ie,be)|0,E=E+Math.imul(ie,_e)|0,E=E+Math.imul(ce,be)|0,U=U+Math.imul(ce,_e)|0;var Xe=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,B=Math.imul(an,On),E=Math.imul(an,Yn),E=E+Math.imul(tn,On)|0,U=Math.imul(tn,Yn),B=B+Math.imul(dt,Hn)|0,E=E+Math.imul(dt,ir)|0,E=E+Math.imul(Ke,Hn)|0,U=U+Math.imul(Ke,ir)|0,B=B+Math.imul(Ft,Zn)|0,E=E+Math.imul(Ft,Cr)|0,E=E+Math.imul(Kt,Zn)|0,U=U+Math.imul(Kt,Cr)|0,B=B+Math.imul(Zt,jn)|0,E=E+Math.imul(Zt,Vn)|0,E=E+Math.imul(on,jn)|0,U=U+Math.imul(on,Vn)|0,B=B+Math.imul(je,sr)|0,E=E+Math.imul(je,pr)|0,E=E+Math.imul(At,sr)|0,U=U+Math.imul(At,pr)|0,B=B+Math.imul(Me,pn)|0,E=E+Math.imul(Me,Jn)|0,E=E+Math.imul(wt,pn)|0,U=U+Math.imul(wt,Jn)|0,B=B+Math.imul(we,G)|0,E=E+Math.imul(we,K)|0,E=E+Math.imul(Se,G)|0,U=U+Math.imul(Se,K)|0,B=B+Math.imul(re,Y)|0,E=E+Math.imul(re,se)|0,E=E+Math.imul(ae,Y)|0,U=U+Math.imul(ae,se)|0,B=B+Math.imul(Ae,be)|0,E=E+Math.imul(Ae,_e)|0,E=E+Math.imul($e,be)|0,U=U+Math.imul($e,_e)|0;var kt=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(kt>>>26)|0,kt&=67108863,B=Math.imul(an,Hn),E=Math.imul(an,ir),E=E+Math.imul(tn,Hn)|0,U=Math.imul(tn,ir),B=B+Math.imul(dt,Zn)|0,E=E+Math.imul(dt,Cr)|0,E=E+Math.imul(Ke,Zn)|0,U=U+Math.imul(Ke,Cr)|0,B=B+Math.imul(Ft,jn)|0,E=E+Math.imul(Ft,Vn)|0,E=E+Math.imul(Kt,jn)|0,U=U+Math.imul(Kt,Vn)|0,B=B+Math.imul(Zt,sr)|0,E=E+Math.imul(Zt,pr)|0,E=E+Math.imul(on,sr)|0,U=U+Math.imul(on,pr)|0,B=B+Math.imul(je,pn)|0,E=E+Math.imul(je,Jn)|0,E=E+Math.imul(At,pn)|0,U=U+Math.imul(At,Jn)|0,B=B+Math.imul(Me,G)|0,E=E+Math.imul(Me,K)|0,E=E+Math.imul(wt,G)|0,U=U+Math.imul(wt,K)|0,B=B+Math.imul(we,Y)|0,E=E+Math.imul(we,se)|0,E=E+Math.imul(Se,Y)|0,U=U+Math.imul(Se,se)|0,B=B+Math.imul(re,be)|0,E=E+Math.imul(re,_e)|0,E=E+Math.imul(ae,be)|0,U=U+Math.imul(ae,_e)|0;var Je=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Je>>>26)|0,Je&=67108863,B=Math.imul(an,Zn),E=Math.imul(an,Cr),E=E+Math.imul(tn,Zn)|0,U=Math.imul(tn,Cr),B=B+Math.imul(dt,jn)|0,E=E+Math.imul(dt,Vn)|0,E=E+Math.imul(Ke,jn)|0,U=U+Math.imul(Ke,Vn)|0,B=B+Math.imul(Ft,sr)|0,E=E+Math.imul(Ft,pr)|0,E=E+Math.imul(Kt,sr)|0,U=U+Math.imul(Kt,pr)|0,B=B+Math.imul(Zt,pn)|0,E=E+Math.imul(Zt,Jn)|0,E=E+Math.imul(on,pn)|0,U=U+Math.imul(on,Jn)|0,B=B+Math.imul(je,G)|0,E=E+Math.imul(je,K)|0,E=E+Math.imul(At,G)|0,U=U+Math.imul(At,K)|0,B=B+Math.imul(Me,Y)|0,E=E+Math.imul(Me,se)|0,E=E+Math.imul(wt,Y)|0,U=U+Math.imul(wt,se)|0,B=B+Math.imul(we,be)|0,E=E+Math.imul(we,_e)|0,E=E+Math.imul(Se,be)|0,U=U+Math.imul(Se,_e)|0;var ht=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,B=Math.imul(an,jn),E=Math.imul(an,Vn),E=E+Math.imul(tn,jn)|0,U=Math.imul(tn,Vn),B=B+Math.imul(dt,sr)|0,E=E+Math.imul(dt,pr)|0,E=E+Math.imul(Ke,sr)|0,U=U+Math.imul(Ke,pr)|0,B=B+Math.imul(Ft,pn)|0,E=E+Math.imul(Ft,Jn)|0,E=E+Math.imul(Kt,pn)|0,U=U+Math.imul(Kt,Jn)|0,B=B+Math.imul(Zt,G)|0,E=E+Math.imul(Zt,K)|0,E=E+Math.imul(on,G)|0,U=U+Math.imul(on,K)|0,B=B+Math.imul(je,Y)|0,E=E+Math.imul(je,se)|0,E=E+Math.imul(At,Y)|0,U=U+Math.imul(At,se)|0,B=B+Math.imul(Me,be)|0,E=E+Math.imul(Me,_e)|0,E=E+Math.imul(wt,be)|0,U=U+Math.imul(wt,_e)|0;var Ve=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,B=Math.imul(an,sr),E=Math.imul(an,pr),E=E+Math.imul(tn,sr)|0,U=Math.imul(tn,pr),B=B+Math.imul(dt,pn)|0,E=E+Math.imul(dt,Jn)|0,E=E+Math.imul(Ke,pn)|0,U=U+Math.imul(Ke,Jn)|0,B=B+Math.imul(Ft,G)|0,E=E+Math.imul(Ft,K)|0,E=E+Math.imul(Kt,G)|0,U=U+Math.imul(Kt,K)|0,B=B+Math.imul(Zt,Y)|0,E=E+Math.imul(Zt,se)|0,E=E+Math.imul(on,Y)|0,U=U+Math.imul(on,se)|0,B=B+Math.imul(je,be)|0,E=E+Math.imul(je,_e)|0,E=E+Math.imul(At,be)|0,U=U+Math.imul(At,_e)|0;var et=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(et>>>26)|0,et&=67108863,B=Math.imul(an,pn),E=Math.imul(an,Jn),E=E+Math.imul(tn,pn)|0,U=Math.imul(tn,Jn),B=B+Math.imul(dt,G)|0,E=E+Math.imul(dt,K)|0,E=E+Math.imul(Ke,G)|0,U=U+Math.imul(Ke,K)|0,B=B+Math.imul(Ft,Y)|0,E=E+Math.imul(Ft,se)|0,E=E+Math.imul(Kt,Y)|0,U=U+Math.imul(Kt,se)|0,B=B+Math.imul(Zt,be)|0,E=E+Math.imul(Zt,_e)|0,E=E+Math.imul(on,be)|0,U=U+Math.imul(on,_e)|0;var nt=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(nt>>>26)|0,nt&=67108863,B=Math.imul(an,G),E=Math.imul(an,K),E=E+Math.imul(tn,G)|0,U=Math.imul(tn,K),B=B+Math.imul(dt,Y)|0,E=E+Math.imul(dt,se)|0,E=E+Math.imul(Ke,Y)|0,U=U+Math.imul(Ke,se)|0,B=B+Math.imul(Ft,be)|0,E=E+Math.imul(Ft,_e)|0,E=E+Math.imul(Kt,be)|0,U=U+Math.imul(Kt,_e)|0;var ze=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(ze>>>26)|0,ze&=67108863,B=Math.imul(an,Y),E=Math.imul(an,se),E=E+Math.imul(tn,Y)|0,U=Math.imul(tn,se),B=B+Math.imul(dt,be)|0,E=E+Math.imul(dt,_e)|0,E=E+Math.imul(Ke,be)|0,U=U+Math.imul(Ke,_e)|0;var ge=(W+B|0)+((E&8191)<<13)|0;W=(U+(E>>>13)|0)+(ge>>>26)|0,ge&=67108863,B=Math.imul(an,be),E=Math.imul(an,_e),E=E+Math.imul(tn,be)|0,U=Math.imul(tn,_e);var ye=(W+B|0)+((E&8191)<<13)|0;return W=(U+(E>>>13)|0)+(ye>>>26)|0,ye&=67108863,j[0]=it,j[1]=He,j[2]=hn,j[3]=Qe,j[4]=xt,j[5]=St,j[6]=Lt,j[7]=Ut,j[8]=Nt,j[9]=Xe,j[10]=kt,j[11]=Je,j[12]=ht,j[13]=Ve,j[14]=et,j[15]=nt,j[16]=ze,j[17]=ge,j[18]=ye,W!==0&&(j[19]=W,S.length++),S};Math.imul||(w=v);function x(P,m,C){C.negative=m.negative^P.negative,C.length=P.length+m.length;for(var S=0,_=0,I=0;I<C.length-1;I++){var j=_;_=0;for(var W=S&67108863,B=Math.min(I,m.length-1),E=Math.max(0,I-P.length+1);E<=B;E++){var U=I-E,J=P.words[U]|0,ie=m.words[E]|0,ce=J*ie,ue=ce&67108863;j=j+(ce/67108864|0)|0,ue=ue+W|0,W=ue&67108863,j=j+(ue>>>26)|0,_+=j>>>26,j&=67108863}C.words[I]=W,S=j,j=_}return S!==0?C.words[I]=S:C.length--,C.strip()}function k(P,m,C){var S=new N;return S.mulp(P,m,C)}s.prototype.mulTo=function(m,C){var S,_=this.length+m.length;return this.length===10&&m.length===10?S=w(this,m,C):_<63?S=v(this,m,C):_<1024?S=x(this,m,C):S=k(this,m,C),S};function N(P,m){this.x=P,this.y=m}N.prototype.makeRBT=function(m){for(var C=new Array(m),S=s.prototype._countBits(m)-1,_=0;_<m;_++)C[_]=this.revBin(_,S,m);return C},N.prototype.revBin=function(m,C,S){if(m===0||m===S-1)return m;for(var _=0,I=0;I<C;I++)_|=(m&1)<<C-I-1,m>>=1;return _},N.prototype.permute=function(m,C,S,_,I,j){for(var W=0;W<j;W++)_[W]=C[m[W]],I[W]=S[m[W]]},N.prototype.transform=function(m,C,S,_,I,j){this.permute(j,m,C,S,_,I);for(var W=1;W<I;W<<=1)for(var B=W<<1,E=Math.cos(2*Math.PI/B),U=Math.sin(2*Math.PI/B),J=0;J<I;J+=B)for(var ie=E,ce=U,ue=0;ue<W;ue++){var Ae=S[J+ue],$e=_[J+ue],le=S[J+ue+W],re=_[J+ue+W],ae=ie*le-ce*re;re=ie*re+ce*le,le=ae,S[J+ue]=Ae+le,_[J+ue]=$e+re,S[J+ue+W]=Ae-le,_[J+ue+W]=$e-re,ue!==B&&(ae=E*ie-U*ce,ce=E*ce+U*ie,ie=ae)}},N.prototype.guessLen13b=function(m,C){var S=Math.max(C,m)|1,_=S&1,I=0;for(S=S/2|0;S;S=S>>>1)I++;return 1<<I+1+_},N.prototype.conjugate=function(m,C,S){if(!(S<=1))for(var _=0;_<S/2;_++){var I=m[_];m[_]=m[S-_-1],m[S-_-1]=I,I=C[_],C[_]=-C[S-_-1],C[S-_-1]=-I}},N.prototype.normalize13b=function(m,C){for(var S=0,_=0;_<C/2;_++){var I=Math.round(m[2*_+1]/C)*8192+Math.round(m[2*_]/C)+S;m[_]=I&67108863,I<67108864?S=0:S=I/67108864|0}return m},N.prototype.convert13b=function(m,C,S,_){for(var I=0,j=0;j<C;j++)I=I+(m[j]|0),S[2*j]=I&8191,I=I>>>13,S[2*j+1]=I&8191,I=I>>>13;for(j=2*C;j<_;++j)S[j]=0;r(I===0),r((I&-8192)===0)},N.prototype.stub=function(m){for(var C=new Array(m),S=0;S<m;S++)C[S]=0;return C},N.prototype.mulp=function(m,C,S){var _=2*this.guessLen13b(m.length,C.length),I=this.makeRBT(_),j=this.stub(_),W=new Array(_),B=new Array(_),E=new Array(_),U=new Array(_),J=new Array(_),ie=new Array(_),ce=S.words;ce.length=_,this.convert13b(m.words,m.length,W,_),this.convert13b(C.words,C.length,U,_),this.transform(W,j,B,E,_,I),this.transform(U,j,J,ie,_,I);for(var ue=0;ue<_;ue++){var Ae=B[ue]*J[ue]-E[ue]*ie[ue];E[ue]=B[ue]*ie[ue]+E[ue]*J[ue],B[ue]=Ae}return this.conjugate(B,E,_),this.transform(B,E,ce,j,_,I),this.conjugate(ce,j,_),this.normalize13b(ce,_),S.negative=m.negative^C.negative,S.length=m.length+C.length,S.strip()},s.prototype.mul=function(m){var C=new s(null);return C.words=new Array(this.length+m.length),this.mulTo(m,C)},s.prototype.mulf=function(m){var C=new s(null);return C.words=new Array(this.length+m.length),k(this,m,C)},s.prototype.imul=function(m){return this.clone().mulTo(m,this)},s.prototype.imuln=function(m){r(typeof m=="number"),r(m<67108864);for(var C=0,S=0;S<this.length;S++){var _=(this.words[S]|0)*m,I=(_&67108863)+(C&67108863);C>>=26,C+=_/67108864|0,C+=I>>>26,this.words[S]=I&67108863}return C!==0&&(this.words[S]=C,this.length++),this},s.prototype.muln=function(m){return this.clone().imuln(m)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(m){var C=y(m);if(C.length===0)return new s(1);for(var S=this,_=0;_<C.length&&C[_]===0;_++,S=S.sqr());if(++_<C.length)for(var I=S.sqr();_<C.length;_++,I=I.sqr())C[_]!==0&&(S=S.mul(I));return S},s.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var C=m%26,S=(m-C)/26,_=67108863>>>26-C<<26-C,I;if(C!==0){var j=0;for(I=0;I<this.length;I++){var W=this.words[I]&_,B=(this.words[I]|0)-W<<C;this.words[I]=B|j,j=W>>>26-C}j&&(this.words[I]=j,this.length++)}if(S!==0){for(I=this.length-1;I>=0;I--)this.words[I+S]=this.words[I];for(I=0;I<S;I++)this.words[I]=0;this.length+=S}return this.strip()},s.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},s.prototype.iushrn=function(m,C,S){r(typeof m=="number"&&m>=0);var _;C?_=(C-C%26)/26:_=0;var I=m%26,j=Math.min((m-I)/26,this.length),W=67108863^67108863>>>I<<I,B=S;if(_-=j,_=Math.max(0,_),B){for(var E=0;E<j;E++)B.words[E]=this.words[E];B.length=j}if(j!==0)if(this.length>j)for(this.length-=j,E=0;E<this.length;E++)this.words[E]=this.words[E+j];else this.words[0]=0,this.length=1;var U=0;for(E=this.length-1;E>=0&&(U!==0||E>=_);E--){var J=this.words[E]|0;this.words[E]=U<<26-I|J>>>I,U=J&W}return B&&U!==0&&(B.words[B.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(m,C,S){return r(this.negative===0),this.iushrn(m,C,S)},s.prototype.shln=function(m){return this.clone().ishln(m)},s.prototype.ushln=function(m){return this.clone().iushln(m)},s.prototype.shrn=function(m){return this.clone().ishrn(m)},s.prototype.ushrn=function(m){return this.clone().iushrn(m)},s.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var C=m%26,S=(m-C)/26,_=1<<C;if(this.length<=S)return!1;var I=this.words[S];return!!(I&_)},s.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var C=m%26,S=(m-C)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(C!==0&&S++,this.length=Math.min(S,this.length),C!==0){var _=67108863^67108863>>>C<<C;this.words[this.length-1]&=_}return this.strip()},s.prototype.maskn=function(m){return this.clone().imaskn(m)},s.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},s.prototype._iaddn=function(m){this.words[0]+=m;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},s.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this.strip()},s.prototype.addn=function(m){return this.clone().iaddn(m)},s.prototype.subn=function(m){return this.clone().isubn(m)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(m,C,S){var _=m.length+S,I;this._expand(_);var j,W=0;for(I=0;I<m.length;I++){j=(this.words[I+S]|0)+W;var B=(m.words[I]|0)*C;j-=B&67108863,W=(j>>26)-(B/67108864|0),this.words[I+S]=j&67108863}for(;I<this.length-S;I++)j=(this.words[I+S]|0)+W,W=j>>26,this.words[I+S]=j&67108863;if(W===0)return this.strip();for(r(W===-1),W=0,I=0;I<this.length;I++)j=-(this.words[I]|0)+W,W=j>>26,this.words[I]=j&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(m,C){var S=this.length-m.length,_=this.clone(),I=m,j=I.words[I.length-1]|0,W=this._countBits(j);S=26-W,S!==0&&(I=I.ushln(S),_.iushln(S),j=I.words[I.length-1]|0);var B=_.length-I.length,E;if(C!=="mod"){E=new s(null),E.length=B+1,E.words=new Array(E.length);for(var U=0;U<E.length;U++)E.words[U]=0}var J=_.clone()._ishlnsubmul(I,1,B);J.negative===0&&(_=J,E&&(E.words[B]=1));for(var ie=B-1;ie>=0;ie--){var ce=(_.words[I.length+ie]|0)*67108864+(_.words[I.length+ie-1]|0);for(ce=Math.min(ce/j|0,67108863),_._ishlnsubmul(I,ce,ie);_.negative!==0;)ce--,_.negative=0,_._ishlnsubmul(I,1,ie),_.isZero()||(_.negative^=1);E&&(E.words[ie]=ce)}return E&&E.strip(),_.strip(),C!=="div"&&S!==0&&_.iushrn(S),{div:E||null,mod:_}},s.prototype.divmod=function(m,C,S){if(r(!m.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,I,j;return this.negative!==0&&m.negative===0?(j=this.neg().divmod(m,C),C!=="mod"&&(_=j.div.neg()),C!=="div"&&(I=j.mod.neg(),S&&I.negative!==0&&I.iadd(m)),{div:_,mod:I}):this.negative===0&&m.negative!==0?(j=this.divmod(m.neg(),C),C!=="mod"&&(_=j.div.neg()),{div:_,mod:j.mod}):(this.negative&m.negative)!==0?(j=this.neg().divmod(m.neg(),C),C!=="div"&&(I=j.mod.neg(),S&&I.negative!==0&&I.isub(m)),{div:j.div,mod:I}):m.length>this.length||this.cmp(m)<0?{div:new s(0),mod:this}:m.length===1?C==="div"?{div:this.divn(m.words[0]),mod:null}:C==="mod"?{div:null,mod:new s(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new s(this.modn(m.words[0]))}:this._wordDiv(m,C)},s.prototype.div=function(m){return this.divmod(m,"div",!1).div},s.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},s.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},s.prototype.divRound=function(m){var C=this.divmod(m);if(C.mod.isZero())return C.div;var S=C.div.negative!==0?C.mod.isub(m):C.mod,_=m.ushrn(1),I=m.andln(1),j=S.cmp(_);return j<0||I===1&&j===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},s.prototype.modn=function(m){r(m<=67108863);for(var C=(1<<26)%m,S=0,_=this.length-1;_>=0;_--)S=(C*S+(this.words[_]|0))%m;return S},s.prototype.idivn=function(m){r(m<=67108863);for(var C=0,S=this.length-1;S>=0;S--){var _=(this.words[S]|0)+C*67108864;this.words[S]=_/m|0,C=_%m}return this.strip()},s.prototype.divn=function(m){return this.clone().idivn(m)},s.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var C=this,S=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var _=new s(1),I=new s(0),j=new s(0),W=new s(1),B=0;C.isEven()&&S.isEven();)C.iushrn(1),S.iushrn(1),++B;for(var E=S.clone(),U=C.clone();!C.isZero();){for(var J=0,ie=1;(C.words[0]&ie)===0&&J<26;++J,ie<<=1);if(J>0)for(C.iushrn(J);J-- >0;)(_.isOdd()||I.isOdd())&&(_.iadd(E),I.isub(U)),_.iushrn(1),I.iushrn(1);for(var ce=0,ue=1;(S.words[0]&ue)===0&&ce<26;++ce,ue<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(j.isOdd()||W.isOdd())&&(j.iadd(E),W.isub(U)),j.iushrn(1),W.iushrn(1);C.cmp(S)>=0?(C.isub(S),_.isub(j),I.isub(W)):(S.isub(C),j.isub(_),W.isub(I))}return{a:j,b:W,gcd:S.iushln(B)}},s.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var C=this,S=m.clone();C.negative!==0?C=C.umod(m):C=C.clone();for(var _=new s(1),I=new s(0),j=S.clone();C.cmpn(1)>0&&S.cmpn(1)>0;){for(var W=0,B=1;(C.words[0]&B)===0&&W<26;++W,B<<=1);if(W>0)for(C.iushrn(W);W-- >0;)_.isOdd()&&_.iadd(j),_.iushrn(1);for(var E=0,U=1;(S.words[0]&U)===0&&E<26;++E,U<<=1);if(E>0)for(S.iushrn(E);E-- >0;)I.isOdd()&&I.iadd(j),I.iushrn(1);C.cmp(S)>=0?(C.isub(S),_.isub(I)):(S.isub(C),I.isub(_))}var J;return C.cmpn(1)===0?J=_:J=I,J.cmpn(0)<0&&J.iadd(m),J},s.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var C=this.clone(),S=m.clone();C.negative=0,S.negative=0;for(var _=0;C.isEven()&&S.isEven();_++)C.iushrn(1),S.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;S.isEven();)S.iushrn(1);var I=C.cmp(S);if(I<0){var j=C;C=S,S=j}else if(I===0||S.cmpn(1)===0)break;C.isub(S)}while(!0);return S.iushln(_)},s.prototype.invm=function(m){return this.egcd(m).a.umod(m)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(m){return this.words[0]&m},s.prototype.bincn=function(m){r(typeof m=="number");var C=m%26,S=(m-C)/26,_=1<<C;if(this.length<=S)return this._expand(S+1),this.words[S]|=_,this;for(var I=_,j=S;I!==0&&j<this.length;j++){var W=this.words[j]|0;W+=I,I=W>>>26,W&=67108863,this.words[j]=W}return I!==0&&(this.words[j]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(m){var C=m<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this.strip();var S;if(this.length>1)S=1;else{C&&(m=-m),r(m<=67108863,"Number is too big");var _=this.words[0]|0;S=_===m?0:_<m?-1:1}return this.negative!==0?-S|0:S},s.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var C=this.ucmp(m);return this.negative!==0?-C|0:C},s.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var C=0,S=this.length-1;S>=0;S--){var _=this.words[S]|0,I=m.words[S]|0;if(_!==I){_<I?C=-1:_>I&&(C=1);break}}return C},s.prototype.gtn=function(m){return this.cmpn(m)===1},s.prototype.gt=function(m){return this.cmp(m)===1},s.prototype.gten=function(m){return this.cmpn(m)>=0},s.prototype.gte=function(m){return this.cmp(m)>=0},s.prototype.ltn=function(m){return this.cmpn(m)===-1},s.prototype.lt=function(m){return this.cmp(m)===-1},s.prototype.lten=function(m){return this.cmpn(m)<=0},s.prototype.lte=function(m){return this.cmp(m)<=0},s.prototype.eqn=function(m){return this.cmpn(m)===0},s.prototype.eq=function(m){return this.cmp(m)===0},s.red=function(m){return new $(m)},s.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(m){return this.red=m,this},s.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},s.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},s.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},s.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},s.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},s.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},s.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},s.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var R={k256:null,p224:null,p192:null,p25519:null};function L(P,m){this.name=P,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var m=new s(null);return m.words=new Array(Math.ceil(this.n/13)),m},L.prototype.ireduce=function(m){var C=m,S;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),S=C.bitLength();while(S>this.n);var _=S<this.n?-1:C.ucmp(this.p);return _===0?(C.words[0]=0,C.length=1):_>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},L.prototype.split=function(m,C){m.iushrn(this.n,0,C)},L.prototype.imulK=function(m){return m.imul(this.k)};function O(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,L),O.prototype.split=function(m,C){for(var S=4194303,_=Math.min(m.length,9),I=0;I<_;I++)C.words[I]=m.words[I];if(C.length=_,m.length<=9){m.words[0]=0,m.length=1;return}var j=m.words[9];for(C.words[C.length++]=j&S,I=10;I<m.length;I++){var W=m.words[I]|0;m.words[I-10]=(W&S)<<4|j>>>22,j=W}j>>>=22,m.words[I-10]=j,j===0&&m.length>10?m.length-=10:m.length-=9},O.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var C=0,S=0;S<m.length;S++){var _=m.words[S]|0;C+=_*977,m.words[S]=C&67108863,C=_*64+(C/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function D(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,L);function F(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,L);function q(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,L),q.prototype.imulK=function(m){for(var C=0,S=0;S<m.length;S++){var _=(m.words[S]|0)*19+C,I=_&67108863;_>>>=26,m.words[S]=I,C=_}return C!==0&&(m.words[m.length++]=C),m},s._prime=function(m){if(R[m])return R[m];var C;if(m==="k256")C=new O;else if(m==="p224")C=new D;else if(m==="p192")C=new F;else if(m==="p25519")C=new q;else throw new Error("Unknown prime "+m);return R[m]=C,C};function $(P){if(typeof P=="string"){var m=s._prime(P);this.m=m.p,this.prime=m}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}$.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},$.prototype._verify2=function(m,C){r((m.negative|C.negative)===0,"red works only with positives"),r(m.red&&m.red===C.red,"red works only with red numbers")},$.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},$.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},$.prototype.add=function(m,C){this._verify2(m,C);var S=m.add(C);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(m,C){this._verify2(m,C);var S=m.iadd(C);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(m,C){this._verify2(m,C);var S=m.sub(C);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(m,C){this._verify2(m,C);var S=m.isub(C);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(m,C){return this._verify1(m),this.imod(m.ushln(C))},$.prototype.imul=function(m,C){return this._verify2(m,C),this.imod(m.imul(C))},$.prototype.mul=function(m,C){return this._verify2(m,C),this.imod(m.mul(C))},$.prototype.isqr=function(m){return this.imul(m,m.clone())},$.prototype.sqr=function(m){return this.mul(m,m)},$.prototype.sqrt=function(m){if(m.isZero())return m.clone();var C=this.m.andln(3);if(r(C%2===1),C===3){var S=this.m.add(new s(1)).iushrn(2);return this.pow(m,S)}for(var _=this.m.subn(1),I=0;!_.isZero()&&_.andln(1)===0;)I++,_.iushrn(1);r(!_.isZero());var j=new s(1).toRed(this),W=j.redNeg(),B=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,B).cmp(W)!==0;)E.redIAdd(W);for(var U=this.pow(E,_),J=this.pow(m,_.addn(1).iushrn(1)),ie=this.pow(m,_),ce=I;ie.cmp(j)!==0;){for(var ue=ie,Ae=0;ue.cmp(j)!==0;Ae++)ue=ue.redSqr();r(Ae<ce);var $e=this.pow(U,new s(1).iushln(ce-Ae-1));J=J.redMul($e),U=$e.redSqr(),ie=ie.redMul(U),ce=Ae}return J},$.prototype.invm=function(m){var C=m._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},$.prototype.pow=function(m,C){if(C.isZero())return new s(1).toRed(this);if(C.cmpn(1)===0)return m.clone();var S=4,_=new Array(1<<S);_[0]=new s(1).toRed(this),_[1]=m;for(var I=2;I<_.length;I++)_[I]=this.mul(_[I-1],m);var j=_[0],W=0,B=0,E=C.bitLength()%26;for(E===0&&(E=26),I=C.length-1;I>=0;I--){for(var U=C.words[I],J=E-1;J>=0;J--){var ie=U>>J&1;if(j!==_[0]&&(j=this.sqr(j)),ie===0&&W===0){B=0;continue}W<<=1,W|=ie,B++,!(B!==S&&(I!==0||J!==0))&&(j=this.mul(j,_[W]),B=0,W=0)}E=26}return j},$.prototype.convertTo=function(m){var C=m.umod(this.m);return C===m?C.clone():C},$.prototype.convertFrom=function(m){var C=m.clone();return C.red=null,C},s.mont=function(m){return new H(m)};function H(P){$.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,$),H.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},H.prototype.convertFrom=function(m){var C=this.imod(m.mul(this.rinv));return C.red=null,C},H.prototype.imul=function(m,C){if(m.isZero()||C.isZero())return m.words[0]=0,m.length=1,m;var S=m.imul(C),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(_).iushrn(this.shift),j=I;return I.cmp(this.m)>=0?j=I.isub(this.m):I.cmpn(0)<0&&(j=I.iadd(this.m)),j._forceRed(this)},H.prototype.mul=function(m,C){if(m.isZero()||C.isZero())return new s(0)._forceRed(this);var S=m.mul(C),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(_).iushrn(this.shift),j=I;return I.cmp(this.m)>=0?j=I.isub(this.m):I.cmpn(0)<0&&(j=I.iadd(this.m)),j._forceRed(this)},H.prototype.invm=function(m){var C=this.imod(m._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,Dee)}(fm)),fm.exports}var a2,h_;function ed(){if(h_)return a2;h_=1,a2=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},a2}var c2={},p_;function ON(){return p_||(p_=1,function(t){var e=t;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)a[d]=s[d]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var d=0;d<s.length;d+=2)a.push(parseInt(s[d]+s[d+1],16))}else for(var d=0;d<s.length;d++){var l=s.charCodeAt(d),f=l>>8,h=l&255;f?a.push(f,h):a.push(h)}return a}e.toArray=n;function r(s){return s.length===1?"0"+s:s}e.zero2=r;function i(s){for(var o="",a=0;a<s.length;a++)o+=r(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}}(c2)),c2}var g_;function uo(){return g_||(g_=1,function(t){var e=t,n=wc(),r=ed(),i=ON();e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(f,h,g){var y=new Array(Math.max(f.bitLength(),g)+1),v;for(v=0;v<y.length;v+=1)y[v]=0;var w=1<<h+1,x=f.clone();for(v=0;v<y.length;v++){var k,N=x.andln(w-1);x.isOdd()?(N>(w>>1)-1?k=(w>>1)-N:k=N,x.isubn(k)):k=0,y[v]=k,x.iushrn(1)}return y}e.getNAF=s;function o(f,h){var g=[[],[]];f=f.clone(),h=h.clone();for(var y=0,v=0,w;f.cmpn(-y)>0||h.cmpn(-v)>0;){var x=f.andln(3)+y&3,k=h.andln(3)+v&3;x===3&&(x=-1),k===3&&(k=-1);var N;(x&1)===0?N=0:(w=f.andln(7)+y&7,(w===3||w===5)&&k===2?N=-x:N=x),g[0].push(N);var R;(k&1)===0?R=0:(w=h.andln(7)+v&7,(w===3||w===5)&&x===2?R=-k:R=k),g[1].push(R),2*y===N+1&&(y=1-y),2*v===R+1&&(v=1-v),f.iushrn(1),h.iushrn(1)}return g}e.getJSF=o;function a(f,h,g){var y="_"+h;f.prototype[h]=function(){return this[y]!==void 0?this[y]:this[y]=g.call(this)}}e.cachedProperty=a;function d(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=d;function l(f){return new n(f,"hex","le")}e.intFromLE=l}(o2)),o2}var Fg={exports:{}},m_;function MN(){if(m_)return Fg.exports;m_=1;var t;Fg.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(r){this.rand=r}if(Fg.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=J4;if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return n.randomBytes(i)}}catch{}return Fg.exports}var l2={},u2,y_;function iw(){if(y_)return u2;y_=1;var t=wc(),e=uo(),n=e.getNAF,r=e.getJSF,i=e.assert;function s(a,d){this.type=a,this.p=new t(d.p,16),this.red=d.prime?t.red(d.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=d.n&&new t(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}u2=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(d,l){i(d.precomputed);var f=d._getDoubles(),h=n(l,1,this._bitLength),g=(1<<f.step+1)-(f.step%2===0?2:1);g/=3;var y=[],v,w;for(v=0;v<h.length;v+=f.step){w=0;for(var x=v+f.step-1;x>=v;x--)w=(w<<1)+h[x];y.push(w)}for(var k=this.jpoint(null,null,null),N=this.jpoint(null,null,null),R=g;R>0;R--){for(v=0;v<y.length;v++)w=y[v],w===R?N=N.mixedAdd(f.points[v]):w===-R&&(N=N.mixedAdd(f.points[v].neg()));k=k.add(N)}return k.toP()},s.prototype._wnafMul=function(d,l){var f=4,h=d._getNAFPoints(f);f=h.wnd;for(var g=h.points,y=n(l,f,this._bitLength),v=this.jpoint(null,null,null),w=y.length-1;w>=0;w--){for(var x=0;w>=0&&y[w]===0;w--)x++;if(w>=0&&x++,v=v.dblp(x),w<0)break;var k=y[w];i(k!==0),d.type==="affine"?k>0?v=v.mixedAdd(g[k-1>>1]):v=v.mixedAdd(g[-k-1>>1].neg()):k>0?v=v.add(g[k-1>>1]):v=v.add(g[-k-1>>1].neg())}return d.type==="affine"?v.toP():v},s.prototype._wnafMulAdd=function(d,l,f,h,g){var y=this._wnafT1,v=this._wnafT2,w=this._wnafT3,x=0,k,N,R;for(k=0;k<h;k++){R=l[k];var L=R._getNAFPoints(d);y[k]=L.wnd,v[k]=L.points}for(k=h-1;k>=1;k-=2){var O=k-1,D=k;if(y[O]!==1||y[D]!==1){w[O]=n(f[O],y[O],this._bitLength),w[D]=n(f[D],y[D],this._bitLength),x=Math.max(w[O].length,x),x=Math.max(w[D].length,x);continue}var F=[l[O],null,null,l[D]];l[O].y.cmp(l[D].y)===0?(F[1]=l[O].add(l[D]),F[2]=l[O].toJ().mixedAdd(l[D].neg())):l[O].y.cmp(l[D].y.redNeg())===0?(F[1]=l[O].toJ().mixedAdd(l[D]),F[2]=l[O].add(l[D].neg())):(F[1]=l[O].toJ().mixedAdd(l[D]),F[2]=l[O].toJ().mixedAdd(l[D].neg()));var q=[-3,-1,-5,-7,0,7,5,1,3],$=r(f[O],f[D]);for(x=Math.max($[0].length,x),w[O]=new Array(x),w[D]=new Array(x),N=0;N<x;N++){var H=$[0][N]|0,P=$[1][N]|0;w[O][N]=q[(H+1)*3+(P+1)],w[D][N]=0,v[O]=F}}var m=this.jpoint(null,null,null),C=this._wnafT4;for(k=x;k>=0;k--){for(var S=0;k>=0;){var _=!0;for(N=0;N<h;N++)C[N]=w[N][k]|0,C[N]!==0&&(_=!1);if(!_)break;S++,k--}if(k>=0&&S++,m=m.dblp(S),k<0)break;for(N=0;N<h;N++){var I=C[N];I!==0&&(I>0?R=v[N][I-1>>1]:I<0&&(R=v[N][-I-1>>1].neg()),R.type==="affine"?m=m.mixedAdd(R):m=m.add(R))}}for(k=0;k<h;k++)v[k]=null;return g?m:m.toP()};function o(a,d){this.curve=a,this.type=d,this.precomputed=null}return s.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(d,l){d=e.toArray(d,l);var f=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1===2*f){d[0]===6?i(d[d.length-1]%2===0):d[0]===7&&i(d[d.length-1]%2===1);var h=this.point(d.slice(1,1+f),d.slice(1+f,1+2*f));return h}else if((d[0]===2||d[0]===3)&&d.length-1===f)return this.pointFromX(d.slice(1,1+f),d[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(d){return this.encode(d,!0)},o.prototype._encode=function(d){var l=this.curve.p.byteLength(),f=this.getX().toArray("be",l);return d?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",l))},o.prototype.encode=function(d,l){return e.encode(this._encode(l),d)},o.prototype.precompute=function(d){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,d),l.beta=this._getBeta(),this.precomputed=l,this},o.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((d.bitLength()+1)/l.step):!1},o.prototype._getDoubles=function(d,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],h=this,g=0;g<l;g+=d){for(var y=0;y<d;y++)h=h.dbl();f.push(h)}return{step:d,points:f}},o.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],f=(1<<d)-1,h=f===1?null:this.dbl(),g=1;g<f;g++)l[g]=l[g-1].add(h);return{wnd:d,points:l}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(d){for(var l=this,f=0;f<d;f++)l=l.dbl();return l},u2}var jg={exports:{}},w_;function sw(){return w_||(w_=1,typeof Object.create=="function"?jg.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:jg.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),jg.exports}var d2,v_;function $ee(){if(v_)return d2;v_=1;var t=uo(),e=wc(),n=sw(),r=iw(),i=t.assert;function s(d){r.call(this,"short",d),this.a=new e(d.a,16).toRed(this.red),this.b=new e(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(s,r),d2=s,s.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,h;if(l.beta)f=new e(l.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);f=g[0].cmp(g[1])<0?g[0]:g[1],f=f.toRed(this.red)}if(l.lambda)h=new e(l.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?h=y[0]:(h=y[1],i(this.g.mul(h).x.cmp(this.g.x.redMul(f))===0))}var v;return l.basis?v=l.basis.map(function(w){return{a:new e(w.a,16),b:new e(w.b,16)}}):v=this._getEndoBasis(h),{beta:f,lambda:h,basis:v}}},s.prototype._getEndoRoots=function(l){var f=l===this.p?this.red:e.mont(l),h=new e(2).toRed(f).redInvm(),g=h.redNeg(),y=new e(3).toRed(f).redNeg().redSqrt().redMul(h),v=g.redAdd(y).fromRed(),w=g.redSub(y).fromRed();return[v,w]},s.prototype._getEndoBasis=function(l){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=l,g=this.n.clone(),y=new e(1),v=new e(0),w=new e(0),x=new e(1),k,N,R,L,O,D,F,q=0,$,H;h.cmpn(0)!==0;){var P=g.div(h);$=g.sub(P.mul(h)),H=w.sub(P.mul(y));var m=x.sub(P.mul(v));if(!R&&$.cmp(f)<0)k=F.neg(),N=y,R=$.neg(),L=H;else if(R&&++q===2)break;F=$,g=h,h=$,w=y,y=H,x=v,v=m}O=$.neg(),D=H;var C=R.sqr().add(L.sqr()),S=O.sqr().add(D.sqr());return S.cmp(C)>=0&&(O=k,D=N),R.negative&&(R=R.neg(),L=L.neg()),O.negative&&(O=O.neg(),D=D.neg()),[{a:R,b:L},{a:O,b:D}]},s.prototype._endoSplit=function(l){var f=this.endo.basis,h=f[0],g=f[1],y=g.b.mul(l).divRound(this.n),v=h.b.neg().mul(l).divRound(this.n),w=y.mul(h.a),x=v.mul(g.a),k=y.mul(h.b),N=v.mul(g.b),R=l.sub(w).sub(x),L=k.add(N).neg();return{k1:R,k2:L}},s.prototype.pointFromX=function(l,f){l=new e(l,16),l.red||(l=l.toRed(this.red));var h=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),g=h.redSqrt();if(g.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var y=g.fromRed().isOdd();return(f&&!y||!f&&y)&&(g=g.redNeg()),this.point(l,g)},s.prototype.validate=function(l){if(l.inf)return!0;var f=l.x,h=l.y,g=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(g).redIAdd(this.b);return h.redSqr().redISub(y).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(l,f,h){for(var g=this._endoWnafT1,y=this._endoWnafT2,v=0;v<l.length;v++){var w=this._endoSplit(f[v]),x=l[v],k=x._getBeta();w.k1.negative&&(w.k1.ineg(),x=x.neg(!0)),w.k2.negative&&(w.k2.ineg(),k=k.neg(!0)),g[v*2]=x,g[v*2+1]=k,y[v*2]=w.k1,y[v*2+1]=w.k2}for(var N=this._wnafMulAdd(1,g,y,v*2,h),R=0;R<v*2;R++)g[R]=null,y[R]=null;return N};function o(d,l,f,h){r.BasePoint.call(this,d,"affine"),l===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(f,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(o,r.BasePoint),s.prototype.point=function(l,f,h){return new o(this,l,f,h)},s.prototype.pointFromJSON=function(l,f){return o.fromJSON(this,l,f)},o.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var h=this.curve,g=function(y){return h.point(y.x.redMul(h.endo.beta),y.y)};l.beta=f,f.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(g)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(g)}}}return f}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(l,f,h){typeof f=="string"&&(f=JSON.parse(f));var g=l.point(f[0],f[1],h);if(!f[2])return g;function y(w){return l.point(w[0],w[1],h)}var v=f[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(y))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(y))}},g},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var f=this.y.redSub(l.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(l.x).redInvm()));var h=f.redSqr().redISub(this.x).redISub(l.x),g=f.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,g)},o.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,h=this.x.redSqr(),g=l.redInvm(),y=h.redAdd(h).redIAdd(h).redIAdd(f).redMul(g),v=y.redSqr().redISub(this.x.redAdd(this.x)),w=y.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,w)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},o.prototype.mulAdd=function(l,f,h){var g=[this,f],y=[l,h];return this.curve.endo?this.curve._endoWnafMulAdd(g,y):this.curve._wnafMulAdd(1,g,y,2)},o.prototype.jmulAdd=function(l,f,h){var g=[this,f],y=[l,h];return this.curve.endo?this.curve._endoWnafMulAdd(g,y,!0):this.curve._wnafMulAdd(1,g,y,2,!0)},o.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},o.prototype.neg=function(l){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var h=this.precomputed,g=function(y){return y.neg()};f.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(g)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(g)}}}return f},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function a(d,l,f,h){r.BasePoint.call(this,d,"jacobian"),l===null&&f===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(f,16),this.z=new e(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(a,r.BasePoint),s.prototype.jpoint=function(l,f,h){return new a(this,l,f,h)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),f=l.redSqr(),h=this.x.redMul(f),g=this.y.redMul(f).redMul(l);return this.curve.point(h,g)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var f=l.z.redSqr(),h=this.z.redSqr(),g=this.x.redMul(f),y=l.x.redMul(h),v=this.y.redMul(f.redMul(l.z)),w=l.y.redMul(h.redMul(this.z)),x=g.redSub(y),k=v.redSub(w);if(x.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=x.redSqr(),R=N.redMul(x),L=g.redMul(N),O=k.redSqr().redIAdd(R).redISub(L).redISub(L),D=k.redMul(L.redISub(O)).redISub(v.redMul(R)),F=this.z.redMul(l.z).redMul(x);return this.curve.jpoint(O,D,F)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var f=this.z.redSqr(),h=this.x,g=l.x.redMul(f),y=this.y,v=l.y.redMul(f).redMul(this.z),w=h.redSub(g),x=y.redSub(v);if(w.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=w.redSqr(),N=k.redMul(w),R=h.redMul(k),L=x.redSqr().redIAdd(N).redISub(R).redISub(R),O=x.redMul(R.redISub(L)).redISub(y.redMul(N)),D=this.z.redMul(w);return this.curve.jpoint(L,O,D)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var h=this;for(f=0;f<l;f++)h=h.dbl();return h}var g=this.curve.a,y=this.curve.tinv,v=this.x,w=this.y,x=this.z,k=x.redSqr().redSqr(),N=w.redAdd(w);for(f=0;f<l;f++){var R=v.redSqr(),L=N.redSqr(),O=L.redSqr(),D=R.redAdd(R).redIAdd(R).redIAdd(g.redMul(k)),F=v.redMul(L),q=D.redSqr().redISub(F.redAdd(F)),$=F.redISub(q),H=D.redMul($);H=H.redIAdd(H).redISub(O);var P=N.redMul(x);f+1<l&&(k=k.redMul(O)),v=q,x=P,N=H}return this.curve.jpoint(v,N.redMul(y),x)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,f,h;if(this.zOne){var g=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(g).redISub(v);w=w.redIAdd(w);var x=g.redAdd(g).redIAdd(g),k=x.redSqr().redISub(w).redISub(w),N=v.redIAdd(v);N=N.redIAdd(N),N=N.redIAdd(N),l=k,f=x.redMul(w.redISub(k)).redISub(N),h=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),L=this.y.redSqr(),O=L.redSqr(),D=this.x.redAdd(L).redSqr().redISub(R).redISub(O);D=D.redIAdd(D);var F=R.redAdd(R).redIAdd(R),q=F.redSqr(),$=O.redIAdd(O);$=$.redIAdd($),$=$.redIAdd($),l=q.redISub(D).redISub(D),f=F.redMul(D.redISub(l)).redISub($),h=this.y.redMul(this.z),h=h.redIAdd(h)}return this.curve.jpoint(l,f,h)},a.prototype._threeDbl=function(){var l,f,h;if(this.zOne){var g=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(g).redISub(v);w=w.redIAdd(w);var x=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),k=x.redSqr().redISub(w).redISub(w);l=k;var N=v.redIAdd(v);N=N.redIAdd(N),N=N.redIAdd(N),f=x.redMul(w.redISub(k)).redISub(N),h=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),L=this.y.redSqr(),O=this.x.redMul(L),D=this.x.redSub(R).redMul(this.x.redAdd(R));D=D.redAdd(D).redIAdd(D);var F=O.redIAdd(O);F=F.redIAdd(F);var q=F.redAdd(F);l=D.redSqr().redISub(q),h=this.y.redAdd(this.z).redSqr().redISub(L).redISub(R);var $=L.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),f=D.redMul(F.redISub(l)).redISub($)}return this.curve.jpoint(l,f,h)},a.prototype._dbl=function(){var l=this.curve.a,f=this.x,h=this.y,g=this.z,y=g.redSqr().redSqr(),v=f.redSqr(),w=h.redSqr(),x=v.redAdd(v).redIAdd(v).redIAdd(l.redMul(y)),k=f.redAdd(f);k=k.redIAdd(k);var N=k.redMul(w),R=x.redSqr().redISub(N.redAdd(N)),L=N.redISub(R),O=w.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var D=x.redMul(L).redISub(O),F=h.redAdd(h).redMul(g);return this.curve.jpoint(R,D,F)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),f=this.y.redSqr(),h=this.z.redSqr(),g=f.redSqr(),y=l.redAdd(l).redIAdd(l),v=y.redSqr(),w=this.x.redAdd(f).redSqr().redISub(l).redISub(g);w=w.redIAdd(w),w=w.redAdd(w).redIAdd(w),w=w.redISub(v);var x=w.redSqr(),k=g.redIAdd(g);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var N=y.redIAdd(w).redSqr().redISub(v).redISub(x).redISub(k),R=f.redMul(N);R=R.redIAdd(R),R=R.redIAdd(R);var L=this.x.redMul(x).redISub(R);L=L.redIAdd(L),L=L.redIAdd(L);var O=this.y.redMul(N.redMul(k.redISub(N)).redISub(w.redMul(x)));O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var D=this.z.redAdd(w).redSqr().redISub(h).redISub(x);return this.curve.jpoint(L,O,D)},a.prototype.mul=function(l,f){return l=new e(l,f),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var f=this.z.redSqr(),h=l.z.redSqr();if(this.x.redMul(h).redISub(l.x.redMul(f)).cmpn(0)!==0)return!1;var g=f.redMul(this.z),y=h.redMul(l.z);return this.y.redMul(y).redISub(l.y.redMul(g)).cmpn(0)===0},a.prototype.eqXToP=function(l){var f=this.z.redSqr(),h=l.toRed(this.curve.red).redMul(f);if(this.x.cmp(h)===0)return!0;for(var g=l.clone(),y=this.curve.redN.redMul(f);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d2}var f2,b_;function Lee(){if(b_)return f2;b_=1;var t=wc(),e=sw(),n=iw(),r=uo();function i(o){n.call(this,"mont",o),this.a=new t(o.a,16).toRed(this.red),this.b=new t(o.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,n),f2=i,i.prototype.validate=function(a){var d=a.normalize().x,l=d.redSqr(),f=l.redMul(d).redAdd(l.redMul(this.a)).redAdd(d),h=f.redSqrt();return h.redSqr().cmp(f)===0};function s(o,a,d){n.BasePoint.call(this,o,"projective"),a===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(a,16),this.z=new t(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,n.BasePoint),i.prototype.decodePoint=function(a,d){return this.point(r.toArray(a,d),1)},i.prototype.point=function(a,d){return new s(this,a,d)},i.prototype.pointFromJSON=function(a){return s.fromJSON(this,a)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(a,d){return new s(a,d[0],d[1]||a.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var a=this.x.redAdd(this.z),d=a.redSqr(),l=this.x.redSub(this.z),f=l.redSqr(),h=d.redSub(f),g=d.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(a,d){var l=this.x.redAdd(this.z),f=this.x.redSub(this.z),h=a.x.redAdd(a.z),g=a.x.redSub(a.z),y=g.redMul(l),v=h.redMul(f),w=d.z.redMul(y.redAdd(v).redSqr()),x=d.x.redMul(y.redISub(v).redSqr());return this.curve.point(w,x)},s.prototype.mul=function(a){for(var d=a.clone(),l=this,f=this.curve.point(null,null),h=this,g=[];d.cmpn(0)!==0;d.iushrn(1))g.push(d.andln(1));for(var y=g.length-1;y>=0;y--)g[y]===0?(l=l.diffAdd(f,h),f=f.dbl()):(f=l.diffAdd(f,h),l=l.dbl());return f},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f2}var h2,C_;function Uee(){if(C_)return h2;C_=1;var t=uo(),e=wc(),n=sw(),r=iw(),i=t.assert;function s(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}n(s,r),h2=s,s.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},s.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},s.prototype.jpoint=function(d,l,f,h){return this.point(d,l,f,h)},s.prototype.pointFromX=function(d,l){d=new e(d,16),d.red||(d=d.toRed(this.red));var f=d.redSqr(),h=this.c2.redSub(this.a.redMul(f)),g=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=h.redMul(g.redInvm()),v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=v.fromRed().isOdd();return(l&&!w||!l&&w)&&(v=v.redNeg()),this.point(d,v)},s.prototype.pointFromY=function(d,l){d=new e(d,16),d.red||(d=d.toRed(this.red));var f=d.redSqr(),h=f.redSub(this.c2),g=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=h.redMul(g.redInvm());if(y.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,d)}var v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==l&&(v=v.redNeg()),this.point(v,d)},s.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var l=d.x.redSqr(),f=d.y.redSqr(),h=l.redMul(this.a).redAdd(f),g=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(f)));return h.cmp(g)===0};function o(a,d,l,f,h){r.BasePoint.call(this,a,"projective"),d===null&&l===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(d,16),this.y=new e(l,16),this.z=f?new e(f,16):this.curve.one,this.t=h&&new e(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(o,r.BasePoint),s.prototype.pointFromJSON=function(d){return o.fromJSON(this,d)},s.prototype.point=function(d,l,f,h){return new o(this,d,l,f,h)},o.fromJSON=function(d,l){return new o(d,l[0],l[1],l[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var d=this.x.redSqr(),l=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var h=this.curve._mulA(d),g=this.x.redAdd(this.y).redSqr().redISub(d).redISub(l),y=h.redAdd(l),v=y.redSub(f),w=h.redSub(l),x=g.redMul(v),k=y.redMul(w),N=g.redMul(w),R=v.redMul(y);return this.curve.point(x,k,R,N)},o.prototype._projDbl=function(){var d=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),f=this.y.redSqr(),h,g,y,v,w,x;if(this.curve.twisted){v=this.curve._mulA(l);var k=v.redAdd(f);this.zOne?(h=d.redSub(l).redSub(f).redMul(k.redSub(this.curve.two)),g=k.redMul(v.redSub(f)),y=k.redSqr().redSub(k).redSub(k)):(w=this.z.redSqr(),x=k.redSub(w).redISub(w),h=d.redSub(l).redISub(f).redMul(x),g=k.redMul(v.redSub(f)),y=k.redMul(x))}else v=l.redAdd(f),w=this.curve._mulC(this.z).redSqr(),x=v.redSub(w).redSub(w),h=this.curve._mulC(d.redISub(v)).redMul(x),g=this.curve._mulC(v).redMul(l.redISub(f)),y=v.redMul(x);return this.curve.point(h,g,y)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(d){var l=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),f=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),h=this.t.redMul(this.curve.dd).redMul(d.t),g=this.z.redMul(d.z.redAdd(d.z)),y=f.redSub(l),v=g.redSub(h),w=g.redAdd(h),x=f.redAdd(l),k=y.redMul(v),N=w.redMul(x),R=y.redMul(x),L=v.redMul(w);return this.curve.point(k,N,L,R)},o.prototype._projAdd=function(d){var l=this.z.redMul(d.z),f=l.redSqr(),h=this.x.redMul(d.x),g=this.y.redMul(d.y),y=this.curve.d.redMul(h).redMul(g),v=f.redSub(y),w=f.redAdd(y),x=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(h).redISub(g),k=l.redMul(v).redMul(x),N,R;return this.curve.twisted?(N=l.redMul(w).redMul(g.redSub(this.curve._mulA(h))),R=v.redMul(w)):(N=l.redMul(w).redMul(g.redSub(h)),R=this.curve._mulC(v).redMul(w)),this.curve.point(k,N,R)},o.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},o.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},o.prototype.mulAdd=function(d,l,f){return this.curve._wnafMulAdd(1,[this,l],[d,f],2,!1)},o.prototype.jmulAdd=function(d,l,f){return this.curve._wnafMulAdd(1,[this,l],[d,f],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},o.prototype.eqXToP=function(d){var l=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var f=d.clone(),h=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(h),this.x.cmp(l)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,h2}var E_;function DN(){return E_||(E_=1,function(t){var e=t;e.base=iw(),e.short=$ee(),e.mont=Lee(),e.edwards=Uee()}(l2)),l2}var p2={},g2={},or={},A_;function xa(){if(A_)return or;A_=1;var t=ed(),e=sw();or.inherits=e;function n(m,C){return(m.charCodeAt(C)&64512)!==55296||C<0||C+1>=m.length?!1:(m.charCodeAt(C+1)&64512)===56320}function r(m,C){if(Array.isArray(m))return m.slice();if(!m)return[];var S=[];if(typeof m=="string")if(C){if(C==="hex")for(m=m.replace(/[^a-z0-9]+/ig,""),m.length%2!==0&&(m="0"+m),I=0;I<m.length;I+=2)S.push(parseInt(m[I]+m[I+1],16))}else for(var _=0,I=0;I<m.length;I++){var j=m.charCodeAt(I);j<128?S[_++]=j:j<2048?(S[_++]=j>>6|192,S[_++]=j&63|128):n(m,I)?(j=65536+((j&1023)<<10)+(m.charCodeAt(++I)&1023),S[_++]=j>>18|240,S[_++]=j>>12&63|128,S[_++]=j>>6&63|128,S[_++]=j&63|128):(S[_++]=j>>12|224,S[_++]=j>>6&63|128,S[_++]=j&63|128)}else for(I=0;I<m.length;I++)S[I]=m[I]|0;return S}or.toArray=r;function i(m){for(var C="",S=0;S<m.length;S++)C+=a(m[S].toString(16));return C}or.toHex=i;function s(m){var C=m>>>24|m>>>8&65280|m<<8&16711680|(m&255)<<24;return C>>>0}or.htonl=s;function o(m,C){for(var S="",_=0;_<m.length;_++){var I=m[_];C==="little"&&(I=s(I)),S+=d(I.toString(16))}return S}or.toHex32=o;function a(m){return m.length===1?"0"+m:m}or.zero2=a;function d(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}or.zero8=d;function l(m,C,S,_){var I=S-C;t(I%4===0);for(var j=new Array(I/4),W=0,B=C;W<j.length;W++,B+=4){var E;_==="big"?E=m[B]<<24|m[B+1]<<16|m[B+2]<<8|m[B+3]:E=m[B+3]<<24|m[B+2]<<16|m[B+1]<<8|m[B],j[W]=E>>>0}return j}or.join32=l;function f(m,C){for(var S=new Array(m.length*4),_=0,I=0;_<m.length;_++,I+=4){var j=m[_];C==="big"?(S[I]=j>>>24,S[I+1]=j>>>16&255,S[I+2]=j>>>8&255,S[I+3]=j&255):(S[I+3]=j>>>24,S[I+2]=j>>>16&255,S[I+1]=j>>>8&255,S[I]=j&255)}return S}or.split32=f;function h(m,C){return m>>>C|m<<32-C}or.rotr32=h;function g(m,C){return m<<C|m>>>32-C}or.rotl32=g;function y(m,C){return m+C>>>0}or.sum32=y;function v(m,C,S){return m+C+S>>>0}or.sum32_3=v;function w(m,C,S,_){return m+C+S+_>>>0}or.sum32_4=w;function x(m,C,S,_,I){return m+C+S+_+I>>>0}or.sum32_5=x;function k(m,C,S,_){var I=m[C],j=m[C+1],W=_+j>>>0,B=(W<_?1:0)+S+I;m[C]=B>>>0,m[C+1]=W}or.sum64=k;function N(m,C,S,_){var I=C+_>>>0,j=(I<C?1:0)+m+S;return j>>>0}or.sum64_hi=N;function R(m,C,S,_){var I=C+_;return I>>>0}or.sum64_lo=R;function L(m,C,S,_,I,j,W,B){var E=0,U=C;U=U+_>>>0,E+=U<C?1:0,U=U+j>>>0,E+=U<j?1:0,U=U+B>>>0,E+=U<B?1:0;var J=m+S+I+W+E;return J>>>0}or.sum64_4_hi=L;function O(m,C,S,_,I,j,W,B){var E=C+_+j+B;return E>>>0}or.sum64_4_lo=O;function D(m,C,S,_,I,j,W,B,E,U){var J=0,ie=C;ie=ie+_>>>0,J+=ie<C?1:0,ie=ie+j>>>0,J+=ie<j?1:0,ie=ie+B>>>0,J+=ie<B?1:0,ie=ie+U>>>0,J+=ie<U?1:0;var ce=m+S+I+W+E+J;return ce>>>0}or.sum64_5_hi=D;function F(m,C,S,_,I,j,W,B,E,U){var J=C+_+j+B+U;return J>>>0}or.sum64_5_lo=F;function q(m,C,S){var _=C<<32-S|m>>>S;return _>>>0}or.rotr64_hi=q;function $(m,C,S){var _=m<<32-S|C>>>S;return _>>>0}or.rotr64_lo=$;function H(m,C,S){return m>>>S}or.shr64_hi=H;function P(m,C,S){var _=m<<32-S|C>>>S;return _>>>0}return or.shr64_lo=P,or}var m2={},__;function s1(){if(__)return m2;__=1;var t=xa(),e=ed();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return m2.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var d=1;d<o;d++)a[d]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[d++]=0;a[d++]=0,a[d++]=0,a[d++]=0,a[d++]=0,a[d++]=i>>>24&255,a[d++]=i>>>16&255,a[d++]=i>>>8&255,a[d++]=i&255}else for(a[d++]=i&255,a[d++]=i>>>8&255,a[d++]=i>>>16&255,a[d++]=i>>>24&255,a[d++]=0,a[d++]=0,a[d++]=0,a[d++]=0,l=8;l<this.padLength;l++)a[d++]=0;return a},m2}var Gl={},Go={},x_;function $N(){if(x_)return Go;x_=1;var t=xa(),e=t.rotr32;function n(f,h,g,y){if(f===0)return r(h,g,y);if(f===1||f===3)return s(h,g,y);if(f===2)return i(h,g,y)}Go.ft_1=n;function r(f,h,g){return f&h^~f&g}Go.ch32=r;function i(f,h,g){return f&h^f&g^h&g}Go.maj32=i;function s(f,h,g){return f^h^g}Go.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}Go.s0_256=o;function a(f){return e(f,6)^e(f,11)^e(f,25)}Go.s1_256=a;function d(f){return e(f,7)^e(f,18)^f>>>3}Go.g0_256=d;function l(f){return e(f,17)^e(f,19)^f>>>10}return Go.g1_256=l,Go}var y2,S_;function Bee(){if(S_)return y2;S_=1;var t=xa(),e=s1(),n=$N(),r=t.rotl32,i=t.sum32,s=t.sum32_5,o=n.ft_1,a=e.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),y2=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(h,g){for(var y=this.W,v=0;v<16;v++)y[v]=h[g+v];for(;v<y.length;v++)y[v]=r(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);var w=this.h[0],x=this.h[1],k=this.h[2],N=this.h[3],R=this.h[4];for(v=0;v<y.length;v++){var L=~~(v/20),O=s(r(w,5),o(L,x,k,N),R,y[v],d[L]);R=N,N=k,k=r(x,30),x=w,w=O}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],k),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],R)},l.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},y2}var w2,I_;function LN(){if(I_)return w2;I_=1;var t=xa(),e=s1(),n=$N(),r=ed(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=n.ch32,d=n.maj32,l=n.s0_256,f=n.s1_256,h=n.g0_256,g=n.g1_256,y=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(w,y),w2=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(k,N){for(var R=this.W,L=0;L<16;L++)R[L]=k[N+L];for(;L<R.length;L++)R[L]=s(g(R[L-2]),R[L-7],h(R[L-15]),R[L-16]);var O=this.h[0],D=this.h[1],F=this.h[2],q=this.h[3],$=this.h[4],H=this.h[5],P=this.h[6],m=this.h[7];for(r(this.k.length===R.length),L=0;L<R.length;L++){var C=o(m,f($),a($,H,P),this.k[L],R[L]),S=i(l(O),d(O,D,F));m=P,P=H,H=$,$=i(q,C),q=F,F=D,D=O,O=i(C,S)}this.h[0]=i(this.h[0],O),this.h[1]=i(this.h[1],D),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],q),this.h[4]=i(this.h[4],$),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],P),this.h[7]=i(this.h[7],m)},w.prototype._digest=function(k){return k==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},w2}var v2,T_;function Fee(){if(T_)return v2;T_=1;var t=xa(),e=LN();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),v2=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},v2}var b2,P_;function UN(){if(P_)return b2;P_=1;var t=xa(),e=s1(),n=ed(),r=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,d=t.sum64_hi,l=t.sum64_lo,f=t.sum64_4_hi,h=t.sum64_4_lo,g=t.sum64_5_hi,y=t.sum64_5_lo,v=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(x,v),b2=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(S,_){for(var I=this.W,j=0;j<32;j++)I[j]=S[_+j];for(;j<I.length;j+=2){var W=P(I[j-4],I[j-3]),B=m(I[j-4],I[j-3]),E=I[j-14],U=I[j-13],J=$(I[j-30],I[j-29]),ie=H(I[j-30],I[j-29]),ce=I[j-32],ue=I[j-31];I[j]=f(W,B,E,U,J,ie,ce,ue),I[j+1]=h(W,B,E,U,J,ie,ce,ue)}},x.prototype._update=function(S,_){this._prepareBlock(S,_);var I=this.W,j=this.h[0],W=this.h[1],B=this.h[2],E=this.h[3],U=this.h[4],J=this.h[5],ie=this.h[6],ce=this.h[7],ue=this.h[8],Ae=this.h[9],$e=this.h[10],le=this.h[11],re=this.h[12],ae=this.h[13],Ce=this.h[14],we=this.h[15];n(this.k.length===I.length);for(var Se=0;Se<I.length;Se+=2){var Ze=Ce,Me=we,wt=F(ue,Ae),en=q(ue,Ae),je=k(ue,Ae,$e,le,re),At=N(ue,Ae,$e,le,re,ae),Nn=this.k[Se],Zt=this.k[Se+1],on=I[Se],qn=I[Se+1],Ft=g(Ze,Me,wt,en,je,At,Nn,Zt,on,qn),Kt=y(Ze,Me,wt,en,je,At,Nn,Zt,on,qn);Ze=O(j,W),Me=D(j,W),wt=R(j,W,B,E,U),en=L(j,W,B,E,U,J);var Pt=d(Ze,Me,wt,en),dt=l(Ze,Me,wt,en);Ce=re,we=ae,re=$e,ae=le,$e=ue,le=Ae,ue=d(ie,ce,Ft,Kt),Ae=l(ce,ce,Ft,Kt),ie=U,ce=J,U=B,J=E,B=j,E=W,j=d(Ft,Kt,Pt,dt),W=l(Ft,Kt,Pt,dt)}a(this.h,0,j,W),a(this.h,2,B,E),a(this.h,4,U,J),a(this.h,6,ie,ce),a(this.h,8,ue,Ae),a(this.h,10,$e,le),a(this.h,12,re,ae),a(this.h,14,Ce,we)},x.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function k(C,S,_,I,j){var W=C&_^~C&j;return W<0&&(W+=4294967296),W}function N(C,S,_,I,j,W){var B=S&I^~S&W;return B<0&&(B+=4294967296),B}function R(C,S,_,I,j){var W=C&_^C&j^_&j;return W<0&&(W+=4294967296),W}function L(C,S,_,I,j,W){var B=S&I^S&W^I&W;return B<0&&(B+=4294967296),B}function O(C,S){var _=r(C,S,28),I=r(S,C,2),j=r(S,C,7),W=_^I^j;return W<0&&(W+=4294967296),W}function D(C,S){var _=i(C,S,28),I=i(S,C,2),j=i(S,C,7),W=_^I^j;return W<0&&(W+=4294967296),W}function F(C,S){var _=r(C,S,14),I=r(C,S,18),j=r(S,C,9),W=_^I^j;return W<0&&(W+=4294967296),W}function q(C,S){var _=i(C,S,14),I=i(C,S,18),j=i(S,C,9),W=_^I^j;return W<0&&(W+=4294967296),W}function $(C,S){var _=r(C,S,1),I=r(C,S,8),j=s(C,S,7),W=_^I^j;return W<0&&(W+=4294967296),W}function H(C,S){var _=i(C,S,1),I=i(C,S,8),j=o(C,S,7),W=_^I^j;return W<0&&(W+=4294967296),W}function P(C,S){var _=r(C,S,19),I=r(S,C,29),j=s(C,S,6),W=_^I^j;return W<0&&(W+=4294967296),W}function m(C,S){var _=i(C,S,19),I=i(S,C,29),j=o(C,S,6),W=_^I^j;return W<0&&(W+=4294967296),W}return b2}var C2,N_;function jee(){if(N_)return C2;N_=1;var t=xa(),e=UN();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),C2=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},C2}var k_;function zee(){return k_||(k_=1,Gl.sha1=Bee(),Gl.sha224=Fee(),Gl.sha256=LN(),Gl.sha384=jee(),Gl.sha512=UN()),Gl}var E2={},R_;function Wee(){if(R_)return E2;R_=1;var t=xa(),e=s1(),n=t.rotl32,r=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),E2.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(x,k){for(var N=this.h[0],R=this.h[1],L=this.h[2],O=this.h[3],D=this.h[4],F=N,q=R,$=L,H=O,P=D,m=0;m<80;m++){var C=r(n(s(N,d(m,R,L,O),x[h[m]+k],l(m)),y[m]),D);N=D,D=O,O=n(L,10),L=R,R=C,C=r(n(s(F,d(79-m,q,$,H),x[g[m]+k],f(m)),v[m]),P),F=P,P=H,H=n($,10),$=q,q=C}C=i(this.h[1],L,H),this.h[1]=i(this.h[2],O,P),this.h[2]=i(this.h[3],D,F),this.h[3]=i(this.h[4],N,q),this.h[4]=i(this.h[0],R,$),this.h[0]=C},a.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function d(w,x,k,N){return w<=15?x^k^N:w<=31?x&k|~x&N:w<=47?(x|~k)^N:w<=63?x&N|k&~N:x^(k|~N)}function l(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function f(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return E2}var A2,O_;function qee(){if(O_)return A2;O_=1;var t=xa(),e=ed();function n(r,i,s){if(!(this instanceof n))return new n(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return A2=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,s){return this.inner.update(i,s),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},A2}var M_;function p6(){return M_||(M_=1,function(t){var e=t;e.utils=xa(),e.common=s1(),e.sha=zee(),e.ripemd=Wee(),e.hmac=qee(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(g2)),g2}var _2,D_;function Hee(){return D_||(D_=1,_2={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),_2}var $_;function g6(){return $_||($_=1,function(t){var e=t,n=p6(),r=DN(),i=uo(),s=i.assert;function o(l){l.type==="short"?this.curve=new r.short(l):l.type==="edwards"?this.curve=new r.edwards(l):this.curve=new r.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,f){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var h=new o(f);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:h}),h}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var d;try{d=Hee()}catch{d=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})}(p2)),p2}var x2,L_;function Vee(){if(L_)return x2;L_=1;var t=p6(),e=ON(),n=ed();function r(i){if(!(this instanceof r))return new r(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(i.entropy,i.entropyEnc||"hex"),o=e.toArray(i.nonce,i.nonceEnc||"hex"),a=e.toArray(i.pers,i.persEnc||"hex");n(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,o,a)}return x2=r,r.prototype._init=function(s,o,a){var d=s.concat(o).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},r.prototype._update=function(s){var o=this._hmac().update(this.V).update([0]);s&&(o=o.update(s)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(s,o,a,d){typeof o!="string"&&(d=a,a=o,o=null),s=e.toArray(s,o),a=e.toArray(a,d),n(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(a||[])),this._reseed=1},r.prototype.generate=function(s,o,a,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(d=a,a=o,o=null),a&&(a=e.toArray(a,d||"hex"),this._update(a));for(var l=[];l.length<s;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var f=l.slice(0,s);return this._update(a),this._reseed++,e.encode(f,o)},x2}var S2,U_;function Kee(){if(U_)return S2;U_=1;var t=wc(),e=uo(),n=e.assert;function r(i,s){this.ec=i,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return S2=r,r.fromPublic=function(s,o,a){return o instanceof r?o:new r(s,{pub:o,pubEnc:a})},r.fromPrivate=function(s,o,a){return o instanceof r?o:new r(s,{priv:o,privEnc:a})},r.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(s,o){return typeof s=="string"&&(o=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,s):this.pub},r.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(s,o){this.priv=new t(s,o||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(s,o){if(s.x||s.y){this.ec.curve.type==="mont"?n(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,o)},r.prototype.derive=function(s){return s.validate()||n(s.validate(),"public point not validated"),s.mul(this.priv).getX()},r.prototype.sign=function(s,o,a){return this.ec.sign(s,this,o,a)},r.prototype.verify=function(s,o,a){return this.ec.verify(s,o,this,void 0,a)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},S2}var I2,B_;function Gee(){if(B_)return I2;B_=1;var t=wc(),e=uo(),n=e.assert;function r(d,l){if(d instanceof r)return d;this._importDER(d,l)||(n(d.r&&d.s,"Signature without r or s"),this.r=new t(d.r,16),this.s=new t(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}I2=r;function i(){this.place=0}function s(d,l){var f=d[l.place++];if(!(f&128))return f;var h=f&15;if(h===0||h>4||d[l.place]===0)return!1;for(var g=0,y=0,v=l.place;y<h;y++,v++)g<<=8,g|=d[v],g>>>=0;return g<=127?!1:(l.place=v,g)}function o(d){for(var l=0,f=d.length-1;!d[l]&&!(d[l+1]&128)&&l<f;)l++;return l===0?d:d.slice(l)}r.prototype._importDER=function(l,f){l=e.toArray(l,f);var h=new i;if(l[h.place++]!==48)return!1;var g=s(l,h);if(g===!1||g+h.place!==l.length||l[h.place++]!==2)return!1;var y=s(l,h);if(y===!1||(l[h.place]&128)!==0)return!1;var v=l.slice(h.place,y+h.place);if(h.place+=y,l[h.place++]!==2)return!1;var w=s(l,h);if(w===!1||l.length!==w+h.place||(l[h.place]&128)!==0)return!1;var x=l.slice(h.place,w+h.place);if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;if(x[0]===0)if(x[1]&128)x=x.slice(1);else return!1;return this.r=new t(v),this.s=new t(x),this.recoveryParam=null,!0};function a(d,l){if(l<128){d.push(l);return}var f=1+(Math.log(l)/Math.LN2>>>3);for(d.push(f|128);--f;)d.push(l>>>(f<<3)&255);d.push(l)}return r.prototype.toDER=function(l){var f=this.r.toArray(),h=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),h[0]&128&&(h=[0].concat(h)),f=o(f),h=o(h);!h[0]&&!(h[1]&128);)h=h.slice(1);var g=[2];a(g,f.length),g=g.concat(f),g.push(2),a(g,h.length);var y=g.concat(h),v=[48];return a(v,y.length),v=v.concat(y),e.encode(v,l)},I2}var T2,F_;function Qee(){if(F_)return T2;F_=1;var t=wc(),e=Vee(),n=uo(),r=g6(),i=MN(),s=n.assert,o=Kee(),a=Gee();function d(l){if(!(this instanceof d))return new d(l);typeof l=="string"&&(s(Object.prototype.hasOwnProperty.call(r,l),"Unknown curve "+l),l=r[l]),l instanceof r.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return T2=d,d.prototype.keyPair=function(f){return new o(this,f)},d.prototype.keyFromPrivate=function(f,h){return o.fromPrivate(this,f,h)},d.prototype.keyFromPublic=function(f,h){return o.fromPublic(this,f,h)},d.prototype.genKeyPair=function(f){f||(f={});for(var h=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||i(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),y=this.n.sub(new t(2));;){var v=new t(h.generate(g));if(!(v.cmp(y)>0))return v.iaddn(1),this.keyFromPrivate(v)}},d.prototype._truncateToN=function(f,h,g){var y;if(t.isBN(f)||typeof f=="number")f=new t(f,16),y=f.byteLength();else if(typeof f=="object")y=f.length,f=new t(f,16);else{var v=f.toString();y=v.length+1>>>1,f=new t(v,16)}typeof g!="number"&&(g=y*8);var w=g-this.n.bitLength();return w>0&&(f=f.ushrn(w)),!h&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,h,g,y){if(typeof g=="object"&&(y=g,g=null),y||(y={}),typeof f!="string"&&typeof f!="number"&&!t.isBN(f)){s(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(f.length>>>0===f.length);for(var v=0;v<f.length;v++)s((f[v]&255)===f[v])}h=this.keyFromPrivate(h,g),f=this._truncateToN(f,!1,y.msgBitLength),s(!f.isNeg(),"Can not sign a negative message");var w=this.n.byteLength(),x=h.getPrivate().toArray("be",w),k=f.toArray("be",w);s(new t(k).eq(f),"Can not sign message");for(var N=new e({hash:this.hash,entropy:x,nonce:k,pers:y.pers,persEnc:y.persEnc||"utf8"}),R=this.n.sub(new t(1)),L=0;;L++){var O=y.k?y.k(L):new t(N.generate(this.n.byteLength()));if(O=this._truncateToN(O,!0),!(O.cmpn(1)<=0||O.cmp(R)>=0)){var D=this.g.mul(O);if(!D.isInfinity()){var F=D.getX(),q=F.umod(this.n);if(q.cmpn(0)!==0){var $=O.invm(this.n).mul(q.mul(h.getPrivate()).iadd(f));if($=$.umod(this.n),$.cmpn(0)!==0){var H=(D.getY().isOdd()?1:0)|(F.cmp(q)!==0?2:0);return y.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),H^=1),new a({r:q,s:$,recoveryParam:H})}}}}}},d.prototype.verify=function(f,h,g,y,v){v||(v={}),f=this._truncateToN(f,!1,v.msgBitLength),g=this.keyFromPublic(g,y),h=new a(h,"hex");var w=h.r,x=h.s;if(w.cmpn(1)<0||w.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var k=x.invm(this.n),N=k.mul(f).umod(this.n),R=k.mul(w).umod(this.n),L;return this.curve._maxwellTrick?(L=this.g.jmulAdd(N,g.getPublic(),R),L.isInfinity()?!1:L.eqXToP(w)):(L=this.g.mulAdd(N,g.getPublic(),R),L.isInfinity()?!1:L.getX().umod(this.n).cmp(w)===0)},d.prototype.recoverPubKey=function(l,f,h,g){s((3&h)===h,"The recovery param is more than two bits"),f=new a(f,g);var y=this.n,v=new t(l),w=f.r,x=f.s,k=h&1,N=h>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&N)throw new Error("Unable to find sencond key candinate");N?w=this.curve.pointFromX(w.add(this.curve.n),k):w=this.curve.pointFromX(w,k);var R=f.r.invm(y),L=y.sub(v).mul(R).umod(y),O=x.mul(R).umod(y);return this.g.mulAdd(L,w,O)},d.prototype.getKeyRecoveryParam=function(l,f,h,g){if(f=new a(f,g),f.recoveryParam!==null)return f.recoveryParam;for(var y=0;y<4;y++){var v;try{v=this.recoverPubKey(l,f,y)}catch{continue}if(v.eq(h))return y}throw new Error("Unable to find valid recovery factor")},T2}var P2,j_;function Yee(){if(j_)return P2;j_=1;var t=uo(),e=t.assert,n=t.parseBytes,r=t.cachedProperty;function i(s,o){this.eddsa=s,this._secret=n(o.secret),s.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=n(o.pub)}return i.fromPublic=function(o,a){return a instanceof i?a:new i(o,{pub:a})},i.fromSecret=function(o,a){return a instanceof i?a:new i(o,{secret:a})},i.prototype.secret=function(){return this._secret},r(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(i,"privBytes",function(){var o=this.eddsa,a=this.hash(),d=o.encodingLength-1,l=a.slice(0,o.encodingLength);return l[0]&=248,l[d]&=127,l[d]|=64,l}),r(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},i.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},i.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),o)},i.prototype.getPublic=function(o){return t.encode(this.pubBytes(),o)},P2=i,P2}var N2,z_;function Zee(){if(z_)return N2;z_=1;var t=wc(),e=uo(),n=e.assert,r=e.cachedProperty,i=e.parseBytes;function s(o,a){this.eddsa=o,typeof a!="object"&&(a=i(a)),Array.isArray(a)&&(n(a.length===o.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),n(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof t&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return r(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},N2=s,N2}var k2,W_;function Jee(){if(W_)return k2;W_=1;var t=p6(),e=g6(),n=uo(),r=n.assert,i=n.parseBytes,s=Yee(),o=Zee();function a(d){if(r(d==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(d);d=e[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=t.sha512}return k2=a,a.prototype.sign=function(l,f){l=i(l);var h=this.keyFromSecret(f),g=this.hashInt(h.messagePrefix(),l),y=this.g.mul(g),v=this.encodePoint(y),w=this.hashInt(v,h.pubBytes(),l).mul(h.priv()),x=g.add(w).umod(this.curve.n);return this.makeSignature({R:y,S:x,Rencoded:v})},a.prototype.verify=function(l,f,h){if(l=i(l),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var g=this.keyFromPublic(h),y=this.hashInt(f.Rencoded(),g.pubBytes(),l),v=this.g.mul(f.S()),w=f.R().add(g.pub().mul(y));return w.eq(v)},a.prototype.hashInt=function(){for(var l=this.hash(),f=0;f<arguments.length;f++)l.update(arguments[f]);return n.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return s.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return s.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof o?l:new o(this,l)},a.prototype.encodePoint=function(l){var f=l.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=l.getX().isOdd()?128:0,f},a.prototype.decodePoint=function(l){l=n.parseBytes(l);var f=l.length-1,h=l.slice(0,f).concat(l[f]&-129),g=(l[f]&128)!==0,y=n.intFromLE(h);return this.curve.pointFromY(y,g)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return n.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass},k2}var q_;function Xee(){return q_||(q_=1,function(t){var e=t;e.version=Mee.version,e.utils=uo(),e.rand=MN(),e.curve=DN(),e.curves=g6(),e.ec=Qee(),e.eddsa=Jee()}(s2)),s2}var ete=Xee();const tte={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var nte={};const rte=":";function cf(t){const[e,n]=t.split(rte);return{namespace:e,reference:n}}function BN(t,e){return t.includes(":")?[t]:e.chains||[]}const ite="ReactNative",Bs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ste="js";function ry(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ol(){return!$u.getDocument()&&!!$u.getNavigator()&&navigator.product===ite}function ote(){return Ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function ate(){return Ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function o1(){return!ry()&&!!$u.getNavigator()&&!!$u.getDocument()}function a1(){return Ol()?Bs.reactNative:ry()?Bs.node:o1()?Bs.browser:Bs.unknown}function H_(){var t;try{return Ol()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function cte(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function FN(){return mX.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function lte(){if(a1()===Bs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=lX();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function ute(){var t;const e=a1();return e===Bs.browser?[e,((t=$u.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function jN(t,e,n){const r=lte(),i=ute();return[[t,e].join("-"),[ste,n].join("-"),r,i].join("/")}function dte({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:d}){const l=n.split("?"),f=jN(t,e,r),h={auth:i,ua:f,projectId:s,useOnCloseEvent:o,packageName:d||void 0,bundleId:a||void 0},g=cte(l[1]||"",h);return l[0]+"?"+g}function du(t,e){return t.filter(n=>e.includes(n)).length===t.length}function l4(t){return Object.fromEntries(t.entries())}function u4(t){return new Map(Object.entries(t))}function Jl(t=Fe.FIVE_MINUTES,e){const n=Fe.toMiliseconds(t||Fe.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,d)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),d(l)},n),r=a,i=d})}}function ll(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function zN(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function fte(t){return zN("topic",t)}function hte(t){return zN("id",t)}function WN(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ai(t,e){return Fe.fromMiliseconds(Date.now()+Fe.toMiliseconds(t))}function Yc(t){return Date.now()>=Fe.toMiliseconds(t)}function Gn(t,e){return`${t}${e?`:${e}`:""}`}function hm(t=[],e=[]){return[...new Set([...t,...e])]}async function pte({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=gte(s,t,e),a=a1();if(a===Bs.browser){if(!((r=$u.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}mte(o)}else a===Bs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function gte(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${bte(r,!0)}`}else i=`${i}/wc?${r}`;return i}function mte(t){let e="_self";vte()?e="_top":(wte()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function yte(t,e){let n="";try{if(o1()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function V_(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function K_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function m6(){return typeof process<"u"&&nte.IS_VITEST==="true"}function wte(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function vte(){try{return window.self!==window.top}catch{return!1}}function bte(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function qN(t){return Buffer.from(t,"base64").toString("utf-8")}function Cte(t){return new Promise(e=>setTimeout(e,t))}function fp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ete(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ow(t,...e){if(!Ete(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function y6(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fp(t.outputLen),fp(t.blockLen)}function Rf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HN(t,e){ow(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zg=BigInt(2**32-1),G_=BigInt(32);function Ate(t,e=!1){return e?{h:Number(t&zg),l:Number(t>>G_&zg)}:{h:Number(t>>G_&zg)|0,l:Number(t&zg)|0}}function _te(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Ate(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const xte=(t,e,n)=>t<<n|e>>>32-n,Ste=(t,e,n)=>e<<n|t>>>32-n,Ite=(t,e,n)=>e<<n-32|t>>>64-n,Tte=(t,e,n)=>t<<n-32|e>>>64-n,Pd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Pte(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function R2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qo(t,e){return t<<32-e|t>>>e}const Q_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nte(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Y_(t){for(let e=0;e<t.length;e++)t[e]=Nte(t[e])}function kte(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Of(t){return typeof t=="string"&&(t=kte(t)),ow(t),t}let w6=class{clone(){return this._cloneInto()}};function VN(t){const e=r=>t().update(Of(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function c1(t=32){if(Pd&&typeof Pd.getRandomValues=="function")return Pd.getRandomValues(new Uint8Array(t));if(Pd&&typeof Pd.randomBytes=="function")return Pd.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const KN=[],GN=[],QN=[],Rte=BigInt(0),Gh=BigInt(1),Ote=BigInt(2),Mte=BigInt(7),Dte=BigInt(256),$te=BigInt(113);for(let t=0,e=Gh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],KN.push(2*(5*r+n)),GN.push((t+1)*(t+2)/2%64);let i=Rte;for(let s=0;s<7;s++)e=(e<<Gh^(e>>Mte)*$te)%Dte,e&Ote&&(i^=Gh<<(Gh<<BigInt(s))-Gh);QN.push(i)}const[Lte,Ute]=_te(QN,!0),Z_=(t,e,n)=>n>32?Ite(t,e,n):xte(t,e,n),J_=(t,e,n)=>n>32?Tte(t,e,n):Ste(t,e,n);function Bte(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,d=(o+2)%10,l=n[d],f=n[d+1],h=Z_(l,f,1)^n[a],g=J_(l,f,1)^n[a+1];for(let y=0;y<50;y+=10)t[o+y]^=h,t[o+y+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=GN[o],d=Z_(i,s,a),l=J_(i,s,a),f=KN[o];i=t[f],s=t[f+1],t[f]=d,t[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Lte[r],t[1]^=Ute[r]}n.fill(0)}let Fte=class YN extends w6{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Pte(this.state)}keccak(){Q_||Y_(this.state32),Bte(this.state32,this.rounds),Q_||Y_(this.state32),this.posOut=0,this.pos=0}update(e){Rf(this);const{blockLen:n,state:r}=this;e=Of(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rf(this,!1),ow(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new YN(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jte=(t,e,n)=>VN(()=>new Fte(e,t,n)),zte=jte(1,136,256/8),Wte="https://rpc.walletconnect.org/v1";function ZN(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(zte(n)).toString("hex")}async function qte(t,e,n,r,i,s){switch(n.t){case"eip191":return await Hte(t,e,n.s);case"eip1271":return await Vte(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Hte(t,e,n){return(await MX({hash:ZN(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Vte(t,e,n,r,i,s){const o=cf(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",f=n.substring(2),h=ZN(e).substring(2),g=a+h+d+l+f,y=await fetch(`${s||Wte}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Kte(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:v}=await y.json();return v?v.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Kte(){return Date.now()+Math.floor(Math.random()*1e3)}function Gte(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return IN.encode(s)}var Qte=Object.defineProperty,Yte=Object.defineProperties,Zte=Object.getOwnPropertyDescriptors,X_=Object.getOwnPropertySymbols,Jte=Object.prototype.hasOwnProperty,Xte=Object.prototype.propertyIsEnumerable,ex=(t,e,n)=>e in t?Qte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ene=(t,e)=>{for(var n in e||(e={}))Jte.call(e,n)&&ex(t,n,e[n]);if(X_)for(var n of X_(e))Xte.call(e,n)&&ex(t,n,e[n]);return t},tne=(t,e)=>Yte(t,Zte(e));const nne="did:pkh:",v6=t=>t==null?void 0:t.split(":"),rne=t=>{const e=t&&v6(t);if(e)return t.includes(nne)?e[3]:e[1]},d4=t=>{const e=t&&v6(t);if(e)return e[2]+":"+e[3]},iy=t=>{const e=t&&v6(t);if(e)return e.pop()};async function tx(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=JN(i,i.iss),o=iy(i.iss);return await qte(o,s,r,d4(i.iss),n)}const JN=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=iy(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${rne(e)}`,d=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,v=pm(t.resources);if(v){const w=hp(v);i=fne(i,w)}return[n,r,"",i,"",s,o,a,d,l,f,h,g,y].filter(w=>w!=null).join(`
`)};function ine(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function sne(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Uu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function one(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:ane(e,n,r)}}}function ane(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function XN(t){return Uu(t),`urn:recap:${ine(t).replace(/=/g,"")}`}function hp(t){const e=sne(t.replace("urn:recap:",""));return Uu(e),e}function cne(t,e,n){const r=one(t,e,n);return XN(r)}function lne(t){return t&&t.includes("urn:recap:")}function une(t,e){const n=hp(t),r=hp(e),i=dne(n,r);return XN(i)}function dne(t,e){Uu(t),Uu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,d)=>a.localeCompare(d)).forEach(a=>{var d,l;r.att[i]=tne(ene({},r.att[i]),{[a]:((d=t.att[i])==null?void 0:d[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function fne(t="",e){Uu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const d=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));d.sort((h,g)=>h.action.localeCompare(g.action));const l={};d.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const f=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join("', '")}' for '${a}'.`));r.push(f.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function nx(t){var e;const n=hp(t);Uu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function rx(t){const e=hp(t);Uu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function pm(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return lne(e)?e:void 0}function O2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ek(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $s(t,...e){if(!ek(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ix(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hne(t,e){$s(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function sx(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const yl=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),pne=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gne=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!gne)throw new Error("Non little-endian hardware is not supported");function mne(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function f4(t){if(typeof t=="string")t=mne(t);else if(ek(t))t=h4(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function yne(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function wne(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const vne=(t,e)=>{function n(r,...i){if($s(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?$s(l):$s(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&$s(i[1]);const o=e(r,...i),a=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error("cipher output not supported");$s(f)}};let d=!1;return{encrypt(l,f){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,$s(l),a(o.encrypt.length,f),o.encrypt(l,f)},decrypt(l,f){if($s(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,f),o.decrypt(l,f)}}}return Object.assign(n,t),n};function ox(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!bne(e))throw new Error("invalid output, must be aligned");return e}function ax(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function bne(t){return t.byteOffset%4===0}function h4(t){return Uint8Array.from(t)}function Mf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const tk=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Cne=tk("expand 16-byte k"),Ene=tk("expand 32-byte k"),Ane=yl(Cne),_ne=yl(Ene);function Ln(t,e){return t<<e|t>>>32-e}function p4(t){return t.byteOffset%4===0}const Wg=64,xne=16,nk=2**32-1,cx=new Uint32Array;function Sne(t,e,n,r,i,s,o,a){const d=i.length,l=new Uint8Array(Wg),f=yl(l),h=p4(i)&&p4(s),g=h?yl(i):cx,y=h?yl(s):cx;for(let v=0;v<d;o++){if(t(e,n,r,f,o,a),o>=nk)throw new Error("arx: counter overflow");const w=Math.min(Wg,d-v);if(h&&w===Wg){const x=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let k=0,N;k<xne;k++)N=x+k,y[N]=g[N]^f[k];v+=Wg;continue}for(let x=0,k;x<w;x++)k=v+x,s[k]=i[k]^l[x];v+=w}}function Ine(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=yne({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return O2(i),O2(o),sx(s),sx(n),(a,d,l,f,h=0)=>{$s(a),$s(d),$s(l);const g=l.length;if(f===void 0&&(f=new Uint8Array(g)),$s(f),O2(h),h<0||h>=nk)throw new Error("arx: counter overflow");if(f.length<g)throw new Error(`arx: output (${f.length}) is shorter than data (${g})`);const y=[];let v=a.length,w,x;if(v===32)y.push(w=h4(a)),x=_ne;else if(v===16&&n)w=new Uint8Array(32),w.set(a),w.set(a,16),x=Ane,y.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);p4(d)||y.push(d=h4(d));const k=yl(w);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(x,k,yl(d.subarray(0,16)),k),d=d.subarray(16)}const N=16-i;if(N!==d.length)throw new Error(`arx: nonce must be ${N} or 16 bytes`);if(N!==12){const L=new Uint8Array(12);L.set(d,s?0:12-d.length),d=L,y.push(d)}const R=yl(d);return Sne(t,x,k,R,l,f,h,o),Mf(...y),f}}const Si=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Tne=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=f4(e),$s(e,32);const n=Si(e,0),r=Si(e,2),i=Si(e,4),s=Si(e,6),o=Si(e,8),a=Si(e,10),d=Si(e,12),l=Si(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|d<<5)&8065,this.r[8]=(d>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let f=0;f<8;f++)this.pad[f]=Si(e,16+2*f)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],d=o[1],l=o[2],f=o[3],h=o[4],g=o[5],y=o[6],v=o[7],w=o[8],x=o[9],k=Si(e,n+0),N=Si(e,n+2),R=Si(e,n+4),L=Si(e,n+6),O=Si(e,n+8),D=Si(e,n+10),F=Si(e,n+12),q=Si(e,n+14);let $=s[0]+(k&8191),H=s[1]+((k>>>13|N<<3)&8191),P=s[2]+((N>>>10|R<<6)&8191),m=s[3]+((R>>>7|L<<9)&8191),C=s[4]+((L>>>4|O<<12)&8191),S=s[5]+(O>>>1&8191),_=s[6]+((O>>>14|D<<2)&8191),I=s[7]+((D>>>11|F<<5)&8191),j=s[8]+((F>>>8|q<<8)&8191),W=s[9]+(q>>>5|i),B=0,E=B+$*a+H*(5*x)+P*(5*w)+m*(5*v)+C*(5*y);B=E>>>13,E&=8191,E+=S*(5*g)+_*(5*h)+I*(5*f)+j*(5*l)+W*(5*d),B+=E>>>13,E&=8191;let U=B+$*d+H*a+P*(5*x)+m*(5*w)+C*(5*v);B=U>>>13,U&=8191,U+=S*(5*y)+_*(5*g)+I*(5*h)+j*(5*f)+W*(5*l),B+=U>>>13,U&=8191;let J=B+$*l+H*d+P*a+m*(5*x)+C*(5*w);B=J>>>13,J&=8191,J+=S*(5*v)+_*(5*y)+I*(5*g)+j*(5*h)+W*(5*f),B+=J>>>13,J&=8191;let ie=B+$*f+H*l+P*d+m*a+C*(5*x);B=ie>>>13,ie&=8191,ie+=S*(5*w)+_*(5*v)+I*(5*y)+j*(5*g)+W*(5*h),B+=ie>>>13,ie&=8191;let ce=B+$*h+H*f+P*l+m*d+C*a;B=ce>>>13,ce&=8191,ce+=S*(5*x)+_*(5*w)+I*(5*v)+j*(5*y)+W*(5*g),B+=ce>>>13,ce&=8191;let ue=B+$*g+H*h+P*f+m*l+C*d;B=ue>>>13,ue&=8191,ue+=S*a+_*(5*x)+I*(5*w)+j*(5*v)+W*(5*y),B+=ue>>>13,ue&=8191;let Ae=B+$*y+H*g+P*h+m*f+C*l;B=Ae>>>13,Ae&=8191,Ae+=S*d+_*a+I*(5*x)+j*(5*w)+W*(5*v),B+=Ae>>>13,Ae&=8191;let $e=B+$*v+H*y+P*g+m*h+C*f;B=$e>>>13,$e&=8191,$e+=S*l+_*d+I*a+j*(5*x)+W*(5*w),B+=$e>>>13,$e&=8191;let le=B+$*w+H*v+P*y+m*g+C*h;B=le>>>13,le&=8191,le+=S*f+_*l+I*d+j*a+W*(5*x),B+=le>>>13,le&=8191;let re=B+$*x+H*w+P*v+m*y+C*g;B=re>>>13,re&=8191,re+=S*h+_*f+I*l+j*d+W*a,B+=re>>>13,re&=8191,B=(B<<2)+B|0,B=B+E|0,E=B&8191,B=B>>>13,U+=B,s[0]=E,s[1]=U,s[2]=J,s[3]=ie,s[4]=ce,s[5]=ue,s[6]=Ae,s[7]=$e,s[8]=le,s[9]=re}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Mf(r)}update(e){ix(this);const{buffer:n,blockLen:r}=this;e=f4(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Mf(this.h,this.r,this.buffer,this.pad)}digestInto(e){ix(this),hne(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function Pne(t){const e=(r,i)=>t(i).update(f4(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Nne=Pne(t=>new Tne(t));function kne(t,e,n,r,i,s=20){let o=t[0],a=t[1],d=t[2],l=t[3],f=e[0],h=e[1],g=e[2],y=e[3],v=e[4],w=e[5],x=e[6],k=e[7],N=i,R=n[0],L=n[1],O=n[2],D=o,F=a,q=d,$=l,H=f,P=h,m=g,C=y,S=v,_=w,I=x,j=k,W=N,B=R,E=L,U=O;for(let ie=0;ie<s;ie+=2)D=D+H|0,W=Ln(W^D,16),S=S+W|0,H=Ln(H^S,12),D=D+H|0,W=Ln(W^D,8),S=S+W|0,H=Ln(H^S,7),F=F+P|0,B=Ln(B^F,16),_=_+B|0,P=Ln(P^_,12),F=F+P|0,B=Ln(B^F,8),_=_+B|0,P=Ln(P^_,7),q=q+m|0,E=Ln(E^q,16),I=I+E|0,m=Ln(m^I,12),q=q+m|0,E=Ln(E^q,8),I=I+E|0,m=Ln(m^I,7),$=$+C|0,U=Ln(U^$,16),j=j+U|0,C=Ln(C^j,12),$=$+C|0,U=Ln(U^$,8),j=j+U|0,C=Ln(C^j,7),D=D+P|0,U=Ln(U^D,16),I=I+U|0,P=Ln(P^I,12),D=D+P|0,U=Ln(U^D,8),I=I+U|0,P=Ln(P^I,7),F=F+m|0,W=Ln(W^F,16),j=j+W|0,m=Ln(m^j,12),F=F+m|0,W=Ln(W^F,8),j=j+W|0,m=Ln(m^j,7),q=q+C|0,B=Ln(B^q,16),S=S+B|0,C=Ln(C^S,12),q=q+C|0,B=Ln(B^q,8),S=S+B|0,C=Ln(C^S,7),$=$+H|0,E=Ln(E^$,16),_=_+E|0,H=Ln(H^_,12),$=$+H|0,E=Ln(E^$,8),_=_+E|0,H=Ln(H^_,7);let J=0;r[J++]=o+D|0,r[J++]=a+F|0,r[J++]=d+q|0,r[J++]=l+$|0,r[J++]=f+H|0,r[J++]=h+P|0,r[J++]=g+m|0,r[J++]=y+C|0,r[J++]=v+S|0,r[J++]=w+_|0,r[J++]=x+I|0,r[J++]=k+j|0,r[J++]=N+W|0,r[J++]=R+B|0,r[J++]=L+E|0,r[J++]=O+U|0}const Rne=Ine(kne,{counterRight:!1,counterLength:4,allowShortKeys:!1}),One=new Uint8Array(16),lx=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(One.subarray(n))},Mne=new Uint8Array(32);function ux(t,e,n,r,i){const s=t(e,n,Mne),o=Nne.create(s);i&&lx(o,i),lx(o,r);const a=new Uint8Array(16),d=pne(a);ax(d,0,BigInt(i?i.length:0),!0),ax(d,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Mf(s,a),l}const Dne=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=ox(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const d=ux(t,e,n,a,r);return s.set(d,o),Mf(d),s},decrypt(i,s){s=ox(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),d=ux(t,e,n,o,r);if(!wne(a,d))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Mf(d),s}}),rk=vne({blockSize:64,nonceLength:12,tagLength:16},Dne(Rne));let ik=class extends w6{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,y6(e);const r=Of(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Rf(this),this.iHash.update(e),this}digestInto(e){Rf(this),ow(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const b6=(t,e,n)=>new ik(t,e).update(n).digest();b6.create=(t,e)=>new ik(t,e);function $ne(t,e,n){return y6(t),n===void 0&&(n=new Uint8Array(t.outputLen)),b6(t,Of(n),Of(e))}const M2=new Uint8Array([0]),dx=new Uint8Array;function Lne(t,e,n,r=32){if(y6(t),fp(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=dx);const s=new Uint8Array(i*t.outputLen),o=b6.create(t,e),a=o._cloneInto(),d=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)M2[0]=l+1,a.update(l===0?dx:d).update(n).update(M2).digestInto(d),s.set(d,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),d.fill(0),M2.fill(0),s.slice(0,r)}const Une=(t,e,n,r,i)=>Lne(t,$ne(t,e,n),r,i);function Bne(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),d=r?4:0,l=r?0:4;t.setUint32(e+d,o,r),t.setUint32(e+l,a,r)}function Fne(t,e,n){return t&e^~t&n}function jne(t,e,n){return t&e^t&n^e&n}class zne extends w6{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=R2(this.buffer)}update(e){Rf(this);const{view:n,buffer:r,blockLen:i}=this;e=Of(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const d=R2(e);for(;i<=s-o;o+=i)this.process(d,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rf(this),HN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Bne(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=R2(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=d/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const Wne=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qc=new Uint32Array(64);let qne=class extends zne{constructor(){super(64,32,8,!1),this.A=Wc[0]|0,this.B=Wc[1]|0,this.C=Wc[2]|0,this.D=Wc[3]|0,this.E=Wc[4]|0,this.F=Wc[5]|0,this.G=Wc[6]|0,this.H=Wc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:d}=this;return[e,n,r,i,s,o,a,d]}set(e,n,r,i,s,o,a,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=d|0}process(e,n){for(let h=0;h<16;h++,n+=4)qc[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const g=qc[h-15],y=qc[h-2],v=Qo(g,7)^Qo(g,18)^g>>>3,w=Qo(y,17)^Qo(y,19)^y>>>10;qc[h]=w+qc[h-7]+v+qc[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:d,G:l,H:f}=this;for(let h=0;h<64;h++){const g=Qo(a,6)^Qo(a,11)^Qo(a,25),y=f+g+Fne(a,d,l)+Wne[h]+qc[h]|0,v=(Qo(r,2)^Qo(r,13)^Qo(r,22))+jne(r,i,s)|0;f=l,l=d,d=a,a=o+y|0,o=s,s=i,i=r,r=y+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,d=d+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,d,l,f)}roundClean(){qc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const aw=VN(()=>new qne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sk=BigInt(0);function C6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ok(t){if(!C6(t))throw new Error("Uint8Array expected")}const Hne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vne(t){ok(t);let e="";for(let n=0;n<t.length;n++)e+=Hne[t[n]];return e}function Kne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?sk:BigInt("0x"+t)}const Fa={_0:48,_9:57,A:65,F:70,a:97,f:102};function fx(t){if(t>=Fa._0&&t<=Fa._9)return t-Fa._0;if(t>=Fa.A&&t<=Fa.F)return t-(Fa.A-10);if(t>=Fa.a&&t<=Fa.f)return t-(Fa.a-10)}function ak(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=fx(t.charCodeAt(s)),a=fx(t.charCodeAt(s+1));if(o===void 0||a===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=o*16+a}return r}function hx(t){return ok(t),Kne(Vne(Uint8Array.from(t).reverse()))}function Gne(t,e){return ak(t.toString(16).padStart(e*2,"0"))}function Qne(t,e){return Gne(t,e).reverse()}function px(t,e,n){let r;if(typeof e=="string")try{r=ak(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(C6(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const D2=t=>typeof t=="bigint"&&sk<=t;function Yne(t,e,n){return D2(t)&&D2(e)&&D2(n)&&e<=t&&t<n}function gx(t,e,n,r){if(!Yne(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}const Zne={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||C6(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Jne(t,e,n={}){const r=(i,s,o)=>{const a=Zne[s];if(typeof a!="function")throw new Error("invalid validator function");const d=t[i];if(!(o&&d===void 0)&&!a(d,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+d)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const tf=BigInt(0),qg=BigInt(1);function ck(t,e){const n=t%e;return n>=tf?n:e+n}function Xne(t,e,n){if(e<tf)throw new Error("invalid exponent, negatives unsupported");if(n<=tf)throw new Error("invalid modulus");if(n===qg)return tf;let r=qg;for(;e>tf;)e&qg&&(r=r*t%n),t=t*t%n,e>>=qg;return r}function _o(t,e,n){let r=t;for(;e-- >tf;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Nd=BigInt(0),$2=BigInt(1);function ere(t){return Jne(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function tre(t){const e=ere(t),{P:n}=e,r=N=>ck(N,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(N=>N),d=e.powPminus2||(N=>Xne(N,n-BigInt(2),n));function l(N,R,L){const O=r(N*(R-L));return R=r(R-O),L=r(L+O),[R,L]}const f=(e.a-BigInt(2))/BigInt(4);function h(N,R){gx("u",N,Nd,n),gx("scalar",R,Nd,n);const L=R,O=N;let D=$2,F=Nd,q=N,$=$2,H=Nd,P;for(let C=BigInt(i-1);C>=Nd;C--){const S=L>>C&$2;H^=S,P=l(H,D,q),D=P[0],q=P[1],P=l(H,F,$),F=P[0],$=P[1],H=S;const _=D+F,I=r(_*_),j=D-F,W=r(j*j),B=I-W,E=q+$,U=q-$,J=r(U*_),ie=r(E*j),ce=J+ie,ue=J-ie;q=r(ce*ce),$=r(O*r(ue*ue)),D=r(I*W),F=r(B*(I+r(f*B)))}P=l(H,D,q),D=P[0],q=P[1],P=l(H,F,$),F=P[0],$=P[1];const m=d(F);return r(D*m)}function g(N){return Qne(r(N),s)}function y(N){const R=px("u coordinate",N,s);return o===32&&(R[31]&=127),hx(R)}function v(N){const R=px("scalar",N),L=R.length;if(L!==s&&L!==o){let O=""+s+" or "+o;throw new Error("invalid scalar, expected "+O+" bytes, got "+L)}return hx(a(R))}function w(N,R){const L=y(R),O=v(N),D=h(L,O);if(D===Nd)throw new Error("invalid private or public key received");return g(D)}const x=g(e.Gu);function k(N){return w(N,x)}return{scalarMult:w,scalarMultBase:k,getSharedSecret:(N,R)=>w(N,R),getPublicKey:N=>k(N),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:x}}const g4=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const nre=BigInt(1),mx=BigInt(2),rre=BigInt(3),ire=BigInt(5);BigInt(8);function sre(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=g4,o=t*t%s*t%s,a=_o(o,mx,s)*o%s,d=_o(a,nre,s)*t%s,l=_o(d,ire,s)*d%s,f=_o(l,e,s)*l%s,h=_o(f,n,s)*f%s,g=_o(h,r,s)*h%s,y=_o(g,i,s)*g%s,v=_o(y,i,s)*g%s,w=_o(v,e,s)*l%s;return{pow_p_5_8:_o(w,mx,s)*t%s,b2:o}}function ore(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const m4=tre({P:g4,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=g4,{pow_p_5_8:n,b2:r}=sre(t);return ck(_o(n,rre,e)*r,e)},adjustScalarBytes:ore,randomBytes:c1}),lk="base10",Gi="base16",ul="base64pad",Qh="base64url",l1="utf8",uk=0,ic=1,u1=2,are=0,yx=1,P0=12,E6=32;function cre(){const t=m4.utils.randomPrivateKey(),e=m4.getPublicKey(t);return{privateKey:is(t,Gi),publicKey:is(e,Gi)}}function y4(){const t=c1(E6);return is(t,Gi)}function lre(t,e){const n=m4.getSharedSecret(io(t,Gi),io(e,Gi)),r=Une(aw,n,void 0,void 0,E6);return is(r,Gi)}function gm(t){const e=aw(io(t,Gi));return is(e,Gi)}function oa(t){const e=aw(io(t,l1));return is(e,Gi)}function dk(t){return io(`${t}`,lk)}function Bu(t){return Number(is(t,lk))}function ure(t){const e=dk(typeof t.type<"u"?t.type:uk);if(Bu(e)===ic&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?io(t.senderPublicKey,Gi):void 0,r=typeof t.iv<"u"?io(t.iv,Gi):c1(P0),i=io(t.symKey,Gi),s=rk(i,r).encrypt(io(t.message,l1));return fk({type:e,sealed:s,iv:r,senderPublicKey:n,encoding:t.encoding})}function dre(t){const e=io(t.symKey,Gi),{sealed:n,iv:r}=pp(t),i=rk(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return is(i,l1)}function fre(t,e){const n=dk(u1),r=c1(P0),i=io(t,l1);return fk({type:n,sealed:i,iv:r,encoding:e})}function hre(t,e){const{sealed:n}=pp({encoded:t,encoding:e});return is(n,l1)}function fk(t){const{encoding:e=ul}=t;if(Bu(t.type)===u1)return is(r2([t.type,t.sealed]),e);if(Bu(t.type)===ic){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return is(r2([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return is(r2([t.type,t.iv,t.sealed]),e)}function pp(t){const{encoded:e,encoding:n=ul}=t,r=io(e,n),i=r.slice(are,yx),s=yx;if(Bu(i)===ic){const l=s+E6,f=l+P0,h=r.slice(s,l),g=r.slice(l,f),y=r.slice(f);return{type:i,sealed:y,iv:g,senderPublicKey:h}}if(Bu(i)===u1){const l=r.slice(s),f=c1(P0);return{type:i,sealed:l,iv:f}}const o=s+P0,a=r.slice(s,o),d=r.slice(o);return{type:i,sealed:d,iv:a}}function pre(t,e){const n=pp({encoded:t,encoding:e==null?void 0:e.encoding});return hk({type:Bu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?is(n.senderPublicKey,Gi):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function hk(t){const e=(t==null?void 0:t.type)||uk;if(e===ic){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function wx(t){return t.type===ic&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function vx(t){return t.type===u1}function gre(t){return new ete.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function mre(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const n=e.length%4;return n>0&&(e+="=".repeat(4-n)),e}function yre(t){return Buffer.from(mre(t),"base64")}function wre(t,e){const[n,r,i]=t.split("."),s=yre(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),d=`${n}.${r}`,l=aw(d),f=gre(e),h=is(l,Gi);if(!f.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return o4(t).payload}const vre="irn";function sy(t){return(t==null?void 0:t.relay)||{protocol:vre}}function h0(t){const e=tte[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function bre(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function bx(t){if(!t.includes("wc:")){const l=qN(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,f)=>{a[f]=l});const d=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Cre(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:bre(a),methods:d,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Cre(t){return t.startsWith("//")?t.substring(2):t}function Ere(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function Cx(t){const e=new URLSearchParams,n=Ere(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Hg(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function rh(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Are(t){const e=[];return Object.values(t).forEach(n=>{e.push(...rh(n.accounts))}),e}function _re(t,e){const n=[];return Object.values(t).forEach(r=>{rh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function xre(t,e){const n=[];return Object.values(t).forEach(r=>{rh(r.accounts).includes(e)&&n.push(...r.events)}),n}function A6(t){return t.includes(":")}function p0(t){return A6(t)?t.split(":")[0]:t}function Sre(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function Ex(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Sre(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=hm(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const Ire={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Tre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function We(t,e){const{message:n,code:r}=Tre[t];return{message:e?`${n} ${e}`:n,code:r}}function cr(t,e){const{message:n,code:r}=Ire[t];return{message:e?`${n} ${e}`:n,code:r}}function Fu(t,e){return!!Array.isArray(t)}function gp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ni(t){return typeof t>"u"}function ei(t,e){return e&&Ni(t)?!0:typeof t=="string"&&!!t.trim().length}function _6(t,e){return e&&Ni(t)?!0:typeof t=="number"&&!isNaN(t)}function Pre(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return du(i,r)?(r.forEach(o=>{const{accounts:a,methods:d,events:l}=t.namespaces[o],f=rh(a),h=n[o];(!du(BN(o,h),f)||!du(h.methods,d)||!du(h.events,l))&&(s=!1)}),s):!1}function oy(t){return ei(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Nre(t){if(ei(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&oy(n)}}return!1}function kre(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(ei(t,!1)){if(e(t))return!0;const n=qN(t);return e(n)}}catch{}return!1}function Rre(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Ore(t){return t==null?void 0:t.topic}function Mre(t,e){let n=null;return ei(t==null?void 0:t.publicKey,!1)||(n=We("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Ax(t){let e=!0;return Fu(t)?t.length&&(e=t.every(n=>ei(n,!1))):e=!1,e}function Dre(t,e,n){let r=null;return Fu(e)&&e.length?e.forEach(i=>{r||oy(i)||(r=cr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):oy(t)||(r=cr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function $re(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Dre(i,BN(i,s),`${e} ${n}`);o&&(r=o)}),r}function Lre(t,e){let n=null;return Fu(t)?t.forEach(r=>{n||Nre(r)||(n=cr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=cr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Ure(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Lre(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function Bre(t,e){let n=null;return Ax(t==null?void 0:t.methods)?Ax(t==null?void 0:t.events)||(n=cr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=cr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function pk(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Bre(r,`${e}, namespace`);i&&(n=i)}),n}function Fre(t,e,n){let r=null;if(t&&gp(t)){const i=pk(t,e);i&&(r=i);const s=$re(t,e,n);s&&(r=s)}else r=We("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function L2(t,e){let n=null;if(t&&gp(t)){const r=pk(t,e);r&&(n=r);const i=Ure(t,e);i&&(n=i)}else n=We("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function gk(t){return ei(t.protocol,!0)}function jre(t,e){let n=!1;return t?t&&Fu(t)&&t.length&&t.forEach(r=>{n=gk(r)}):n=!0,n}function zre(t){return typeof t=="number"}function vs(t){return typeof t<"u"&&typeof t!==null}function Wre(t){return!(!t||typeof t!="object"||!t.code||!_6(t.code,!1)||!t.message||!ei(t.message,!1))}function qre(t){return!(Ni(t)||!ei(t.method,!1))}function Hre(t){return!(Ni(t)||Ni(t.result)&&Ni(t.error)||!_6(t.id,!1)||!ei(t.jsonrpc,!1))}function Vre(t){return!(Ni(t)||!ei(t.name,!1))}function _x(t,e){return!(!oy(e)||!Are(t).includes(e))}function Kre(t,e,n){return ei(n,!1)?_re(t,e).includes(n):!1}function Gre(t,e,n){return ei(n,!1)?xre(t,e).includes(n):!1}function xx(t,e,n){let r=null;const i=Qre(t),s=Yre(e),o=Object.keys(i),a=Object.keys(s),d=Sx(Object.keys(t)),l=Sx(Object.keys(e)),f=d.filter(h=>!l.includes(h));return f.length&&(r=We("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),du(o,a)||(r=We("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const g=rh(e[h].accounts);g.includes(h)||(r=We("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${g.toString()}`))}),o.forEach(h=>{r||(du(i[h].methods,s[h].methods)?du(i[h].events,s[h].events)||(r=We("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=We("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function Qre(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function Sx(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Yre(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=rh(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Zre(t,e){return _6(t,!1)&&t<=e.max&&t>=e.min}function Ix(){const t=a1();return new Promise(e=>{switch(t){case Bs.browser:e(Jre());break;case Bs.reactNative:e(Xre());break;case Bs.node:e(eie());break;default:e(!0)}})}function Jre(){return o1()&&(navigator==null?void 0:navigator.onLine)}async function Xre(){if(Ol()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function eie(){return!0}function tie(t){switch(a1()){case Bs.browser:nie(t);break;case Bs.reactNative:rie(t);break}}function nie(t){!Ol()&&o1()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function rie(t){Ol()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const U2={};class Yh{static get(e){return U2[e]}static set(e,n){U2[e]=n}static delete(e){delete U2[e]}}const iie="PARSE_ERROR",sie="INVALID_REQUEST",oie="METHOD_NOT_FOUND",aie="INVALID_PARAMS",mk="INTERNAL_ERROR",x6="SERVER_ERROR",cie=[-32700,-32600,-32601,-32602,-32603],N0={[iie]:{code:-32700,message:"Parse error"},[sie]:{code:-32600,message:"Invalid Request"},[oie]:{code:-32601,message:"Method not found"},[aie]:{code:-32602,message:"Invalid params"},[mk]:{code:-32603,message:"Internal error"},[x6]:{code:-32e3,message:"Server error"}},yk=x6;function lie(t){return cie.includes(t)}function Tx(t){return Object.keys(N0).includes(t)?N0[t]:N0[yk]}function uie(t){const e=Object.values(N0).find(n=>n.code===t);return e||N0[yk]}function wk(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var B2={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w4=function(t,e){return w4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},w4(t,e)};function die(t,e){w4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var v4=function(){return v4=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v4.apply(this,arguments)};function fie(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hie(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function pie(t,e){return function(n,r){e(n,r,t)}}function gie(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mie(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(h){o(h)}}function d(f){try{l(r.throw(f))}catch(h){o(h)}}function l(f){f.done?s(f.value):i(f.value).then(a,d)}l((r=r.apply(t,e||[])).next())})}function yie(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return d([l,f])}}function d(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function wie(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function vie(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function b4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vk(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function bie(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vk(arguments[e]));return t}function Cie(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function mp(t){return this instanceof mp?(this.v=t,this):new mp(t)}function Eie(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(v,w){s.push([g,y,v,w])>1||a(g,y)})})}function a(g,y){try{d(r[g](y))}catch(v){h(s[0][3],v)}}function d(g){g.value instanceof mp?Promise.resolve(g.value.v).then(l,f):h(s[0][2],g)}function l(g){a("next",g)}function f(g){a("throw",g)}function h(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Aie(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:mp(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function _ie(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b4=="function"?b4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,d){o=t[s](o),i(a,d,o.done,o.value)})}}function i(s,o,a,d){Promise.resolve(d).then(function(l){s({value:l,done:a})},o)}}function xie(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Sie(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Iie(t){return t&&t.__esModule?t:{default:t}}function Tie(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Pie(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Nie=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return v4},__asyncDelegator:Aie,__asyncGenerator:Eie,__asyncValues:_ie,__await:mp,__awaiter:mie,__classPrivateFieldGet:Tie,__classPrivateFieldSet:Pie,__createBinding:wie,__decorate:hie,__exportStar:vie,__extends:die,__generator:yie,__importDefault:Iie,__importStar:Sie,__makeTemplateObject:xie,__metadata:gie,__param:pie,__read:vk,__rest:fie,__spread:bie,__spreadArrays:Cie,__values:b4},Symbol.toStringTag,{value:"Module"})),kie=Z4(Nie);var ja={},Px;function Rie(){if(Px)return ja;Px=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.isBrowserCryptoAvailable=ja.getSubtleCrypto=ja.getBrowerCrypto=void 0;function t(){return(sa==null?void 0:sa.crypto)||(sa==null?void 0:sa.msCrypto)||{}}ja.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ja.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ja.isBrowserCryptoAvailable=n,ja}var za={},Nx;function Oie(){if(Nx)return za;Nx=1,Object.defineProperty(za,"__esModule",{value:!0}),za.isBrowser=za.isNode=za.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}za.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}za.isNode=e;function n(){return!t()&&!e()}return za.isBrowser=n,za}var kx;function Mie(){return kx||(kx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=kie;e.__exportStar(Rie(),t),e.__exportStar(Oie(),t)}(B2)),B2}var Die=Mie();function ea(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function fu(t=6){return BigInt(ea(t))}function dl(t,e,n){return{id:n||ea(),jsonrpc:"2.0",method:t,params:e}}function cw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function lw(t,e,n){return{id:t,jsonrpc:"2.0",error:$ie(e)}}function $ie(t,e){return typeof t>"u"?Tx(mk):(typeof t=="string"&&(t=Object.assign(Object.assign({},Tx(x6)),{message:t})),lie(t.code)&&(t=uie(t.code)),t)}let Lie=class{},Uie=class extends Lie{constructor(){super()}},Bie=class extends Uie{constructor(e){super()}};const Fie="^https?:",jie="^wss?:";function zie(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function bk(t,e){const n=zie(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Rx(t){return bk(t,Fie)}function Ox(t){return bk(t,jie)}function Wie(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ck(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function S6(t){return Ck(t)&&"method"in t}function uw(t){return Ck(t)&&(ta(t)||ro(t))}function ta(t){return"result"in t}function ro(t){return"error"in t}let fo=class extends Bie{constructor(e){super(e),this.events=new lo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(dl(e.method,e.params||[],e.id||fu().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{ro(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),uw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const qie=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Hie=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Mx=t=>t.split("?")[0],Dx=10,Vie=qie();let Kie=class{constructor(e){if(this.url=e,this.events=new lo.EventEmitter,this.registering=!1,!Ox(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(dc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Ox(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=Die.isReactNative()?void 0:{rejectUnauthorized:!Wie(e)},s=new Vie(e,[],i);Hie()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Du(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=lw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return wk(e,Mx(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Dx&&this.events.setMaxListeners(Dx)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Mx(this.url)}`));return this.events.emit("register_error",n),n}};const Ek="wc",Ak=2,C4="core",wa=`${Ek}@2:${C4}:`,Gie={logger:"error"},Qie={database:":memory:"},Yie="crypto",$x="client_ed25519_seed",Zie=Fe.ONE_DAY,Jie="keychain",Xie="0.3",ese="messages",tse="0.3",Lx=Fe.SIX_HOURS,nse="publisher",_k="irn",rse="error",xk="wss://relay.walletconnect.org",ise="relayer",vi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},sse="_subscription",Ys={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ose=.1,E4="2.19.1",Ir={link_mode:"link_mode",relay:"relay"},mm={inbound:"inbound",outbound:"outbound"},ase="0.3",cse="WALLETCONNECT_CLIENT_ID",Ux="WALLETCONNECT_LINK_MODE_APPS",Ms={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lse="subscription",use="0.3",dse="pairing",fse="0.3",Zh={wc_pairingDelete:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Fe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Fe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:0}}},su={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Co={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},hse="history",pse="0.3",gse="expirer",to={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},mse="0.3",yse="verify-api",wse="https://verify.walletconnect.com",Sk="https://verify.walletconnect.org",k0=Sk,vse=`${k0}/v3`,bse=[wse,Sk],Cse="echo",Ese="https://echo.walletconnect.com",Xo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Va={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Eo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ql={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Yl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Jh={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Ase=.1,_se="event-client",xse=86400,Sse="https://pulse.walletconnect.org/batch";function Ise(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,d=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var w=0,x=0,k=0,N=v.length;k!==N&&v[k]===0;)k++,w++;for(var R=(N-k)*f+1>>>0,L=new Uint8Array(R);k!==N;){for(var O=v[k],D=0,F=R-1;(O!==0||D<x)&&F!==-1;F--,D++)O+=256*L[F]>>>0,L[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");x=D,k++}for(var q=R-x;q!==R&&L[q]===0;)q++;for(var $=d.repeat(w);q<R;++q)$+=t.charAt(L[q]);return $}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var w=0;if(v[w]!==" "){for(var x=0,k=0;v[w]===d;)x++,w++;for(var N=(v.length-w)*l+1>>>0,R=new Uint8Array(N);v[w];){var L=n[v.charCodeAt(w)];if(L===255)return;for(var O=0,D=N-1;(L!==0||O<k)&&D!==-1;D--,O++)L+=a*R[D]>>>0,R[D]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");k=O,w++}if(v[w]!==" "){for(var F=N-k;F!==N&&R[F]===0;)F++;for(var q=new Uint8Array(x+(N-F)),$=x;F!==N;)q[$++]=R[F++];return q}}}function y(v){var w=g(v);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:g,decode:y}}var Tse=Ise,Pse=Tse;const Ik=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Nse=t=>new TextEncoder().encode(t),kse=t=>new TextDecoder().decode(t);class Rse{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ose{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Tk(this,e)}}class Mse{constructor(e){this.decoders=e}or(e){return Tk(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Tk=(t,e)=>new Mse({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Dse{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Rse(e,n,r),this.decoder=new Ose(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const dw=({name:t,prefix:e,encode:n,decode:r})=>new Dse(t,e,n,r),d1=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Pse(n,e);return dw({prefix:t,name:e,encode:r,decode:s=>Ik(i(s))})},$se=(t,e,n,r)=>{const i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,d=0,l=0;for(let f=0;f<s;++f){const h=i[t[f]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&d>>a)}if(a>=n||255&d<<8-a)throw new SyntaxError("Unexpected end of data");return o},Lse=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let d=0;d<t.length;++d)for(a=a<<8|t[d],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ui=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>dw({prefix:e,name:t,encode(i){return Lse(i,r,n)},decode(i){return $se(i,r,n,t)}}),Use=dw({prefix:"\0",name:"identity",encode:t=>kse(t),decode:t=>Nse(t)});var Bse=Object.freeze({__proto__:null,identity:Use});const Fse=Ui({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jse=Object.freeze({__proto__:null,base2:Fse});const zse=Ui({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wse=Object.freeze({__proto__:null,base8:zse});const qse=d1({prefix:"9",name:"base10",alphabet:"0123456789"});var Hse=Object.freeze({__proto__:null,base10:qse});const Vse=Ui({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kse=Ui({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Gse=Object.freeze({__proto__:null,base16:Vse,base16upper:Kse});const Qse=Ui({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Yse=Ui({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zse=Ui({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jse=Ui({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xse=Ui({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eoe=Ui({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),toe=Ui({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),noe=Ui({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),roe=Ui({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ioe=Object.freeze({__proto__:null,base32:Qse,base32upper:Yse,base32pad:Zse,base32padupper:Jse,base32hex:Xse,base32hexupper:eoe,base32hexpad:toe,base32hexpadupper:noe,base32z:roe});const soe=d1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ooe=d1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var aoe=Object.freeze({__proto__:null,base36:soe,base36upper:ooe});const coe=d1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),loe=d1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uoe=Object.freeze({__proto__:null,base58btc:coe,base58flickr:loe});const doe=Ui({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),foe=Ui({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hoe=Ui({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),poe=Ui({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var goe=Object.freeze({__proto__:null,base64:doe,base64pad:foe,base64url:hoe,base64urlpad:poe});const Pk=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),moe=Pk.reduce((t,e,n)=>(t[n]=e,t),[]),yoe=Pk.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function woe(t){return t.reduce((e,n)=>(e+=moe[n],e),"")}function voe(t){const e=[];for(const n of t){const r=yoe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const boe=dw({prefix:"🚀",name:"base256emoji",encode:woe,decode:voe});var Coe=Object.freeze({__proto__:null,base256emoji:boe}),Eoe=Nk,Bx=128,Aoe=-128,_oe=Math.pow(2,31);function Nk(t,e,n){e=e||[],n=n||0;for(var r=n;t>=_oe;)e[n++]=t&255|Bx,t/=128;for(;t&Aoe;)e[n++]=t&255|Bx,t>>>=7;return e[n]=t|0,Nk.bytes=n-r+1,e}var xoe=A4,Soe=128,Fx=127;function A4(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw A4.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Fx)<<i:(o&Fx)*Math.pow(2,i),i+=7}while(o>=Soe);return A4.bytes=s-r,n}var Ioe=Math.pow(2,7),Toe=Math.pow(2,14),Poe=Math.pow(2,21),Noe=Math.pow(2,28),koe=Math.pow(2,35),Roe=Math.pow(2,42),Ooe=Math.pow(2,49),Moe=Math.pow(2,56),Doe=Math.pow(2,63),$oe=function(t){return t<Ioe?1:t<Toe?2:t<Poe?3:t<Noe?4:t<koe?5:t<Roe?6:t<Ooe?7:t<Moe?8:t<Doe?9:10},Loe={encode:Eoe,decode:xoe,encodingLength:$oe},kk=Loe;const jx=(t,e,n=0)=>(kk.encode(t,e,n),e),zx=t=>kk.encodingLength(t),_4=(t,e)=>{const n=e.byteLength,r=zx(t),i=r+zx(n),s=new Uint8Array(i+n);return jx(t,s,0),jx(n,s,r),s.set(e,i),new Uoe(t,n,e,s)};class Uoe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const Rk=({name:t,code:e,encode:n})=>new Boe(t,e,n);class Boe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?_4(this.code,n):n.then(r=>_4(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Ok=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Foe=Rk({name:"sha2-256",code:18,encode:Ok("SHA-256")}),joe=Rk({name:"sha2-512",code:19,encode:Ok("SHA-512")});var zoe=Object.freeze({__proto__:null,sha256:Foe,sha512:joe});const Mk=0,Woe="identity",Dk=Ik,qoe=t=>_4(Mk,Dk(t)),Hoe={code:Mk,name:Woe,encode:Dk,digest:qoe};var Voe=Object.freeze({__proto__:null,identity:Hoe});new TextEncoder,new TextDecoder;const Wx={...Bse,...jse,...Wse,...Hse,...Gse,...ioe,...aoe,...uoe,...goe,...Coe};({...zoe,...Voe});function Koe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function $k(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const qx=$k("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),F2=$k("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Koe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Goe={utf8:qx,"utf-8":qx,hex:Wx.base16,latin1:F2,ascii:F2,binary:F2,...Wx};function Qoe(t,e="utf8"){const n=Goe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var Yoe=Object.defineProperty,Zoe=(t,e,n)=>e in t?Yoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yo=(t,e,n)=>Zoe(t,typeof e!="symbol"?e+"":e,n);class Joe{constructor(e,n){this.core=e,this.logger=n,Yo(this,"keychain",new Map),Yo(this,"name",Jie),Yo(this,"version",Xie),Yo(this,"initialized",!1),Yo(this,"storagePrefix",wa),Yo(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Yo(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Yo(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Yo(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=We("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Yo(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Yi(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,l4(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u4(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xoe=Object.defineProperty,eae=(t,e,n)=>e in t?Xoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ii=(t,e,n)=>eae(t,typeof e!="symbol"?e+"":e,n);class tae{constructor(e,n,r){this.core=e,this.logger=n,Ii(this,"name",Yie),Ii(this,"keychain"),Ii(this,"randomSessionIdentifier",y4()),Ii(this,"initialized",!1),Ii(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ii(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ii(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=t_(i);return yN(s.publicKey)}),Ii(this,"generateKeyPair",()=>{this.isInitialized();const i=cre();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ii(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=t_(s),a=this.randomSessionIdentifier;return await eX(a,i,Zie,o)}),Ii(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),d=lre(a,s);return this.setSymKey(d,o)}),Ii(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||gm(i);return await this.keychain.set(o,i),o}),Ii(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ii(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ii(this,"encode",async(i,s,o)=>{this.isInitialized();const a=hk(o),d=dc(s);if(vx(a))return fre(d,o==null?void 0:o.encoding);if(wx(a)){const g=a.senderPublicKey,y=a.receiverPublicKey;i=await this.generateSharedKey(g,y)}const l=this.getSymKey(i),{type:f,senderPublicKey:h}=a;return ure({type:f,symKey:l,message:d,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Ii(this,"decode",async(i,s,o)=>{this.isInitialized();const a=pre(s,o);if(vx(a)){const d=hre(s,o==null?void 0:o.encoding);return Du(d)}if(wx(a)){const d=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(d,l)}try{const d=this.getSymKey(i),l=dre({symKey:d,encoded:s,encoding:o==null?void 0:o.encoding});return Du(l)}catch(d){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(d)}}),Ii(this,"getPayloadType",(i,s=ul)=>{const o=pp({encoded:i,encoding:s});return Bu(o.type)}),Ii(this,"getPayloadSenderPublicKey",(i,s=ul)=>{const o=pp({encoded:i,encoding:s});return o.senderPublicKey?is(o.senderPublicKey,Gi):void 0}),this.core=e,this.logger=Yi(n,this.name),this.keychain=r||new Joe(this.core,this.logger)}get context(){return Ss(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get($x)}catch{e=y4(),await this.keychain.set($x,e)}return Qoe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nae=Object.defineProperty,rae=Object.defineProperties,iae=Object.getOwnPropertyDescriptors,Hx=Object.getOwnPropertySymbols,sae=Object.prototype.hasOwnProperty,oae=Object.prototype.propertyIsEnumerable,x4=(t,e,n)=>e in t?nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aae=(t,e)=>{for(var n in e||(e={}))sae.call(e,n)&&x4(t,n,e[n]);if(Hx)for(var n of Hx(e))oae.call(e,n)&&x4(t,n,e[n]);return t},cae=(t,e)=>rae(t,iae(e)),Rs=(t,e,n)=>x4(t,typeof e!="symbol"?e+"":e,n);class lae extends JQ{constructor(e,n){super(e,n),this.logger=e,this.core=n,Rs(this,"messages",new Map),Rs(this,"messagesWithoutClientAck",new Map),Rs(this,"name",ese),Rs(this,"version",tse),Rs(this,"initialized",!1),Rs(this,"storagePrefix",wa),Rs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Rs(this,"set",async(r,i,s)=>{this.isInitialized();const o=oa(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===mm.inbound){const d=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,cae(aae({},d),{[o]:i}))}return await this.persist(),o}),Rs(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Rs(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Rs(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=oa(i);return typeof s[o]<"u"}),Rs(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=oa(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Rs(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Yi(e,this.name),this.core=n}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,l4(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,l4(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u4(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?u4(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uae=Object.defineProperty,dae=Object.defineProperties,fae=Object.getOwnPropertyDescriptors,Vx=Object.getOwnPropertySymbols,hae=Object.prototype.hasOwnProperty,pae=Object.prototype.propertyIsEnumerable,S4=(t,e,n)=>e in t?uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vg=(t,e)=>{for(var n in e||(e={}))hae.call(e,n)&&S4(t,n,e[n]);if(Vx)for(var n of Vx(e))pae.call(e,n)&&S4(t,n,e[n]);return t},j2=(t,e)=>dae(t,fae(e)),Ao=(t,e,n)=>S4(t,typeof e!="symbol"?e+"":e,n);class gae extends XQ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ao(this,"events",new lo.EventEmitter),Ao(this,"name",nse),Ao(this,"queue",new Map),Ao(this,"publishTimeout",Fe.toMiliseconds(Fe.ONE_MINUTE)),Ao(this,"initialPublishTimeout",Fe.toMiliseconds(Fe.ONE_SECOND*15)),Ao(this,"needsTransportRestart",!1),Ao(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||Lx,d=sy(s),l=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||fu().toString(),g={topic:r,message:i,opts:{ttl:a,relay:d,prompt:l,tag:f,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},y=`Failed to publish payload, please try again. id:${h} tag:${f}`;try{const v=new Promise(async w=>{const x=({id:N})=>{g.opts.id===N&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(vi.publish,x),w(g))};this.relayer.events.on(vi.publish,x);const k=ll(new Promise((N,R)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:f,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(N).catch(L=>{this.logger.warn(L,L==null?void 0:L.message),R(L)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${f}`);try{await k,this.events.removeListener(vi.publish,x)}catch(N){this.queue.set(h,j2(Vg({},g),{attempt:1})),this.logger.warn(N,N==null?void 0:N.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:i,opts:s}}),await ll(v,this.publishTimeout,y)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw v}finally{this.queue.delete(h)}}),Ao(this,"on",(r,i)=>{this.events.on(r,i)}),Ao(this,"once",(r,i)=>{this.events.once(r,i)}),Ao(this,"off",(r,i)=>{this.events.off(r,i)}),Ao(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Yi(n,this.name),this.registerEventListeners()}get context(){return Ss(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:d=Lx,prompt:l,tag:f,id:h,attestation:g,tvf:y}=e,v={method:h0(sy().protocol).publish,params:Vg({topic:o,message:a,ttl:d,prompt:l,tag:f,attestation:g},y),id:h};Ni((n=v.params)==null?void 0:n.prompt)&&((r=v.params)==null||delete r.prompt),Ni((i=v.params)==null?void 0:i.tag)&&((s=v.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const w=await this.relayer.request(v);return this.relayer.events.emit(vi.publish,e),this.logger.debug("Successfully Published Payload"),w}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,j2(Vg({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(j2(Vg({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Jf.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vi.connection_stalled);return}this.checkQueue()}),this.relayer.on(vi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var mae=Object.defineProperty,yae=(t,e,n)=>e in t?mae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kd=(t,e,n)=>yae(t,typeof e!="symbol"?e+"":e,n);class wae{constructor(){kd(this,"map",new Map),kd(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),kd(this,"get",e=>this.map.get(e)||[]),kd(this,"exists",(e,n)=>this.get(e).includes(n)),kd(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),kd(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var vae=Object.defineProperty,bae=Object.defineProperties,Cae=Object.getOwnPropertyDescriptors,Kx=Object.getOwnPropertySymbols,Eae=Object.prototype.hasOwnProperty,Aae=Object.prototype.propertyIsEnumerable,I4=(t,e,n)=>e in t?vae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xh=(t,e)=>{for(var n in e||(e={}))Eae.call(e,n)&&I4(t,n,e[n]);if(Kx)for(var n of Kx(e))Aae.call(e,n)&&I4(t,n,e[n]);return t},z2=(t,e)=>bae(t,Cae(e)),dr=(t,e,n)=>I4(t,typeof e!="symbol"?e+"":e,n);class _ae extends nY{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,dr(this,"subscriptions",new Map),dr(this,"topicMap",new wae),dr(this,"events",new lo.EventEmitter),dr(this,"name",lse),dr(this,"version",use),dr(this,"pending",new Map),dr(this,"cached",[]),dr(this,"initialized",!1),dr(this,"storagePrefix",wa),dr(this,"subscribeTimeout",Fe.toMiliseconds(Fe.ONE_MINUTE)),dr(this,"initialSubscribeTimeout",Fe.toMiliseconds(Fe.ONE_SECOND*15)),dr(this,"clientId"),dr(this,"batchSubscribeTopicsLimit",500),dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),dr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=sy(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),dr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),dr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),dr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),dr(this,"on",(r,i)=>{this.events.on(r,i)}),dr(this,"once",(r,i)=>{this.events.once(r,i)}),dr(this,"off",(r,i)=>{this.events.off(r,i)}),dr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),dr(this,"start",async()=>{await this.onConnect()}),dr(this,"stop",async()=>{await this.onDisconnect()}),dr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),dr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),dr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Jf.pulse,async()=>{await this.checkPending()}),this.events.on(Ms.created,async r=>{const i=Ms.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ms.deleted,async r=>{const i=Ms.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Yi(n,this.name),this.clientId=""}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=sy(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=cr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===Ir.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:h0(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ir.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(f=>this.logger.warn(f))},Fe.toMiliseconds(Fe.ONE_SECOND)),a;const d=new Promise(async f=>{const h=g=>{g.topic===e&&(this.events.removeListener(Ms.created,h),f(g.id))};this.events.on(Ms.created,h);try{const g=await ll(new Promise((y,v)=>{this.relayer.request(s).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),v(w)}).then(y)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ms.created,h),f(g)}catch{}}),l=await ll(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vi.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:h0(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ll(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:h0(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await ll(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:h0(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,z2(Xh({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Xh({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Xh({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ms.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=We("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ms.deleted,z2(Xh({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ms.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ms.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>z2(Xh({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Cte(Fe.toMiliseconds(Fe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return oa(e+await this.getClientId())}}var xae=Object.defineProperty,Gx=Object.getOwnPropertySymbols,Sae=Object.prototype.hasOwnProperty,Iae=Object.prototype.propertyIsEnumerable,T4=(t,e,n)=>e in t?xae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qx=(t,e)=>{for(var n in e||(e={}))Sae.call(e,n)&&T4(t,n,e[n]);if(Gx)for(var n of Gx(e))Iae.call(e,n)&&T4(t,n,e[n]);return t},Un=(t,e,n)=>T4(t,typeof e!="symbol"?e+"":e,n);class Tae extends eY{constructor(e){super(e),Un(this,"protocol","wc"),Un(this,"version",2),Un(this,"core"),Un(this,"logger"),Un(this,"events",new lo.EventEmitter),Un(this,"provider"),Un(this,"messages"),Un(this,"subscriber"),Un(this,"publisher"),Un(this,"name",ise),Un(this,"transportExplicitlyClosed",!1),Un(this,"initialized",!1),Un(this,"connectionAttemptInProgress",!1),Un(this,"relayUrl"),Un(this,"projectId"),Un(this,"packageName"),Un(this,"bundleId"),Un(this,"hasExperiencedNetworkDisruption",!1),Un(this,"pingTimeout"),Un(this,"heartBeatTimeout",Fe.toMiliseconds(Fe.THIRTY_SECONDS+Fe.FIVE_SECONDS)),Un(this,"reconnectTimeout"),Un(this,"connectPromise"),Un(this,"reconnectInProgress",!1),Un(this,"requestsInFlight",[]),Un(this,"connectTimeout",Fe.toMiliseconds(Fe.ONE_SECOND*15)),Un(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||fu().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Un(this,"resetPingTimeout",()=>{ry()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Un(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Un(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(vi.connect)}),Un(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Un(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Un(this,"registerProviderListeners",()=>{this.provider.on(Ys.payload,this.onPayloadHandler),this.provider.on(Ys.connect,this.onConnectHandler),this.provider.on(Ys.disconnect,this.onDisconnectHandler),this.provider.on(Ys.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Yi(e.logger,this.name):t1(Xf({level:e.logger||rse})),this.messages=new lae(this.logger,e.core),this.subscriber=new _ae(this,this.logger),this.publisher=new gae(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||xk,this.projectId=e.projectId,ote()?this.packageName=H_():ate()&&(this.bundleId=H_()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Ss(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ir.relay},mm.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",d;const l=f=>{f.topic===e&&(this.subscriber.off(Ms.created,l),d())};return await Promise.all([new Promise(f=>{d=f,this.subscriber.on(Ms.created,l)}),new Promise(async(f,h)=>{a=await this.subscriber.subscribe(e,Qx({internal:{throwOnFailedPublish:o}},n)).catch(g=>{o&&h(g)})||a,f()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ll(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ix())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=ai(Fe.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(vi.message,e),await this.recordMessageEvent(e,mm.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ys.disconnect,s),await ll(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ys.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const d=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ys.disconnect,d),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ys.disconnect,d)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Fe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(ry())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fo(new Kie(dte({sdkVersion:E4,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),S6(e)){if(!e.method.endsWith(sse))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Ir.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Qx({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else uw(e)&&this.events.emit(vi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,mm.inbound),this.events.emit(vi.message,e))}async acknowledgePayload(e){const n=cw(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ys.payload,this.onPayloadHandler),this.provider.off(Ys.connect,this.onConnectHandler),this.provider.off(Ys.disconnect,this.onDisconnectHandler),this.provider.off(Ys.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Ix();tie(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Fe.toMiliseconds(ose)))))}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function Pae(){}function Yx(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Zx(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Jx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Nae="[object RegExp]",kae="[object String]",Rae="[object Number]",Oae="[object Boolean]",Xx="[object Arguments]",Mae="[object Symbol]",Dae="[object Date]",$ae="[object Map]",Lae="[object Set]",Uae="[object Array]",Bae="[object Function]",Fae="[object ArrayBuffer]",W2="[object Object]",jae="[object Error]",zae="[object DataView]",Wae="[object Uint8Array]",qae="[object Uint8ClampedArray]",Hae="[object Uint16Array]",Vae="[object Uint32Array]",Kae="[object BigUint64Array]",Gae="[object Int8Array]",Qae="[object Int16Array]",Yae="[object Int32Array]",Zae="[object BigInt64Array]",Jae="[object Float32Array]",Xae="[object Float64Array]";function ece(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function tce(t,e,n){return g0(t,e,void 0,void 0,void 0,void 0,n)}function g0(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return R0(t,e,s,o)}return R0(t,e,s,o)}function R0(t,e,n,r){if(Object.is(t,e))return!0;let i=Jx(t),s=Jx(e);if(i===Xx&&(i=W2),s===Xx&&(s=W2),i!==s)return!1;switch(i){case kae:return t.toString()===e.toString();case Rae:{const d=t.valueOf(),l=e.valueOf();return ece(d,l)}case Oae:case Dae:case Mae:return Object.is(t.valueOf(),e.valueOf());case Nae:return t.source===e.source&&t.flags===e.flags;case Bae:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case $ae:{if(t.size!==e.size)return!1;for(const[d,l]of t.entries())if(!e.has(d)||!g0(l,e.get(d),d,t,e,n,r))return!1;return!0}case Lae:{if(t.size!==e.size)return!1;const d=Array.from(t.values()),l=Array.from(e.values());for(let f=0;f<d.length;f++){const h=d[f],g=l.findIndex(y=>g0(h,y,void 0,t,e,n,r));if(g===-1)return!1;l.splice(g,1)}return!0}case Uae:case Wae:case qae:case Hae:case Vae:case Kae:case Gae:case Qae:case Yae:case Zae:case Jae:case Xae:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let d=0;d<t.length;d++)if(!g0(t[d],e[d],d,t,e,n,r))return!1;return!0}case Fae:return t.byteLength!==e.byteLength?!1:R0(new Uint8Array(t),new Uint8Array(e),n,r);case zae:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:R0(new Uint8Array(t),new Uint8Array(e),n,r);case jae:return t.name===e.name&&t.message===e.message;case W2:{if(!(R0(t.constructor,e.constructor,n,r)||Yx(t)&&Yx(e)))return!1;const d=[...Object.keys(t),...Zx(t)],l=[...Object.keys(e),...Zx(e)];if(d.length!==l.length)return!1;for(let f=0;f<d.length;f++){const h=d[f],g=t[h];if(!Object.hasOwn(e,h))return!1;const y=e[h];if(!g0(g,y,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function nce(t,e){return tce(t,e,Pae)}var rce=Object.defineProperty,e7=Object.getOwnPropertySymbols,ice=Object.prototype.hasOwnProperty,sce=Object.prototype.propertyIsEnumerable,P4=(t,e,n)=>e in t?rce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t7=(t,e)=>{for(var n in e||(e={}))ice.call(e,n)&&P4(t,n,e[n]);if(e7)for(var n of e7(e))sce.call(e,n)&&P4(t,n,e[n]);return t},gs=(t,e,n)=>P4(t,typeof e!="symbol"?e+"":e,n);class td extends tY{constructor(e,n,r,i=wa,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,gs(this,"map",new Map),gs(this,"version",ase),gs(this,"cached",[]),gs(this,"initialized",!1),gs(this,"getKey"),gs(this,"storagePrefix",wa),gs(this,"recentlyDeleted",[]),gs(this,"recentlyDeletedLimit",200),gs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Ni(o)?this.map.set(this.getKey(o),o):Rre(o)?this.map.set(o.id,o):Ore(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),gs(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),gs(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),gs(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(d=>nce(a[d],o[d]))):this.values)),gs(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const d=t7(t7({},this.getData(o)),a);this.map.set(o,d),await this.persist()}),gs(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Yi(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=We("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=We("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var oce=Object.defineProperty,ace=(t,e,n)=>e in t?oce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>ace(t,typeof e!="symbol"?e+"":e,n);class cce{constructor(e,n){this.core=e,this.logger=n,Sn(this,"name",dse),Sn(this,"version",fse),Sn(this,"events",new i6),Sn(this,"pairings"),Sn(this,"initialized",!1),Sn(this,"storagePrefix",wa),Sn(this,"ignoredPayloadTypes",[ic]),Sn(this,"registeredMethods",[]),Sn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Sn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Sn(this,"create",async r=>{this.isInitialized();const i=y4(),s=await this.core.crypto.setSymKey(i),o=ai(Fe.FIVE_MINUTES),a={protocol:_k},d={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=Cx({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(su.create,d),this.core.expirer.set(s,o),await this.pairings.set(s,d),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),Sn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Xo.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:d,methods:l}=bx(r.uri);i.props.properties.topic=s,i.addTrace(Xo.pairing_uri_validation_success),i.addTrace(Xo.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(Xo.existing_pairing),f.active)throw i.setError(Va.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Xo.pairing_not_expired)}const h=d||ai(Fe.FIVE_MINUTES),g={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,g),i.addTrace(Xo.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(su.create,g),i.addTrace(Xo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Xo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Va.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(y){throw i.setError(Va.subscribe_pairing_topic_failure),y}return i.addTrace(Xo.subscribe_pairing_topic_success),g}),Sn(this,"activate",async({topic:r})=>{this.isInitialized();const i=ai(Fe.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Sn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:d}=Jl();this.events.once(Gn("pairing_ping",s),({error:l})=>{l?d(l):a()}),await o()}}),Sn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Sn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Sn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Sn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",cr("USER_DISCONNECTED")),await this.deletePairing(i))}),Sn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,d=this.core.crypto.keychain.get(i);return Cx({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:d,relay:s,expiryTimestamp:o,methods:a})}),Sn(this,"sendRequest",async(r,i,s)=>{const o=dl(i,s),a=await this.core.crypto.encode(r,o),d=Zh[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,d),o.id}),Sn(this,"sendResult",async(r,i,s)=>{const o=cw(r,s),a=await this.core.crypto.encode(i,o),d=(await this.core.history.get(i,r)).request.method,l=Zh[d].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Sn(this,"sendError",async(r,i,s)=>{const o=lw(r,s),a=await this.core.crypto.encode(i,o),d=(await this.core.history.get(i,r)).request.method,l=Zh[d]?Zh[d].res:Zh.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Sn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,cr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Sn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Yc(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Sn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Sn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Sn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(su.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Sn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ta(i)?this.events.emit(Gn("pairing_ping",s),{}):ro(i)&&this.events.emit(Gn("pairing_ping",s),{error:i.error})},500)}),Sn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(su.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Sn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=cr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Sn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(cr("WC_METHOD_UNSUPPORTED",r))}),Sn(this,"isValidPair",(r,i)=>{var s;if(!vs(r)){const{message:a}=We("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(!kre(r.uri)){const{message:a}=We("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Va.malformed_pairing_uri),new Error(a)}const o=bx(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=We("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=We("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Va.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Fe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Va.pairing_expired);const{message:a}=We("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Sn(this,"isValidPing",async r=>{if(!vs(r)){const{message:s}=We("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Sn(this,"isValidDisconnect",async r=>{if(!vs(r)){const{message:s}=We("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Sn(this,"isValidPairingTopic",async r=>{if(!ei(r,!1)){const{message:i}=We("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=We("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Yc(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=We("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Yi(n,this.name),this.pairings=new td(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ss(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ir.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);S6(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):uw(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(to.expired,async e=>{const{topic:n}=WN(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(su.expire,{topic:n}))})}}var lce=Object.defineProperty,uce=(t,e,n)=>e in t?lce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ti=(t,e,n)=>uce(t,typeof e!="symbol"?e+"":e,n);class dce extends ZQ{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ti(this,"records",new Map),Ti(this,"events",new lo.EventEmitter),Ti(this,"name",hse),Ti(this,"version",pse),Ti(this,"cached",[]),Ti(this,"initialized",!1),Ti(this,"storagePrefix",wa),Ti(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ti(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:ai(Fe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Co.created,o)}),Ti(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=ro(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Co.updated,i))}),Ti(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ti(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Co.deleted,s)}}),this.persist()}),Ti(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ti(this,"on",(r,i)=>{this.events.on(r,i)}),Ti(this,"once",(r,i)=>{this.events.once(r,i)}),Ti(this,"off",(r,i)=>{this.events.off(r,i)}),Ti(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yi(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:dl(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=We("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Co.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Co.created,e=>{const n=Co.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Co.updated,e=>{const n=Co.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Co.deleted,e=>{const n=Co.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Jf.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Fe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Co.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fce=Object.defineProperty,hce=(t,e,n)=>e in t?fce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wi=(t,e,n)=>hce(t,typeof e!="symbol"?e+"":e,n);class pce extends rY{constructor(e,n){super(e,n),this.core=e,this.logger=n,Wi(this,"expirations",new Map),Wi(this,"events",new lo.EventEmitter),Wi(this,"name",gse),Wi(this,"version",mse),Wi(this,"cached",[]),Wi(this,"initialized",!1),Wi(this,"storagePrefix",wa),Wi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Wi(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Wi(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(to.created,{target:s,expiration:o})}),Wi(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Wi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(to.deleted,{target:i,expiration:s})}}),Wi(this,"on",(r,i)=>{this.events.on(r,i)}),Wi(this,"once",(r,i)=>{this.events.once(r,i)}),Wi(this,"off",(r,i)=>{this.events.off(r,i)}),Wi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yi(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fte(e);if(typeof e=="number")return hte(e);const{message:n}=We("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(to.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=We("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Fe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(to.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Jf.pulse,()=>this.checkExpirations()),this.events.on(to.created,e=>{const n=to.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(to.expired,e=>{const n=to.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(to.deleted,e=>{const n=to.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gce=Object.defineProperty,mce=(t,e,n)=>e in t?gce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xr=(t,e,n)=>mce(t,typeof e!="symbol"?e+"":e,n);class yce extends iY{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Xr(this,"name",yse),Xr(this,"abortController"),Xr(this,"isDevEnv"),Xr(this,"verifyUrlV3",vse),Xr(this,"storagePrefix",wa),Xr(this,"version",Ak),Xr(this,"publicKey"),Xr(this,"fetchPromise"),Xr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Fe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Xr(this,"register",async i=>{if(!o1()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,d=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=$u.getDocument(),f=this.startAbortTimer(Fe.ONE_SECOND*5),h=await new Promise((g,y)=>{const v=()=>{window.removeEventListener("message",x),l.body.removeChild(w),y("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const w=l.createElement("iframe");w.src=d,w.style.display="none",w.addEventListener("error",v,{signal:this.abortController.signal});const x=k=>{if(k.data&&typeof k.data=="string")try{const N=JSON.parse(k.data);if(N.type==="verify_attestation"){if(o4(N.attestation).payload.id!==o)return;clearInterval(f),l.body.removeChild(w),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",x),g(N.attestation===null?"":N.attestation)}}catch(N){this.logger.warn(N)}};l.body.appendChild(w),window.addEventListener("message",x,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(l){this.logger.warn(l)}return""}),Xr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(o4(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const d=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,d)}),Xr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Fe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Xr(this,"getVerifyUrl",i=>{let s=i||k0;return bse.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${k0}`),s=k0),s}),Xr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Fe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Xr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Xr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Xr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Xr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Xr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Xr(this,"validateAttestation",(i,s)=>{const o=wre(i,s.publicKey),a={hasExpired:Fe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Yi(n,this.name),this.abortController=new AbortController,this.isDevEnv=m6(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ss(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Fe.toMiliseconds(e))}}var wce=Object.defineProperty,vce=(t,e,n)=>e in t?wce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n7=(t,e,n)=>vce(t,typeof e!="symbol"?e+"":e,n);class bce extends sY{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,n7(this,"context",Cse),n7(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,d=`${Ese}/${this.projectId}/clients`;await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Yi(n,this.context)}}var Cce=Object.defineProperty,r7=Object.getOwnPropertySymbols,Ece=Object.prototype.hasOwnProperty,Ace=Object.prototype.propertyIsEnumerable,N4=(t,e,n)=>e in t?Cce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e0=(t,e)=>{for(var n in e||(e={}))Ece.call(e,n)&&N4(t,n,e[n]);if(r7)for(var n of r7(e))Ace.call(e,n)&&N4(t,n,e[n]);return t},mi=(t,e,n)=>N4(t,typeof e!="symbol"?e+"":e,n);class _ce extends oY{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,mi(this,"context",_se),mi(this,"storagePrefix",wa),mi(this,"storageVersion",Ase),mi(this,"events",new Map),mi(this,"shouldPersist",!1),mi(this,"init",async()=>{if(!m6())try{const i={eventId:K_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:jN(this.core.relayer.protocol,this.core.relayer.version,E4)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),mi(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:d}}=i,l=K_(),f=this.core.projectId||"",h=Date.now(),g=e0({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:d}},bundleId:f,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,g),this.shouldPersist=!0),g}),mi(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(d=>d.props.properties.topic===o);if(a)return e0(e0({},a),this.setMethods(a.eventId))}),mi(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),mi(this,"setEventListeners",()=>{this.core.heartbeat.on(Jf.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Fe.fromMiliseconds(Date.now())-Fe.fromMiliseconds(i.timestamp)>xse&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),mi(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),mi(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),mi(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),mi(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),mi(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,e0(e0({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),mi(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),mi(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Sse}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${E4}${s}`,{method:"POST",body:JSON.stringify(i)})}),mi(this,"getAppDomain",()=>FN().url),this.logger=Yi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var xce=Object.defineProperty,i7=Object.getOwnPropertySymbols,Sce=Object.prototype.hasOwnProperty,Ice=Object.prototype.propertyIsEnumerable,k4=(t,e,n)=>e in t?xce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s7=(t,e)=>{for(var n in e||(e={}))Sce.call(e,n)&&k4(t,n,e[n]);if(i7)for(var n of i7(e))Ice.call(e,n)&&k4(t,n,e[n]);return t},yr=(t,e,n)=>k4(t,typeof e!="symbol"?e+"":e,n);let Tce=class Lk extends KQ{constructor(e){var n;super(e),yr(this,"protocol",Ek),yr(this,"version",Ak),yr(this,"name",C4),yr(this,"relayUrl"),yr(this,"projectId"),yr(this,"customStoragePrefix"),yr(this,"events",new lo.EventEmitter),yr(this,"logger"),yr(this,"heartbeat"),yr(this,"relayer"),yr(this,"crypto"),yr(this,"storage"),yr(this,"history"),yr(this,"expirer"),yr(this,"pairing"),yr(this,"verify"),yr(this,"echoClient"),yr(this,"linkModeSupportedApps"),yr(this,"eventClient"),yr(this,"initialized",!1),yr(this,"logChunkController"),yr(this,"on",(o,a)=>this.events.on(o,a)),yr(this,"once",(o,a)=>this.events.once(o,a)),yr(this,"off",(o,a)=>this.events.off(o,a)),yr(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),yr(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:d})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:Ir.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:d})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||xk,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=Xf({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Gie.logger,name:C4}),{logger:i,chunkLoggerController:s}=o6({opts:r,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Yi(i,this.name),this.heartbeat=new VG,this.crypto=new tae(this,this.logger,e==null?void 0:e.keychain),this.history=new dce(this,this.logger),this.expirer=new pce(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new TQ(s7(s7({},Qie),e==null?void 0:e.storageOptions)),this.relayer=new Tae({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new cce(this,this.logger),this.verify=new yce(this,this.logger,this.storage),this.echoClient=new bce(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new _ce(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const n=new Lk(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(cse,r),n}get context(){return Ss(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Ux,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Ux)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Pce=Tce,Uk="wc",Bk=2,Fk="client",I6=`${Uk}@${Bk}:${Fk}:`,q2={name:Fk,logger:"error"},o7="WALLETCONNECT_DEEPLINK_CHOICE",Nce="proposal",a7="Proposal expired",kce="session",Rd=Fe.SEVEN_DAYS,Rce="engine",yi={wc_sessionPropose:{req:{ttl:Fe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Fe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Fe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Fe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Fe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Fe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Fe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Fe.FIVE_MINUTES,prompt:!1,tag:1119}}},H2={min:Fe.FIVE_MINUTES,max:Fe.SEVEN_DAYS},Zo={idle:"IDLE",active:"ACTIVE"},c7={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Oce="request",Mce=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Dce="wc",$ce="auth",Lce="authKeys",Uce="pairingTopics",Bce="requests",fw=`${Dce}@${1.5}:${$ce}:`,ym=`${fw}:PUB_KEY`;var Fce=Object.defineProperty,jce=Object.defineProperties,zce=Object.getOwnPropertyDescriptors,l7=Object.getOwnPropertySymbols,Wce=Object.prototype.hasOwnProperty,qce=Object.prototype.propertyIsEnumerable,R4=(t,e,n)=>e in t?Fce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fr=(t,e)=>{for(var n in e||(e={}))Wce.call(e,n)&&R4(t,n,e[n]);if(l7)for(var n of l7(e))qce.call(e,n)&&R4(t,n,e[n]);return t},ts=(t,e)=>jce(t,zce(e)),ke=(t,e,n)=>R4(t,typeof e!="symbol"?e+"":e,n);class Hce extends uY{constructor(e){super(e),ke(this,"name",Rce),ke(this,"events",new i6),ke(this,"initialized",!1),ke(this,"requestQueue",{state:Zo.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:Zo.idle,queue:[]}),ke(this,"requestQueueDelay",Fe.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(yi)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Fe.toMiliseconds(this.requestQueueDelay)))}),ke(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ts(fr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:d,relays:l}=r;let f=i,h,g=!1;try{if(f){const D=this.client.core.pairing.pairings.get(f);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${f}) failed`),D}if(!f||!g){const{topic:D,uri:F}=await this.client.core.pairing.create();f=D,h=F}if(!f){const{message:D}=We("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(D)}const y=await this.client.core.crypto.generateKeyPair(),v=yi.wc_sessionPropose.req.ttl||Fe.FIVE_MINUTES,w=ai(v),x=ts(fr(fr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:_k}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:f},a&&{sessionProperties:a}),d&&{scopedProperties:d}),{id:ea()}),k=Gn("session_connect",x.id),{reject:N,resolve:R,done:L}=Jl(v,a7),O=({id:D})=>{D===x.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(x.id),this.events.emit(k,{error:{message:a7,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(k,({error:D,session:F})=>{this.client.events.off("proposal_expire",O),D?N(D):F&&R(F)}),await this.sendRequest({topic:f,method:"wc_sessionPropose",params:x,throwOnFailedPublish:!0,clientRpcId:x.id}),await this.setProposal(x.id,x),{uri:h,approval:L}}),ke(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ke(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Eo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw o.setError(Ql.no_internet_connection),$}try{await this.isValidProposalId(n==null?void 0:n.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Ql.proposal_not_found),$}try{await this.isValidApprove(n)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Ql.session_approve_namespace_validation_failure),$}const{id:a,relayProtocol:d,namespaces:l,sessionProperties:f,scopedProperties:h,sessionConfig:g}=n,y=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:v,proposer:w,requiredNamespaces:x,optionalNamespaces:k}=y;let N=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});N||(N=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Eo.session_approve_started,properties:{topic:v,trace:[Eo.session_approve_started,Eo.session_namespaces_validation_success]}}));const R=await this.client.core.crypto.generateKeyPair(),L=w.publicKey,O=await this.client.core.crypto.generateSharedKey(R,L),D=fr(fr(fr({relay:{protocol:d??"irn"},namespaces:l,controller:{publicKey:R,metadata:this.client.metadata},expiry:ai(Rd)},f&&{sessionProperties:f}),h&&{scopedProperties:h}),g&&{sessionConfig:g}),F=Ir.relay;N.addTrace(Eo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:F})}catch($){throw N.setError(Ql.subscribe_session_topic_failure),$}N.addTrace(Eo.subscribe_session_topic_success);const q=ts(fr({},D),{topic:O,requiredNamespaces:x,optionalNamespaces:k,pairingTopic:v,acknowledged:!1,self:D.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:R,transportType:Ir.relay});await this.client.session.set(O,q),N.addTrace(Eo.store_session);try{N.addTrace(Eo.publishing_session_settle),await this.sendRequest({topic:O,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch($=>{throw N==null||N.setError(Ql.session_settle_publish_failure),$}),N.addTrace(Eo.session_settle_publish_success),N.addTrace(Eo.publishing_session_approve),await this.sendResult({id:a,topic:v,result:{relay:{protocol:d??"irn"},responderPublicKey:R},throwOnFailedPublish:!0}).catch($=>{throw N==null||N.setError(Ql.session_approve_publish_failure),$}),N.addTrace(Eo.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(O,cr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),$}return this.client.core.eventClient.deleteEvent({eventId:N.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:w.metadata}),await this.client.proposal.delete(a,cr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(O,ai(Rd)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),ke(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:yi.wc_sessionPropose.reject}),await this.client.proposal.delete(r,cr("USER_DISCONNECTED")))}),ke(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Jl(),d=ea(),l=fu().toString(),f=this.client.session.get(r).namespaces;return this.events.once(Gn("session_update",d),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:d,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:f}),a(h)}),{acknowledged:s}}),ke(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(d){throw this.client.logger.error("extend() -> isValidExtend() failed"),d}const{topic:r}=n,i=ea(),{done:s,resolve:o,reject:a}=Jl();return this.events.once(Gn("session_extend",i),({error:d})=>{d?a(d):o()}),await this.setExpiry(r,ai(Rd)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(d=>{a(d)}),{acknowledged:s}}),ke(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(k){throw this.client.logger.error("request() -> isValidRequest() failed"),k}const{chainId:r,request:i,topic:s,expiry:o=yi.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Ir.relay&&await this.confirmOnlineStateOrThrow();const d=ea(),l=fu().toString(),{done:f,resolve:h,reject:g}=Jl(o,"Request expired. Please try again.");this.events.once(Gn("session_request",d),({error:k,result:N})=>{k?g(k):h(N)});const y="wc_sessionRequest",v=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(v)return await this.sendRequest({clientRpcId:d,relayRpcId:l,topic:s,method:y,params:{request:ts(fr({},i),{expiryTimestamp:ai(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:v}).catch(k=>g(k)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:d}),await f();const w={request:ts(fr({},i),{expiryTimestamp:ai(o)}),chainId:r},x=this.shouldSetTVF(y,w);return await Promise.all([new Promise(async k=>{await this.sendRequest(fr({clientRpcId:d,relayRpcId:l,topic:s,method:y,params:w,expiry:o,throwOnFailedPublish:!0},x&&{tvf:this.getTVFParams(d,w)})).catch(N=>g(N)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:d}),k()}),new Promise(async k=>{var N;if(!((N=a.sessionConfig)!=null&&N.disableDeepLink)){const R=await yte(this.client.core.storage,o7);await pte({id:d,topic:s,wcDeepLink:R})}k()}),f()]).then(k=>k[2])}),ke(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ta(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):ro(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),ke(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=ea(),s=fu().toString(),{done:o,resolve:a,reject:d}=Jl();this.events.once(Gn("session_ping",i),({error:l})=>{l?d(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ke(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=fu().toString(),a=ea();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ke(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:cr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=We("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ke(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Pre(r,n)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Ir.link_mode:Ir.relay;o===Ir.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:d="",uri:l,domain:f,nonce:h,type:g,exp:y,nbf:v,methods:w=[],expiry:x}=n,k=[...n.resources||[]],{topic:N,uri:R}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:N,uri:R}});const L=await this.client.core.crypto.generateKeyPair(),O=gm(L);if(await Promise.all([this.client.auth.authKeys.set(ym,{responseTopic:O,publicKey:L}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:N})]),await this.client.core.relayer.subscribe(O,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${N}`),w.length>0){const{namespace:B}=cf(a[0]);let E=cne(B,"request",w);pm(k)&&(E=une(E,k.pop())),k.push(E)}const D=x&&x>yi.wc_sessionAuthenticate.req.ttl?x:yi.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:g??"caip122",chains:a,statement:d,aud:l,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:y,nbf:v,resources:k},requester:{publicKey:L,metadata:this.client.metadata},expiryTimestamp:ai(D)},q={eip155:{chains:a,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},$={requiredNamespaces:{},optionalNamespaces:q,relays:[{protocol:"irn"}],pairingTopic:N,proposer:{publicKey:L,metadata:this.client.metadata},expiryTimestamp:ai(yi.wc_sessionPropose.req.ttl),id:ea()},{done:H,resolve:P,reject:m}=Jl(D,"Request expired"),C=ea(),S=Gn("session_connect",$.id),_=Gn("session_request",C),I=async({error:B,session:E})=>{this.events.off(_,j),B?m(B):E&&P({session:E})},j=async B=>{var E,U,J;if(await this.deletePendingAuthRequest(C,{message:"fulfilled",code:0}),B.error){const re=cr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return B.error.code===re.code?void 0:(this.events.off(S,I),m(B.error.message))}await this.deleteProposal($.id),this.events.off(S,I);const{cacaos:ie,responder:ce}=B.result,ue=[],Ae=[];for(const re of ie){await tx({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,"Signature verification failed"),m(cr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ae}=re,Ce=pm(ae.resources),we=[d4(ae.iss)],Se=iy(ae.iss);if(Ce){const Ze=nx(Ce),Me=rx(Ce);ue.push(...Ze),we.push(...Me)}for(const Ze of we)Ae.push(`${Ze}:${Se}`)}const $e=await this.client.core.crypto.generateSharedKey(L,ce.publicKey);let le;ue.length>0&&(le={topic:$e,acknowledged:!0,self:{publicKey:L,metadata:this.client.metadata},peer:ce,controller:ce.publicKey,expiry:ai(Rd),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:N,namespaces:Ex([...new Set(ue)],[...new Set(Ae)]),transportType:o},await this.client.core.relayer.subscribe($e,{transportType:o}),await this.client.session.set($e,le),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:ce.metadata}),le=this.client.session.get($e)),(E=this.client.metadata.redirect)!=null&&E.linkMode&&(U=ce.metadata.redirect)!=null&&U.linkMode&&(J=ce.metadata.redirect)!=null&&J.universal&&r&&(this.client.core.addLinkModeSupportedApp(ce.metadata.redirect.universal),this.client.session.update($e,{transportType:Ir.link_mode})),P({auths:ie,session:le})};this.events.once(S,I),this.events.once(_,j);let W;try{if(s){const B=dl("wc_sessionAuthenticate",F,C);this.client.core.history.set(N,B);const E=await this.client.core.crypto.encode("",B,{type:u1,encoding:Qh});W=Hg(r,N,E)}else await Promise.all([this.sendRequest({topic:N,method:"wc_sessionAuthenticate",params:F,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:C}),this.sendRequest({topic:N,method:"wc_sessionPropose",params:$,expiry:yi.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:$.id})])}catch(B){throw this.events.off(S,I),this.events.off(_,j),B}return await this.setProposal($.id,$),await this.setAuthRequest(C,{request:ts(fr({},F),{verifyContext:{}}),pairingTopic:N,transportType:o}),{uri:W??R,response:H}}),ke(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Yl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(x){throw s.setError(Jh.no_internet_connection),x}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Jh.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ir.relay;a===Ir.relay&&await this.confirmOnlineStateOrThrow();const d=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),f=gm(d),h={type:ic,receiverPublicKey:d,senderPublicKey:l},g=[],y=[];for(const x of i){if(!await tx({cacao:x,projectId:this.client.core.projectId})){s.setError(Jh.invalid_cacao);const O=cr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:f,error:O,encodeOpts:h}),new Error(O.message)}s.addTrace(Yl.cacaos_verified);const{p:k}=x,N=pm(k.resources),R=[d4(k.iss)],L=iy(k.iss);if(N){const O=nx(N),D=rx(N);g.push(...O),R.push(...D)}for(const O of R)y.push(`${O}:${L}`)}const v=await this.client.core.crypto.generateSharedKey(l,d);s.addTrace(Yl.create_authenticated_session_topic);let w;if((g==null?void 0:g.length)>0){w={topic:v,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:d,metadata:o.requester.metadata},controller:d,expiry:ai(Rd),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Ex([...new Set(g)],[...new Set(y)]),transportType:a},s.addTrace(Yl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:a})}catch(x){throw s.setError(Jh.subscribe_authenticated_session_topic_failure),x}s.addTrace(Yl.subscribe_authenticated_session_topic_success),await this.client.session.set(v,w),s.addTrace(Yl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Yl.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(x){throw s.setError(Jh.authenticated_session_approve_publish_failure),x}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:w}}),ke(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ir.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),d=gm(o),l={type:ic,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:d,error:i,encodeOpts:l,rpcOpts:yi.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,cr("USER_DISCONNECTED"))}),ke(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return JN(r,i)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ke(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ke(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:d}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,cr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(d.publicKey)&&await this.client.core.crypto.deleteKeyPair(d.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(o7).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,cr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Zo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ke(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Ql.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,cr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ke(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Zo.idle,this.client.events.emit("session_request_expire",{id:n}))}),ke(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ke(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ke(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ai(yi.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ke(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Ir.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ke(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||ai(yi.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ke(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:d,throwOnFailedPublish:l,appLink:f,tvf:h}=n,g=dl(i,s,d);let y;const v=!!f;try{const k=v?Qh:ul;y=await this.client.core.crypto.encode(r,g,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let w;if(Mce.includes(i)){const k=oa(JSON.stringify(g)),N=oa(y);w=await this.client.core.verify.register({id:N,decryptedId:k})}const x=yi[i].req;if(x.attestation=w,o&&(x.ttl=o),a&&(x.id=a),this.client.core.history.set(r,g),v){const k=Hg(f,r,y);await global.Linking.openURL(k,this.client.name)}else{const k=yi[i].req;o&&(k.ttl=o),a&&(k.id=a),k.tvf=ts(fr({},h),{correlationId:g.id}),l?(k.internal=ts(fr({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,y,k)):this.client.core.relayer.publish(r,y,k).catch(N=>this.client.logger.error(N))}return g.id}),ke(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:d}=n,l=cw(r,s);let f;const h=d&&typeof(global==null?void 0:global.Linking)<"u";try{const v=h?Qh:ul;f=await this.client.core.crypto.encode(i,l,ts(fr({},a||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let g,y;try{g=await this.client.core.history.get(i,r);const v=g.request;try{this.shouldSetTVF(v.method,v.params)&&(y=this.getTVFParams(r,v.params,s))}catch(w){this.client.logger.warn("sendResult() -> getTVFParams() failed",w)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),v}if(h){const v=Hg(d,i,f);await global.Linking.openURL(v,this.client.name)}else{const v=g.request.method,w=yi[v].res;w.tvf=ts(fr({},y),{correlationId:r}),o?(w.internal=ts(fr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,w)):this.client.core.relayer.publish(i,f,w).catch(x=>this.client.logger.error(x))}await this.client.core.history.resolve(l)}),ke(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:d}=n,l=lw(r,s);let f;const h=d&&typeof(global==null?void 0:global.Linking)<"u";try{const y=h?Qh:ul;f=await this.client.core.crypto.encode(i,l,ts(fr({},o||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),y}let g;try{g=await this.client.core.history.get(i,r)}catch(y){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),y}if(h){const y=Hg(d,i,f);await global.Linking.openURL(y,this.client.name)}else{const y=g.request.method,v=a||yi[y].res;this.client.core.relayer.publish(i,f,v)}await this.client.core.history.resolve(l)}),ke(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Yc(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Yc(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ke(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ke(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Zo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Zo.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Zo.idle}),ke(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,d=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:d}))switch(d){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${d}`)}}),ke(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ke(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=We("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ke(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:d}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Va.proposal_listener_not_found)),this.isValidConnect(fr({},i.params));const f=a.expiryTimestamp||ai(yi.wc_sessionPropose.req.ttl),h=fr({id:d,pairingTopic:r,expiryTimestamp:f},a);await this.setProposal(d,h);const g=await this.getVerifyContext({attestationId:s,hash:oa(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(Xo.emit_session_proposal),this.client.events.emit("session_proposal",{id:d,params:h,verifyContext:g})}catch(l){await this.sendError({id:d,topic:r,error:l,rpcOpts:yi.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ke(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ta(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const d=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const f=await this.client.core.crypto.generateSharedKey(d,l);this.pendingSessions.set(s,{sessionTopic:f,pairingTopic:n,proposalId:s,publicKey:d});const h=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(ro(r)){await this.client.proposal.delete(s,cr("USER_DISCONNECTED"));const o=Gn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ke(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:d,namespaces:l,sessionProperties:f,scopedProperties:h,sessionConfig:g}=r.params,y=[...this.pendingSessions.values()].find(x=>x.sessionTopic===n);if(!y)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(y.proposalId),w=ts(fr(fr(fr({topic:n,relay:o,expiry:d,namespaces:l,acknowledged:!0,pairingTopic:y.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:a.publicKey,self:{publicKey:y.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},f&&{sessionProperties:f}),h&&{scopedProperties:h}),g&&{sessionConfig:g}),{transportType:Ir.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:y.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(Gn("session_connect",y.proposalId),{session:w}),this.pendingSessions.delete(y.proposalId),this.deleteProposal(y.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ta(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Gn("session_approve",i),{})):ro(r)&&(await this.client.session.delete(n,cr("USER_DISCONNECTED")),this.events.emit(Gn("session_approve",i),{error:r.error}))}),ke(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=Yh.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:cr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(fr({topic:n},i));try{Yh.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(d){throw Yh.delete(o),d}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Gn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ta(r)?this.events.emit(Gn("session_update",i),{}):ro(r)&&this.events.emit(Gn("session_update",i),{error:r.error})}),ke(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ai(Rd)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Gn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ta(r)?this.events.emit(Gn("session_extend",i),{}):ro(r)&&this.events.emit(Gn("session_extend",i),{error:r.error})}),ke(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Gn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ta(r)?this.events.emit(Gn("session_ping",i),{}):ro(r)&&this.events.emit(Gn("session_ping",i),{error:r.error})},500)}),ke(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(vi.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:cr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ke(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:d,encryptedId:l,transportType:f}=n,{id:h,params:g}=a;try{await this.isValidRequest(fr({topic:o},g));const y=this.client.session.get(o),v=await this.getVerifyContext({attestationId:d,hash:oa(JSON.stringify(dl("wc_sessionRequest",g,h))),encryptedId:l,metadata:y.peer.metadata,transportType:f}),w={id:h,topic:o,params:g,verifyContext:v};await this.setPendingSessionRequest(w),f===Ir.link_mode&&(r=y.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=y.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(y){await this.sendError({id:h,topic:o,error:y}),this.client.logger.error(y)}}),ke(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Gn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ta(r)?this.events.emit(Gn("session_request",i),{result:r.result}):ro(r)&&this.events.emit(Gn("session_request",i),{error:r.error})}),ke(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=Yh.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(fr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Yh.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ta(r)?this.events.emit(Gn("session_request",i),{result:r.result}):ro(r)&&this.events.emit(Gn("session_request",i),{error:r.error})}),ke(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:d}=n;try{const{requester:l,authPayload:f,expiryTimestamp:h}=s.params,g=await this.getVerifyContext({attestationId:o,hash:oa(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:d}),y={requester:l,pairingTopic:i,id:s.id,authPayload:f,verifyContext:g,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:y,pairingTopic:i,transportType:d}),d===Ir.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:g})}catch(l){this.client.logger.error(l);const f=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(s.params.requester.metadata,d),y={type:ic,receiverPublicKey:f,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:y,rpcOpts:yi.wc_sessionAuthenticate.autoReject,appLink:g})}}),ke(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ke(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Zo.idle,this.processSessionRequestQueue()},Fe.toMiliseconds(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Gn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Gn("session_request",s.request.id),{error:r})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Zo.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Zo.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ke(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ke(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:dl("wc_sessionPropose",ts(fr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),ke(this,"isValidConnect",async n=>{if(!vs(n)){const{message:l}=We("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:d}=n;if(Ni(r)||await this.isValidPairingTopic(r),!jre(d)){const{message:l}=We("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(l)}if(!Ni(i)&&gp(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Ni(s)&&gp(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Ni(o)||this.validateSessionProps(o,"sessionProperties"),!Ni(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(f=>l.includes(f)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ke(this,"validateNamespaces",(n,r)=>{const i=Fre(n,"connect()",r);if(i)throw new Error(i.message)}),ke(this,"isValidApprove",async n=>{if(!vs(n))throw new Error(We("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const d=this.client.proposal.get(r),l=L2(i,"approve()");if(l)throw new Error(l.message);const f=xx(d.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!ei(s,!0)){const{message:h}=We("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Ni(o)||this.validateSessionProps(o,"sessionProperties"),!Ni(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(g=>h.has(g)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),ke(this,"isValidReject",async n=>{if(!vs(n)){const{message:s}=We("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Wre(i)){const{message:s}=We("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ke(this,"isValidSessionSettleRequest",n=>{if(!vs(n)){const{message:l}=We("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!gk(r)){const{message:l}=We("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Mre(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const d=L2(s,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(Yc(o)){const{message:l}=We("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ke(this,"isValidUpdate",async n=>{if(!vs(n)){const{message:d}=We("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(d)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=L2(i,"update()");if(o)throw new Error(o.message);const a=xx(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ke(this,"isValidExtend",async n=>{if(!vs(n)){const{message:i}=We("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ke(this,"isValidRequest",async n=>{if(!vs(n)){const{message:d}=We("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(d)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!_x(a,s)){const{message:d}=We("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(d)}if(!qre(i)){const{message:d}=We("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(d)}if(!Kre(a,s,i.method)){const{message:d}=We("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(d)}if(o&&!Zre(o,H2)){const{message:d}=We("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${H2.min} and ${H2.max}`);throw new Error(d)}}),ke(this,"isValidRespond",async n=>{var r;if(!vs(n)){const{message:o}=We("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Hre(s)){const{message:o}=We("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ke(this,"isValidPing",async n=>{if(!vs(n)){const{message:i}=We("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidEmit",async n=>{if(!vs(n)){const{message:a}=We("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!_x(o,s)){const{message:a}=We("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Vre(i)){const{message:a}=We("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Gre(o,s,i.name)){const{message:a}=We("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ke(this,"isValidDisconnect",async n=>{if(!vs(n)){const{message:i}=We("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!ei(i,!1))throw new Error("uri is required parameter");if(!ei(s,!1))throw new Error("domain is required parameter");if(!ei(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(d=>cf(d).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=cf(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,d={verified:{verifyUrl:o.verifyUrl||k0,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ir.link_mode){const f=this.getAppLinkIfEnabled(o,a);return d.verified.validation=f&&new URL(f).origin===new URL(o.url).origin?"VALID":"INVALID",d}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(d.verified.origin=l.origin,d.verified.isScam=l.isScam,d.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`),d}),ke(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=We("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ke(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ke(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ke(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=We("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ke(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,d,l,f,h,g;return!n||r!==Ir.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(d=this.client.metadata)==null?void 0:d.redirect)==null?void 0:l.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((g=n==null?void 0:n.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ke(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=V_(n,"topic")||"",i=decodeURIComponent(V_(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ir.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ke(this,"registerLinkModeListeners",async()=>{var n;if(m6()||Ol()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ke(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(c7).includes(i.method)}),ke(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,d=this.extractTxHashesFromResult(a,i);return ts(fr({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:d})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ke(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ke(this,"extractTxHashesFromResult",(n,r)=>{try{const i=c7[n];if(typeof r=="string")return[r];const s=r[i.key];if(Fu(s))return n==="solana_signAllTransactions"?s.map(o=>Gte(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=We("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ym)?this.client.auth.authKeys.get(ym):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Ir.link_mode?Qh:ul});S6(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:oa(r)})):uw(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(to.expired,async e=>{const{topic:n,id:r}=WN(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,We("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,We("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(su.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(su.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ei(e,!1)){const{message:n}=We("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=We("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Yc(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=We("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!ei(e,!1)){const{message:n}=We("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=We("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Yc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=We("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=We("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ei(e,!1)){const{message:n}=We("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=We("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!zre(e)){const{message:n}=We("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=We("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Yc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=We("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Vce extends td{constructor(e,n){super(e,n,Nce,I6),this.core=e,this.logger=n}}let Kce=class extends td{constructor(e,n){super(e,n,kce,I6),this.core=e,this.logger=n}};class Gce extends td{constructor(e,n){super(e,n,Oce,I6,r=>r.id),this.core=e,this.logger=n}}class Qce extends td{constructor(e,n){super(e,n,Lce,fw,()=>ym),this.core=e,this.logger=n}}class Yce extends td{constructor(e,n){super(e,n,Uce,fw),this.core=e,this.logger=n}}class Zce extends td{constructor(e,n){super(e,n,Bce,fw,r=>r.id),this.core=e,this.logger=n}}var Jce=Object.defineProperty,Xce=(t,e,n)=>e in t?Jce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V2=(t,e,n)=>Xce(t,typeof e!="symbol"?e+"":e,n);class ele{constructor(e,n){this.core=e,this.logger=n,V2(this,"authKeys"),V2(this,"pairingTopics"),V2(this,"requests"),this.authKeys=new Qce(this.core,this.logger),this.pairingTopics=new Yce(this.core,this.logger),this.requests=new Zce(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var tle=Object.defineProperty,nle=(t,e,n)=>e in t?tle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,In=(t,e,n)=>nle(t,typeof e!="symbol"?e+"":e,n);let rle=class jk extends lY{constructor(e){super(e),In(this,"protocol",Uk),In(this,"version",Bk),In(this,"name",q2.name),In(this,"metadata"),In(this,"core"),In(this,"logger"),In(this,"events",new lo.EventEmitter),In(this,"engine"),In(this,"session"),In(this,"proposal"),In(this,"pendingRequest"),In(this,"auth"),In(this,"signConfig"),In(this,"on",(r,i)=>this.events.on(r,i)),In(this,"once",(r,i)=>this.events.once(r,i)),In(this,"off",(r,i)=>this.events.off(r,i)),In(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),In(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),In(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),In(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),In(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||q2.name,this.metadata=(e==null?void 0:e.metadata)||FN(),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:t1(Xf({level:(e==null?void 0:e.logger)||q2.logger}));this.core=(e==null?void 0:e.core)||new Pce(e),this.logger=Yi(n,this.name),this.session=new Kce(this.core,this.logger),this.proposal=new Vce(this.core,this.logger),this.pendingRequest=new Gce(this.core,this.logger),this.engine=new Hce(this),this.auth=new ele(this.core,this.logger)}static async init(e){const n=new jk(e);return await n.initialize(),n}get context(){return Ss(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Fe.toMiliseconds(Fe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Kg={exports:{}},u7;function ile(){return u7||(u7=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof sa<"u"&&sa,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof sa<"u"&&sa||{},d={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(_){return _&&DataView.prototype.isPrototypeOf(_)}if(d.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(_){return _&&f.indexOf(Object.prototype.toString.call(_))>-1};function g(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function y(_){return typeof _!="string"&&(_=String(_)),_}function v(_){var I={next:function(){var j=_.shift();return{done:j===void 0,value:j}}};return d.iterable&&(I[Symbol.iterator]=function(){return I}),I}function w(_){this.map={},_ instanceof w?_.forEach(function(I,j){this.append(j,I)},this):Array.isArray(_)?_.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(I){this.append(I,_[I])},this)}w.prototype.append=function(_,I){_=g(_),I=y(I);var j=this.map[_];this.map[_]=j?j+", "+I:I},w.prototype.delete=function(_){delete this.map[g(_)]},w.prototype.get=function(_){return _=g(_),this.has(_)?this.map[_]:null},w.prototype.has=function(_){return this.map.hasOwnProperty(g(_))},w.prototype.set=function(_,I){this.map[g(_)]=y(I)},w.prototype.forEach=function(_,I){for(var j in this.map)this.map.hasOwnProperty(j)&&_.call(I,this.map[j],j,this)},w.prototype.keys=function(){var _=[];return this.forEach(function(I,j){_.push(j)}),v(_)},w.prototype.values=function(){var _=[];return this.forEach(function(I){_.push(I)}),v(_)},w.prototype.entries=function(){var _=[];return this.forEach(function(I,j){_.push([j,I])}),v(_)},d.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function x(_){if(!_._noBody){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}}function k(_){return new Promise(function(I,j){_.onload=function(){I(_.result)},_.onerror=function(){j(_.error)}})}function N(_){var I=new FileReader,j=k(I);return I.readAsArrayBuffer(_),j}function R(_){var I=new FileReader,j=k(I),W=/charset=([A-Za-z0-9_-]+)/.exec(_.type),B=W?W[1]:"utf-8";return I.readAsText(_,B),j}function L(_){for(var I=new Uint8Array(_),j=new Array(I.length),W=0;W<I.length;W++)j[W]=String.fromCharCode(I[W]);return j.join("")}function O(_){if(_.slice)return _.slice(0);var I=new Uint8Array(_.byteLength);return I.set(new Uint8Array(_)),I.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(_){this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:d.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:d.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():d.arrayBuffer&&d.blob&&l(_)?(this._bodyArrayBuffer=O(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||h(_))?this._bodyArrayBuffer=O(_):this._bodyText=_=Object.prototype.toString.call(_):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var _=x(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var _=x(this);return _||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(N);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var _=x(this);if(_)return _;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function q(_){var I=_.toUpperCase();return F.indexOf(I)>-1?I:_}function $(_,I){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var j=I.body;if(_ instanceof $){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,I.headers||(this.headers=new w(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!j&&_._bodyInit!=null&&(j=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new w(I.headers)),this.method=q(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var E=new AbortController;return E.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var B=/\?/;this.url+=(B.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function H(_){var I=new FormData;return _.trim().split("&").forEach(function(j){if(j){var W=j.split("="),B=W.shift().replace(/\+/g," "),E=W.join("=").replace(/\+/g," ");I.append(decodeURIComponent(B),decodeURIComponent(E))}}),I}function P(_){var I=new w,j=_.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var B=W.split(":"),E=B.shift().trim();if(E){var U=B.join(":").trim();try{I.append(E,U)}catch(J){console.warn("Response "+J.message)}}}),I}D.call($.prototype);function m(_,I){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new w(I.headers),this.url=I.url||"",this._initBody(_)}D.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},m.error=function(){var _=new m(null,{status:200,statusText:""});return _.ok=!1,_.status=0,_.type="error",_};var C=[301,302,303,307,308];m.redirect=function(_,I){if(C.indexOf(I)===-1)throw new RangeError("Invalid status code");return new m(null,{status:I,headers:{location:_}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,j){this.message=I,this.name=j;var W=Error(I);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function S(_,I){return new Promise(function(j,W){var B=new $(_,I);if(B.signal&&B.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function U(){E.abort()}E.onload=function(){var ce={statusText:E.statusText,headers:P(E.getAllResponseHeaders()||"")};B.url.indexOf("file://")===0&&(E.status<200||E.status>599)?ce.status=200:ce.status=E.status,ce.url="responseURL"in E?E.responseURL:ce.headers.get("X-Request-URL");var ue="response"in E?E.response:E.responseText;setTimeout(function(){j(new m(ue,ce))},0)},E.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request timed out"))},0)},E.onabort=function(){setTimeout(function(){W(new o.DOMException("Aborted","AbortError"))},0)};function J(ce){try{return ce===""&&a.location.href?a.location.href:ce}catch{return ce}}if(E.open(B.method,J(B.url),!0),B.credentials==="include"?E.withCredentials=!0:B.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(d.blob?E.responseType="blob":d.arrayBuffer&&(E.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof w||a.Headers&&I.headers instanceof a.Headers)){var ie=[];Object.getOwnPropertyNames(I.headers).forEach(function(ce){ie.push(g(ce)),E.setRequestHeader(ce,y(I.headers[ce]))}),B.headers.forEach(function(ce,ue){ie.indexOf(ue)===-1&&E.setRequestHeader(ue,ce)})}else B.headers.forEach(function(ce,ue){E.setRequestHeader(ue,ce)});B.signal&&(B.signal.addEventListener("abort",U),E.onreadystatechange=function(){E.readyState===4&&B.signal.removeEventListener("abort",U)}),E.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return S.polyfill=!0,a.fetch||(a.fetch=S,a.Headers=w,a.Request=$,a.Response=m),o.Headers=w,o.Request=$,o.Response=m,o.fetch=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Kg,Kg.exports)),Kg.exports}var sle=ile();const d7=Uo(sle);var ole=Object.defineProperty,ale=Object.defineProperties,cle=Object.getOwnPropertyDescriptors,f7=Object.getOwnPropertySymbols,lle=Object.prototype.hasOwnProperty,ule=Object.prototype.propertyIsEnumerable,h7=(t,e,n)=>e in t?ole(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p7=(t,e)=>{for(var n in e||(e={}))lle.call(e,n)&&h7(t,n,e[n]);if(f7)for(var n of f7(e))ule.call(e,n)&&h7(t,n,e[n]);return t},g7=(t,e)=>ale(t,cle(e));const dle={Accept:"application/json","Content-Type":"application/json"},fle="POST",m7={headers:dle,method:fle},y7=10;let Fo=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new lo.EventEmitter,this.isAvailable=!1,this.registering=!1,!Rx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=dc(e),r=await(await d7(this.url,g7(p7({},m7),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Rx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=dc({id:1,jsonrpc:"2.0",method:"test",params:[]});await d7(e,g7(p7({},m7),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Du(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=lw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return wk(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>y7&&this.events.setMaxListeners(y7)}};const w7="error",hle="wss://relay.walletconnect.org",ple="wc",gle="universal_provider",Gg=`${ple}@2:${gle}:`,zk="https://rpc.walletconnect.org/v1/",Vd="generic",mle=`${zk}bundler`,ho={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function yle(){}function T6(t){return t==null||typeof t!="object"&&typeof t!="function"}function P6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wle(t){if(T6(t))return t;if(Array.isArray(t)||P6(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function v7(t){return typeof t=="object"&&t!==null}function Wk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function qk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const vle="[object RegExp]",Hk="[object String]",Vk="[object Number]",Kk="[object Boolean]",Gk="[object Arguments]",ble="[object Symbol]",Cle="[object Date]",Ele="[object Map]",Ale="[object Set]",_le="[object Array]",xle="[object ArrayBuffer]",Sle="[object Object]",Ile="[object DataView]",Tle="[object Uint8Array]",Ple="[object Uint8ClampedArray]",Nle="[object Uint16Array]",kle="[object Uint32Array]",Rle="[object Int8Array]",Ole="[object Int16Array]",Mle="[object Int32Array]",Dle="[object Float32Array]",$le="[object Float64Array]";function Lle(t,e){return nf(t,void 0,t,new Map,e)}function nf(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(T6(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=nf(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,d]of t)o.set(a,nf(d,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(nf(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(P6(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=nf(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),ou(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),ou(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),ou(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ou(o,t,n,r,i),o}if(typeof t=="object"&&Ule(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),ou(o,t,n,r,i),o}return t}function ou(t,e,n=t,r,i){const s=[...Object.keys(e),...Wk(e)];for(let o=0;o<s.length;o++){const a=s[o],d=Object.getOwnPropertyDescriptor(t,a);(d==null||d.writable)&&(t[a]=nf(e[a],a,n,r,i))}}function Ule(t){switch(qk(t)){case Gk:case _le:case xle:case Ile:case Kk:case Cle:case Dle:case $le:case Rle:case Ole:case Mle:case Ele:case Vk:case Sle:case vle:case Ale:case Hk:case ble:case Tle:case Ple:case Nle:case kle:return!0;default:return!1}}function Ble(t,e){return Lle(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Vk:case Hk:case Kk:{const o=new t.constructor(t==null?void 0:t.valueOf());return ou(o,t),o}case Gk:{const o={};return ou(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function b7(t){return Ble(t)}function C7(t){return t!==null&&typeof t=="object"&&qk(t)==="[object Arguments]"}function Fle(t){return P6(t)}function jle(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zle(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=O4(i,o,r,new Map)}return i}function O4(t,e,n,r){if(T6(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return wle(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Wk(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],d=t[o];if(C7(a)&&(a={...a}),C7(d)&&(d={...d}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=b7(a)),Array.isArray(a))if(typeof d=="object"&&d!=null){const f=[],h=Reflect.ownKeys(d);for(let g=0;g<h.length;g++){const y=h[g];f[y]=d[y]}d=f}else d=[];const l=n(d,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||v7(d)&&v7(a)?t[o]=O4(d,a,n,r):d==null&&jle(a)?t[o]=O4({},a,n,r):d==null&&Fle(a)?t[o]=b7(a):(d===void 0||a!==void 0)&&(t[o]=a)}return t}function Wle(t,...e){return zle(t,...e,yle)}var qle=Object.defineProperty,Hle=Object.defineProperties,Vle=Object.getOwnPropertyDescriptors,E7=Object.getOwnPropertySymbols,Kle=Object.prototype.hasOwnProperty,Gle=Object.prototype.propertyIsEnumerable,A7=(t,e,n)=>e in t?qle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qg=(t,e)=>{for(var n in e||(e={}))Kle.call(e,n)&&A7(t,n,e[n]);if(E7)for(var n of E7(e))Gle.call(e,n)&&A7(t,n,e[n]);return t},Qle=(t,e)=>Hle(t,Vle(e));function Fs(t,e,n){var r;const i=cf(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${zk}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function nd(t){return t.includes(":")?t.split(":")[1]:t}function Qk(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Yle(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function K2(t={},e={}){const n=_7(t),r=_7(e);return Wle(n,r)}function _7(t){var e,n,r,i;const s={};if(!gp(t))return s;for(const[o,a]of Object.entries(t)){const d=A6(o)?[o]:a.chains,l=a.methods||[],f=a.events||[],h=a.rpcMap||{},g=p0(o);s[g]=Qle(Qg(Qg({},s[g]),a),{chains:hm(d,(e=s[g])==null?void 0:e.chains),methods:hm(l,(n=s[g])==null?void 0:n.methods),events:hm(f,(r=s[g])==null?void 0:r.events),rpcMap:Qg(Qg({},h),(i=s[g])==null?void 0:i.rpcMap)})}return s}function Zle(t){return t.includes(":")?t.split(":")[2]:t}function x7(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=A6(n)?[n]:r.chains?r.chains:Qk(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function G2(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Yk={},Fn=t=>Yk[t],Q2=(t,e)=>{Yk[t]=e};var Jle=Object.defineProperty,Xle=(t,e,n)=>e in t?Jle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Od=(t,e,n)=>Xle(t,typeof e!="symbol"?e+"":e,n);class eue{constructor(e){Od(this,"name","polkadot"),Od(this,"client"),Od(this,"httpProviders"),Od(this,"events"),Od(this,"namespace"),Od(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=nd(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var tue=Object.defineProperty,nue=Object.defineProperties,rue=Object.getOwnPropertyDescriptors,S7=Object.getOwnPropertySymbols,iue=Object.prototype.hasOwnProperty,sue=Object.prototype.propertyIsEnumerable,M4=(t,e,n)=>e in t?tue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I7=(t,e)=>{for(var n in e||(e={}))iue.call(e,n)&&M4(t,n,e[n]);if(S7)for(var n of S7(e))sue.call(e,n)&&M4(t,n,e[n]);return t},T7=(t,e)=>nue(t,rue(e)),Md=(t,e,n)=>M4(t,typeof e!="symbol"?e+"":e,n);class oue{constructor(e){Md(this,"name","eip155"),Md(this,"client"),Md(this,"chainId"),Md(this,"namespace"),Md(this,"httpProviders"),Md(this,"events"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Fs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(nd(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const d=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:T7(I7({},o.sessionProperties||{}),{capabilities:T7(I7({},a||{}),{[s]:d})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return d}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(d){console.warn("Failed to fetch call status from bundler",d,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dl("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${mle}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var aue=Object.defineProperty,cue=(t,e,n)=>e in t?aue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dd=(t,e,n)=>cue(t,typeof e!="symbol"?e+"":e,n);class lue{constructor(e){Dd(this,"name","solana"),Dd(this,"client"),Dd(this,"httpProviders"),Dd(this,"events"),Dd(this,"namespace"),Dd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=nd(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var uue=Object.defineProperty,due=(t,e,n)=>e in t?uue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$d=(t,e,n)=>due(t,typeof e!="symbol"?e+"":e,n);class fue{constructor(e){$d(this,"name","cosmos"),$d(this,"client"),$d(this,"httpProviders"),$d(this,"events"),$d(this,"namespace"),$d(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=nd(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var hue=Object.defineProperty,pue=(t,e,n)=>e in t?hue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ld=(t,e,n)=>pue(t,typeof e!="symbol"?e+"":e,n);class gue{constructor(e){Ld(this,"name","algorand"),Ld(this,"client"),Ld(this,"httpProviders"),Ld(this,"events"),Ld(this,"namespace"),Ld(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new fo(new Fo(r,Fn("disableProviderPing")))}}var mue=Object.defineProperty,yue=(t,e,n)=>e in t?mue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ud=(t,e,n)=>yue(t,typeof e!="symbol"?e+"":e,n);class wue{constructor(e){Ud(this,"name","cip34"),Ud(this,"client"),Ud(this,"httpProviders"),Ud(this,"events"),Ud(this,"namespace"),Ud(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=nd(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var vue=Object.defineProperty,bue=(t,e,n)=>e in t?vue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bd=(t,e,n)=>bue(t,typeof e!="symbol"?e+"":e,n);class Cue{constructor(e){Bd(this,"name","elrond"),Bd(this,"client"),Bd(this,"httpProviders"),Bd(this,"events"),Bd(this,"namespace"),Bd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=nd(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var Eue=Object.defineProperty,Aue=(t,e,n)=>e in t?Eue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fd=(t,e,n)=>Aue(t,typeof e!="symbol"?e+"":e,n);class _ue{constructor(e){Fd(this,"name","multiversx"),Fd(this,"client"),Fd(this,"httpProviders"),Fd(this,"events"),Fd(this,"namespace"),Fd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=nd(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var xue=Object.defineProperty,Sue=(t,e,n)=>e in t?xue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jd=(t,e,n)=>Sue(t,typeof e!="symbol"?e+"":e,n);class Iue{constructor(e){jd(this,"name","near"),jd(this,"client"),jd(this,"httpProviders"),jd(this,"events"),jd(this,"namespace"),jd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace);return typeof r>"u"?void 0:new fo(new Fo(r,Fn("disableProviderPing")))}}var Tue=Object.defineProperty,Pue=(t,e,n)=>e in t?Tue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zd=(t,e,n)=>Pue(t,typeof e!="symbol"?e+"":e,n);class Nue{constructor(e){zd(this,"name","tezos"),zd(this,"client"),zd(this,"httpProviders"),zd(this,"events"),zd(this,"namespace"),zd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Fs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace);return typeof r>"u"?void 0:new fo(new Fo(r))}}var kue=Object.defineProperty,Rue=(t,e,n)=>e in t?kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wd=(t,e,n)=>Rue(t,typeof e!="symbol"?e+"":e,n);class Oue{constructor(e){Wd(this,"name",Vd),Wd(this,"client"),Wd(this,"httpProviders"),Wd(this,"events"),Wd(this,"namespace"),Wd(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=cf(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Fs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fo(new Fo(r,Fn("disableProviderPing")))}}var Mue=Object.defineProperty,Due=Object.defineProperties,$ue=Object.getOwnPropertyDescriptors,P7=Object.getOwnPropertySymbols,Lue=Object.prototype.hasOwnProperty,Uue=Object.prototype.propertyIsEnumerable,D4=(t,e,n)=>e in t?Mue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yg=(t,e)=>{for(var n in e||(e={}))Lue.call(e,n)&&D4(t,n,e[n]);if(P7)for(var n of P7(e))Uue.call(e,n)&&D4(t,n,e[n]);return t},Y2=(t,e)=>Due(t,$ue(e)),Zs=(t,e,n)=>D4(t,typeof e!="symbol"?e+"":e,n);let Bue=class Zk{constructor(e){Zs(this,"client"),Zs(this,"namespaces"),Zs(this,"optionalNamespaces"),Zs(this,"sessionProperties"),Zs(this,"scopedProperties"),Zs(this,"events",new i6),Zs(this,"rpcProviders",{}),Zs(this,"session"),Zs(this,"providerOpts"),Zs(this,"logger"),Zs(this,"uri"),Zs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:t1(Xf({level:(e==null?void 0:e.logger)||w7})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Zk(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Yg({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,cw(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:cr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=x7(this.session.namespaces);this.namespaces=K2(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=x7(i.namespaces);return this.namespaces=K2(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Vd?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Fu(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await rle.init({core:this.providerOpts.core,logger:this.providerOpts.logger||w7,relayUrl:this.providerOpts.relayUrl||hle,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>p0(n)))];Q2("client",this.client),Q2("events",this.events),Q2("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Yle(n,this.session),i=Qk(r),s=K2(this.namespaces,this.optionalNamespaces),o=Y2(Yg({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new oue({namespace:o});break;case"algorand":this.rpcProviders[n]=new gue({namespace:o});break;case"solana":this.rpcProviders[n]=new lue({namespace:o});break;case"cosmos":this.rpcProviders[n]=new fue({namespace:o});break;case"polkadot":this.rpcProviders[n]=new eue({namespace:o});break;case"cip34":this.rpcProviders[n]=new wue({namespace:o});break;case"elrond":this.rpcProviders[n]=new Cue({namespace:o});break;case"multiversx":this.rpcProviders[n]=new _ue({namespace:o});break;case"near":this.rpcProviders[n]=new Iue({namespace:o});break;case"tezos":this.rpcProviders[n]=new Nue({namespace:o});break;default:this.rpcProviders[Vd]?this.rpcProviders[Vd].updateNamespace(o):this.rpcProviders[Vd]=new Oue({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Fu(o)&&this.events.emit("accountsChanged",o.map(Zle))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,d=p0(o),l=G2(o)!==G2(a)?`${d}:${G2(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Y2(Yg({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Y2(Yg({},cr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ho.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Vd]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>p0(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=p0(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);i&&(n||this.getProvider(r).setDefaultChain(i),this.namespaces[r]?this.namespaces[r].defaultChain=i:this.namespaces[`${r}:${i}`]?this.namespaces[`${r}:${i}`].defaultChain=i:this.namespaces[`${r}:${i}`]={defaultChain:i},this.events.emit("chainChanged",i),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Gg}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Gg}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Gg}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Gg)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var Df={};const Fue="https://secure.walletconnect.org/sdk",jue=(typeof process<"u"&&typeof Df<"u"?Df.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Fue,zue=(typeof process<"u"&&typeof Df<"u"?Df.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Wue=(typeof process<"u"&&typeof Df<"u"?Df.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",mt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},kr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},que={handleSolanaDeeplinkRedirect(t){if(te.state.activeChain===Ue.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},Hue={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Yr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if($t.isTelegram()){if($t.isIos())return t.filter(e=>e!=="google");if($t.isMac())return t.filter(e=>e!=="x");if($t.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Gt=Br({features:Yr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Yr.DEFAULT_ACCOUNT_TYPES}),qe={state:Gt,subscribeKey(t,e){return js(Gt,t,e)},setOptions(t){Object.assign(Gt,t)},setFeatures(t){if(!t)return;Gt.features||(Gt.features=Yr.DEFAULT_FEATURES);const e={...Gt.features,...t};Gt.features=e,Gt.features.socials&&(Gt.features.socials=Hue.filterSocialsByPlatform(Gt.features.socials))},setProjectId(t){Gt.projectId=t},setAllWallets(t){Gt.allWallets=t},setIncludeWalletIds(t){Gt.includeWalletIds=t},setExcludeWalletIds(t){Gt.excludeWalletIds=t},setFeaturedWalletIds(t){Gt.featuredWalletIds=t},setTokens(t){Gt.tokens=t},setTermsConditionsUrl(t){Gt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Gt.privacyPolicyUrl=t},setCustomWallets(t){Gt.customWallets=t},setIsSiweEnabled(t){Gt.isSiweEnabled=t},setIsUniversalProvider(t){Gt.isUniversalProvider=t},setSdkVersion(t){Gt.sdkVersion=t},setMetadata(t){Gt.metadata=t},setDisableAppend(t){Gt.disableAppend=t},setEIP6963Enabled(t){Gt.enableEIP6963=t},setDebug(t){Gt.debug=t},setEnableWalletConnect(t){Gt.enableWalletConnect=t},setEnableWalletGuide(t){Gt.enableWalletGuide=t},setEnableAuthLogger(t){Gt.enableAuthLogger=t},setEnableWallets(t){Gt.enableWallets=t},setHasMultipleAddresses(t){Gt.hasMultipleAddresses=t},setSIWX(t){Gt.siwx=t},setConnectMethodsOrder(t){Gt.features={...Gt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Gt.features={...Gt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Gt.features={...Gt.features,socials:t}},setCollapseWallets(t){Gt.features={...Gt.features,collapseWallets:t}},setEnableEmbedded(t){Gt.enableEmbedded=t},setAllowUnsupportedChain(t){Gt.allowUnsupportedChain=t},setManualWCControl(t){Gt.manualWCControl=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Gt.defaultAccountTypes[e]=n)})},getSnapshot(){return cp(Gt)}},Kn=Br({view:"Connect",history:["Connect"],transactionStack:[]}),xn={state:Kn,subscribeKey(t,e){return js(Kn,t,e)},pushTransactionStack(t){Kn.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=Kn.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=Kn.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(ti.close(),Kn.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==Kn.view&&(Kn.view=t,Kn.history.push(t),Kn.data=e)},reset(t,e){Kn.view=t,Kn.history=[t],Kn.data=e},replace(t,e){Kn.history.at(-1)===t||(Kn.view=t,Kn.history[Kn.history.length-1]=t,Kn.data=e)},goBack(){var e;const t=!te.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Kn.history.length>1&&!Kn.history.includes("UnsupportedChain")){Kn.history.pop();const[n]=Kn.history.slice(-1);n&&(Kn.view=n)}else ti.close();(e=Kn.data)!=null&&e.wallet&&(Kn.data.wallet=void 0),setTimeout(()=>{var n,r,i;if(t){gt.setFarcasterUrl(void 0,te.state.activeChain);const s=Jt.getAuthConnector();(n=s==null?void 0:s.provider)==null||n.reload();const o=cp(qe.state);(i=(r=s==null?void 0:s.provider)==null?void 0:r.syncDappData)==null||i.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Kn.history.length>1){Kn.history=Kn.history.slice(0,t+1);const[e]=Kn.history.slice(-1);e&&(Kn.view=e)}}},Wa=Br({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Vi={state:Wa,subscribe(t){return _s(Wa,()=>t(Wa))},setThemeMode(t){Wa.themeMode=t;try{const e=Jt.getAuthConnector();if(e){const n=Vi.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Xa(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Wa.themeVariables={...Wa.themeVariables,...t};try{const e=Jt.getAuthConnector();if(e){const n=Vi.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Xa(Wa.themeVariables,Wa.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return cp(Wa)}},Jk={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},zn=Br({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Jk}}),Jt={state:zn,subscribe(t){return _s(zn,()=>{t(zn)})},subscribeKey(t,e){return js(zn,t,e)},initialize(t){t.forEach(e=>{const n=ft.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(zn.activeConnector=kf(t))},setConnectors(t){t.filter(n=>!zn.allConnectors.some(r=>r.id===n.id&&this.getConnectorName(r.name)===this.getConnectorName(n.name)&&r.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&zn.allConnectors.push(kf(n))}),zn.connectors=this.mergeMultiChainConnectors(zn.allConnectors)},removeAdapter(t){zn.allConnectors=zn.allConnectors.filter(e=>e.chain!==t),zn.connectors=this.mergeMultiChainConnectors(zn.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Ue.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=this.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Ue.CONNECTOR_ID.AUTH){const i=t,s=cp(qe.state),o=Vi.getSnapshot().themeMode,a=Vi.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Xa(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||te.state.activeChain,n=zn.connectors.find(i=>i.id===Ue.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return zn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return zn.allConnectors.find(n=>{var r;return n.explorerId===t||((r=n.info)==null?void 0:r.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=cp(qe.state),r=Vi.getSnapshot().themeMode,i=Vi.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Xa(i,r)})},getConnectorsByNamespace(t){const e=zn.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Jt.getConnector(t.id,t.rdns);te.state.activeChain===Ue.CHAIN.SOLANA&&que.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?xn.push("ConnectingExternal",{connector:e}):xn.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(zn.allConnectors)},setFilterByNamespace(t){zn.filterByNamespace=t,zn.connectors=this.getConnectors(t)},clearNamespaceFilter(){zn.filterByNamespace=void 0,zn.connectors=this.getConnectors()},setConnectorId(t,e){t&&(zn.activeConnectorIds={...zn.activeConnectorIds,[e]:t},ft.setConnectedConnectorId(e,t))},removeConnectorId(t){zn.activeConnectorIds={...zn.activeConnectorIds,[t]:void 0},ft.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zn.activeConnectorIds[t]},isConnected(t){return t?!!zn.activeConnectorIds[t]:Object.values(zn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zn.activeConnectorIds={...Jk}}},Hc=Br({message:"",variant:"info",open:!1}),_u={state:Hc,subscribeKey(t,e){return js(Hc,t,e)},open(t,e){const{debug:n}=qe.state,{shortMessage:r,longMessage:i}=t;n&&(Hc.message=r,Hc.variant=e,Hc.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Hc.open=!1,Hc.message="",Hc.variant="info"}},Vue=$t.getAnalyticsUrl(),Kue=new Jy({baseUrl:Vue,clientId:null}),Gue=["MODAL_CREATED"],qa=Br({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),nr={state:qa,subscribe(t){return _s(qa,()=>t(qa))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=gt.state.address;if(Gue.includes(t.data.event)||typeof window>"u")return;await Kue.post({path:"/e",params:nr.getSdkProperties(),body:{eventId:$t.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),qa.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ue.HTTP_STATUS_CODES.FORBIDDEN&&!qa.reportedErrors.FORBIDDEN&&(_u.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${f0()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),qa.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;qa.timestamp=Date.now(),qa.data=t,(e=qe.state.features)!=null&&e.analytics&&nr._sendAnalyticsEvent(qa)}},Xl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),oi=Br({...Xl}),tr={state:oi,subscribeKey(t,e){return js(oi,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=$t.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){oi.message=Xl.message,oi.variant=Xl.variant,oi.svg=Xl.svg,oi.open=Xl.open,oi.autoClose=Xl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Xl.autoClose}){oi.open?(oi.open=!1,setTimeout(()=>{oi.message=t,oi.variant=n,oi.svg=e,oi.open=!0,oi.autoClose=r},150)):(oi.message=t,oi.variant=n,oi.svg=e,oi.open=!0,oi.autoClose=r)}},O0={getSIWX(){return qe.state.siwx},async initializeIfEnabled(){var s;const t=qe.state.siwx,e=te.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(te.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await ti.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),nr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Pn._getClient())==null?void 0:s.disconnect().catch(console.error)),xn.reset("Connect"),tr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=qe.state.siwx,e=$t.getPlainAddress(te.getActiveCaipAddress()),n=te.getActiveCaipNetwork(),r=Pn._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Jt.getConnectorId(n.chainNamespace)===Ue.CONNECTOR_ID.AUTH&&xn.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),ti.close(),nr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!ti.state.open||xn.state.view==="ApproveTransaction")&&await ti.open({view:"SIWXSignMessage"}),s.isSmartAccount?tr.showError("This application might not support Smart Accounts"):tr.showError("Signature declined"),nr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Pn.disconnect():ti.close(),xn.reset("Connect"),nr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=qe.state.siwx,e=$t.getPlainAddress(te.getActiveCaipAddress()),n=te.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=xn.state.view==="ApproveTransaction",r=xn.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,d,l;const r=O0.getSIWX(),i=new Set(e.map(f=>f.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=te.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(f=>f!==s.chainId)]});if(tr.showLoading("Authenticating...",{autoClose:!1}),gt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(d=o.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const f=o.auths.map(h=>{const g=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||s.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:g,signature:h.s.s,cacao:h}});try{await r.setSessions(f),nr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:O0.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),nr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:O0.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{tr.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=te.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},wr=Br({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Que={state:wr,subscribe(t){return _s(wr,()=>t(wr))},setLastNetworkInView(t){wr.lastNetworkInView=t},async fetchTransactions(t,e){var n;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");wr.loading=!0;try{const r=await Et.fetchTransactions({account:t,cursor:wr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),i=this.filterSpamTransactions(r.data),s=this.filterByConnectedChain(i),o=[...wr.transactions,...s];wr.loading=!1,e==="coinbase"?wr.coinbaseTransactions=this.groupTransactionsByYearAndMonth(wr.coinbaseTransactions,r.data):(wr.transactions=o,wr.transactionsByYear=this.groupTransactionsByYearAndMonth(wr.transactionsByYear,s)),wr.empty=o.length===0,wr.next=r.next?r.next:void 0}catch{nr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:qe.state.projectId,cursor:wr.next,isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT}}),tr.showError("Failed to fetch transactions"),wr.loading=!1,wr.empty=!0,wr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},d=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...d,r].sort((l,f)=>new Date(f.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){wr.next=void 0},resetTransactions(){wr.transactions=[],wr.transactionsByYear={},wr.lastNetworkInView=void 0,wr.loading=!1,wr.empty=!1,wr.next=void 0}},vr=Br({wcError:!1,buffering:!1,status:"disconnected"});let qd;const Pn={state:vr,subscribeKey(t,e){return js(vr,t,e)},_getClient(){return vr._client},setClient(t){vr._client=kf(t)},async connectWalletConnect(){var t,e,n,r;if($t.isTelegram()||$t.isSafari()&&$t.isIos()){if(qd){await qd,qd=void 0;return}if(!$t.isPairingExpired(vr==null?void 0:vr.wcPairingExpiry)){const i=vr.wcUri;vr.wcUri=i;return}qd=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await qd,qd=void 0,vr.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&te.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||te.state.activeChain;e&&Jt.setConnectorId(t.id,e)},async setPreferredAccountType(t){var n;ti.setLoading(!0,te.state.activeChain);const e=Jt.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),ti.setLoading(!1,te.state.activeChain),nr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){vr.wcUri=void 0,vr.wcPairingExpiry=void 0,vr.wcLinking=void 0,vr.recentWallet=void 0,vr.status="disconnected",Que.resetTransactions(),ft.deleteWalletConnectDeepLink()},resetUri(){vr.wcUri=void 0,vr.wcPairingExpiry=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Pn.state;t&&ft.setWalletConnectDeepLink(t),e&&ft.setAppKitRecent(e),nr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=xn.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){vr.wcBasic=t},setUri(t){vr.wcUri=t,vr.wcPairingExpiry=$t.getPairingExpiry()},setWcLinking(t){vr.wcLinking=t},setWcError(t){vr.wcError=t,vr.buffering=!1},setRecentWallet(t){vr.recentWallet=t},setBuffering(t){vr.buffering=t},setStatus(t){vr.status=t},async disconnect(){try{ti.setLoading(!0),await O0.clearSessions(),await te.disconnect(),ti.setLoading(!1)}catch{throw new Error("Failed to disconnect")}}},t0=Br({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),sc={state:t0,subscribe(t){return _s(t0,()=>t(t0))},set(t){Object.assign(t0,{...t0,...t})}},Z2={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Kf(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},N7={async getMyTokensWithBalance(t){const e=gt.state.address,n=te.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await Et.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=Z2.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Pn.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Pn.walletGetAssets({account:t,chainFilter:[i]});return Z2.isWalletGetAssetsResponse(o)?(o[i]||[]).map(d=>Z2.createBalance(d,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:te.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},kn=Br({tokenBalances:[],loading:!1}),k7={state:kn,subscribe(t){return _s(kn,()=>t(kn))},subscribeKey(t,e){return js(kn,t,e)},setToken(t){t&&(kn.token=kf(t))},setTokenAmount(t){kn.sendTokenAmount=t},setReceiverAddress(t){kn.receiverAddress=t},setReceiverProfileImageUrl(t){kn.receiverProfileImageUrl=t},setReceiverProfileName(t){kn.receiverProfileName=t},setGasPrice(t){kn.gasPrice=t},setGasPriceInUsd(t){kn.gasPriceInUSD=t},setNetworkBalanceInUsd(t){kn.networkBalanceInUSD=t},setLoading(t){kn.loading=t},sendToken(){var t;switch((t=te.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,n,r,i;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(nr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((n=this.state.token)!=null&&n.quantity.decimals)&&(nr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:(r=this.state.token)==null?void 0:r.symbol,amount:this.state.sendTokenAmount,network:((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;kn.loading=!0;const e=(s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=te.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=te.state.activeCaipAddress,i=r?$t.getPlainAddress(r):void 0;if(kn.lastRetry&&!$t.isAllowedRetry(kn.lastRetry,30*Yr.ONE_SEC_MS))return kn.loading=!1,[];try{if(i&&e&&n){const a=await N7.getMyTokensWithBalance();return kn.tokenBalances=a,kn.lastRetry=void 0,a}}catch(a){kn.lastRetry=Date.now(),t==null||t(a),tr.showError("Token Balance Unavailable")}finally{kn.loading=!1}return[]},fetchNetworkBalance(){if(kn.tokenBalances.length===0)return;const t=N7.mapBalancesToSwapTokens(kn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===te.getActiveNetworkTokenAddress());e&&(kn.networkBalanceInUSD=e?Xn.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return Xn.bigNumber(t).eq(0)?!0:Xn.bigNumber(Xn.bigNumber(n)).gt(t)},hasInsufficientGasFunds(){let t=!0;return gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:kn.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(kn.networkBalanceInUSD,kn.gasPriceInUSD)),t},async sendNativeToken(t){var s,o,a,d;xn.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,n=gt.state.address,r=Pn.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i="0x";try{await Pn.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:i,value:r??BigInt(0),gasPrice:t.gasPrice}),tr.showSuccess("Transaction started"),nr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=this.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.resetSend()}catch(l){console.error("SendController:sendERC20Token - failed to send native token",l);const f=l instanceof Error?l.message:"Unknown error";nr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:f,isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((d=te.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),tr.showError("Something went wrong")}},async sendERC20Token(t){var n,r;xn.pushTransactionStack({view:"Account",goBack:!1});const e=Pn.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(gt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const i=$t.getPlainAddress(t.tokenAddress);await Pn.writeContract({fromAddress:gt.state.address,tokenAddress:i,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:fG.getERC20Abi(i),chainNamespace:"eip155"}),tr.showSuccess("Transaction started"),this.resetSend()}}catch(i){console.error("SendController:sendERC20Token - failed to send erc20 token",i);const s=i instanceof Error?i.message:"Unknown error";nr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:s,isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((n=this.state.token)==null?void 0:n.symbol)||"",amount:t.sendTokenAmount,network:((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}),tr.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){tr.showError("Please enter a valid amount and receiver address");return}xn.pushTransactionStack({view:"Account",goBack:!1}),Pn.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),gt.fetchTokenBalance()}).catch(t=>{tr.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){kn.token=void 0,kn.sendTokenAmount=void 0,kn.receiverAddress=void 0,kn.receiverProfileImageUrl=void 0,kn.receiverProfileName=void 0,kn.loading=!1,kn.tokenBalances=[]}},J2={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Zg={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ye=Br({chains:XK(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),te={state:Ye,subscribe(t){return _s(Ye,()=>{t(Ye)})},subscribeKey(t,e){return js(Ye,t,e)},subscribeChainProp(t,e,n){let r;return _s(Ye.chains,()=>{var s;const i=n||Ye.activeChain;if(i){const o=(s=Ye.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=ft.getActiveNetworkProps(),s=e==null?void 0:e.find(l=>l.id.toString()===(r==null?void 0:r.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===i)||(t==null?void 0:t[0]),d=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Ye.noAdapters=!0),Ye.noAdapters||(Ye.activeChain=a==null?void 0:a.namespace,Ye.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Ye.activeChain&&sc.set({activeChain:a==null?void 0:a.namespace})),d.forEach(l=>{const f=e==null?void 0:e.filter(h=>h.chainNamespace===l);te.state.chains.set(l,{namespace:l,networkState:Br({...Zg,caipNetwork:f==null?void 0:f[0]}),accountState:Br(J2),caipNetworks:f??[],...n}),this.setRequestedCaipNetworks(f??[],l)})},removeAdapter(t){var e,n;if(Ye.activeChain===t){const r=Array.from(Ye.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&this.setActiveCaipNetwork(i)}}Ye.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Ye.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Zg,caipNetwork:r[0]},accountState:J2,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Ye.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),Ye.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){var r,i,s;const n=Ye.chains.get(t);if(n){const o=((r=Ye.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(d=>d.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),Ye.chains.set(t,{...n,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const n=Ye.chains.get(t);n&&(n.networkState={...n.networkState||Zg,...e},Ye.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Ye.chains.get(t);if(r){const i={...r.accountState||J2,...e};Ye.chains.set(t,{...r,accountState:i}),(Ye.chains.size===1||Ye.activeChain===t)&&(e.caipAddress&&(Ye.activeCaipAddress=e.caipAddress),gt.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ye.chains.get(t);if(n){const r={...n.networkState||Zg,...e};Ye.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Jt.removeConnectorId(n)},setActiveNamespace(t){var r,i;Ye.activeChain=t;const e=t?Ye.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Ye.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Ye.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),ft.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),sc.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;Ye.activeChain!==t.chainNamespace&&(this.setIsSwitchingNamespace(!0),Jt.setFilterByNamespace(t.chainNamespace));const e=Ye.chains.get(t.chainNamespace);Ye.activeChain=t.chainNamespace,Ye.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Ye.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Ye.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Ye.activeCaipAddress,t.chainNamespace),e&&gt.replaceState(e.accountState),k7.resetSend(),sc.set({activeChain:Ye.activeChain,selectedNetworkId:(s=Ye.activeCaipNetwork)==null?void 0:s.caipNetworkId}),ft.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&!qe.state.allowUnsupportedChain&&!Pn.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Ye.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==te.state.activeChain,n=(i=te.getNetworkData(t))==null?void 0:i.caipNetwork,r=te.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await te.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=te.state.chains.get(te.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Ye.activeCaipNetwork)==null?void 0:o.id)}))&&xn.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),nr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Ye.activeChain,n=Ye.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ye.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ye.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=Ye.activeChain;if(e&&(n=e),!n)return;const r=(i=Ye.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Ye.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ye.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return $t.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Ye.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Ye.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Ye.activeCaipNetwork},getActiveCaipAddress(){return Ye.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Ye.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ye.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Ye.activeChain)return!0;const e=this.getRequestedCaipNetworks(Ye.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=lp.caipNetworkIdToNumber((r=Ye.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Ye.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=Ye.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=Ye.activeCaipNetwork)==null?void 0:i.id)||1,n=Yr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){ti.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ye.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Yr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Ye.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Jt.removeConnectorId(e)},async disconnect(){try{k7.resetSend();const t=await Promise.allSettled(Array.from(Ye.chains.entries()).map(async([n,r])=>{var i;try{(i=r.connectionControllerClient)!=null&&i.disconnect&&await r.connectionControllerClient.disconnect(),this.resetAccount(n),this.resetNetwork(n)}catch(s){throw new Error(`Failed to disconnect chain ${n}: ${s.message}`)}}));Pn.resetWcConnection();const e=t.filter(n=>n.status==="rejected");if(e.length>0)throw new Error(e.map(n=>n.reason.message).join(", "));ft.deleteConnectedSocialProvider(),Pn.resetWcConnection(),Jt.resetConnectorIds(),nr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"})}catch(t){console.error(t.message||"Failed to disconnect chains"),nr.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:t.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Ye.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Ye.chains.forEach(i=>{Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=Ye.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=te.state.chains.get(t))==null?void 0:e.accountState:gt.state},getNetworkData(t){var n;const e=t||Ye.activeChain;if(e)return(n=te.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=te.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Jt.state.filterByNamespace;return(t?[Ye.chains.get(t)]:Array.from(Ye.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)}},Yue={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Xk=$t.getBlockchainApiUrl(),Os=Br({clientId:null,api:new Jy({baseUrl:Xk,clientId:null}),supportedChains:{http:[],ws:[]}}),Et={state:Os,async get(t){const{st:e,sv:n}=Et.getSdkProperties(),r=qe.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return Os.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=qe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Os.supportedChains.http.length||await Et.getSupportedNetworks()}catch{return!1}return Os.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Et.get({path:"v1/supported-chains"});return Os.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Et.isNetworkSupported(e))return{avatar:"",name:""};const r=ft.getIdentityFromCacheForAddress(t);if(r)return r;const i=await Et.get({path:`/v1/identity/${t}`,params:{sender:te.state.activeCaipAddress?$t.getPlainAddress(te.state.activeCaipAddress):void 0}});return ft.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await Et.isNetworkSupported((a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Et.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Et.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Et.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Et.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Os.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:qe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Et.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Et.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Et.getSdkProperties();if(!await Et.isNetworkSupported((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Et.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r}){var s;if(!await Et.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Swaps");return Os.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Yr.CONVERT_SLIPPAGE_TOLERANCE},projectId:qe.state.projectId,from:e,to:n,userAddress:r}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Et.getSdkProperties();if(!await Et.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Et.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=Et.getSdkProperties();if(!await Et.isNetworkSupported((l=te.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return tr.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ft.getBalanceCacheForCaipAddress(o);if(a)return a;const d=await Et.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return ft.updateBalanceCache({caipAddress:o,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Et.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Et.get({path:`/v1/profile/reverse/${t}`,params:{sender:gt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Et.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Et.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Os.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Et.isNetworkSupported((a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Os.api.post({path:"/v1/generators/onrampurl",params:{projectId:qe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Et.isNetworkSupported((e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Et.get({path:"/v1/onramp/options"})}catch{return Yue}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Et.isNetworkSupported((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await Os.api.post({path:"/v1/onramp/quote",params:{projectId:qe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Et.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Et.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Et.isNetworkSupported((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Os.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:qe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Os.clientId=t,Os.api=new Jy({baseUrl:Xk,clientId:t})}},m0={async getTokenList(){var r;const t=te.state.activeCaipNetwork,e=await Et.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(i=>({...i,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=te.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(Pn==null?void 0:Pn.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Et.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const i=await Et.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i!=null&&i.allowance&&n&&r){const s=Pn.parseUnits(n,r)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=gt.state.address,n=te.state.activeCaipNetwork;if(!e||!n)return[];const i=(await Et.getBalance(e,n.caipNetworkId,t)).balances.filter(s=>s.quantity.decimals!=="0");return gt.setTokenBalance(i,te.state.activeChain),this.mapBalancesToSwapTokens(i)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:te.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Ka={getGasPriceInEther(t,e){const n=e*t;return Number(n)/1e18},getGasPriceInUSD(t,e,n){const r=Ka.getGasPriceInEther(e,n);return Xn.bigNumber(t).times(r).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:n,toTokenAmount:r}){const i=Xn.bigNumber(t).times(e),s=Xn.bigNumber(r).times(n);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(t,e){const n=Xn.bigNumber(t).div(100);return Xn.multiply(e,n).toNumber()},getProviderFee(t,e=.0085){return Xn.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return Xn.bigNumber(t).eq(0)?!0:Xn.bigNumber(Xn.bigNumber(n)).gt(t)},isInsufficientSourceTokenForSwap(t,e,n){var s,o;const r=(o=(s=n==null?void 0:n.find(a=>a.address===e))==null?void 0:s.quantity)==null?void 0:o.numeric;return Xn.bigNumber(r||"0").lt(t)},getToTokenAmount({sourceToken:t,toToken:e,sourceTokenPrice:n,toTokenPrice:r,sourceTokenAmount:i}){if(i==="0"||!t||!e)return"0";const s=t.decimals,o=n,a=e.decimals,d=r;if(d<=0)return"0";const l=Xn.bigNumber(i).times(.0085),h=Xn.bigNumber(i).minus(l).times(Xn.bigNumber(10).pow(s)),g=Xn.bigNumber(o).div(d),y=s-a;return h.times(g).div(Xn.bigNumber(10).pow(y)).div(Xn.bigNumber(10).pow(a)).toFixed(a).toString()}},R7=15e4,Zue=6,ys={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Yr.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},pe=Br(ys),wm={state:pe,subscribe(t){return _s(pe,()=>t(pe))},subscribeKey(t,e){return js(pe,t,e)},getParams(){var d,l,f,h,g,y,v,w;const t=te.state.activeCaipAddress,e=te.state.activeChain,n=$t.getPlainAddress(t),r=te.getActiveNetworkTokenAddress(),i=Jt.getConnectorId(e);if(!n)throw new Error("No address found to swap the tokens from.");const s=!((d=pe.toToken)!=null&&d.address)||!((l=pe.toToken)!=null&&l.decimals),o=!((f=pe.sourceToken)!=null&&f.address)||!((h=pe.sourceToken)!=null&&h.decimals)||!Xn.bigNumber(pe.sourceTokenAmount).gt(0),a=!pe.sourceTokenAmount;return{networkAddress:r,fromAddress:n,fromCaipAddress:t,sourceTokenAddress:(g=pe.sourceToken)==null?void 0:g.address,toTokenAddress:(y=pe.toToken)==null?void 0:y.address,toTokenAmount:pe.toTokenAmount,toTokenDecimals:(v=pe.toToken)==null?void 0:v.decimals,sourceTokenAmount:pe.sourceTokenAmount,sourceTokenDecimals:(w=pe.sourceToken)==null?void 0:w.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!s&&!o&&!a,isAuthConnector:i===Ue.CONNECTOR_ID.AUTH}},setSourceToken(t){if(!t){pe.sourceToken=t,pe.sourceTokenAmount="",pe.sourceTokenPriceInUSD=0;return}pe.sourceToken=t,this.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){pe.sourceTokenAmount=t},setToToken(t){if(!t){pe.toToken=t,pe.toTokenAmount="",pe.toTokenPriceInUSD=0;return}pe.toToken=t,this.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){pe.toTokenAmount=t?Xn.formatNumberToLocalString(t,Zue):""},async setTokenPrice(t,e){let n=pe.tokensPriceMap[t]||0;n||(pe.loadingPrices=!0,n=await this.getAddressPrice(t)),e==="sourceToken"?pe.sourceTokenPriceInUSD=n:e==="toToken"&&(pe.toTokenPriceInUSD=n),pe.loadingPrices&&(pe.loadingPrices=!1),this.getParams().availableToSwap&&this.swapTokens()},switchTokens(){if(pe.initializing||!pe.initialized)return;const t=pe.toToken?{...pe.toToken}:void 0,e=pe.sourceToken?{...pe.sourceToken}:void 0,n=t&&pe.toTokenAmount===""?"1":pe.toTokenAmount;this.setSourceToken(t),this.setToToken(e),this.setSourceTokenAmount(n),this.setToTokenAmount(""),this.swapTokens()},resetState(){pe.myTokensWithBalance=ys.myTokensWithBalance,pe.tokensPriceMap=ys.tokensPriceMap,pe.initialized=ys.initialized,pe.sourceToken=ys.sourceToken,pe.sourceTokenAmount=ys.sourceTokenAmount,pe.sourceTokenPriceInUSD=ys.sourceTokenPriceInUSD,pe.toToken=ys.toToken,pe.toTokenAmount=ys.toTokenAmount,pe.toTokenPriceInUSD=ys.toTokenPriceInUSD,pe.networkPrice=ys.networkPrice,pe.networkTokenSymbol=ys.networkTokenSymbol,pe.networkBalanceInUSD=ys.networkBalanceInUSD,pe.inputError=ys.inputError},resetValues(){var n;const{networkAddress:t}=this.getParams(),e=(n=pe.tokens)==null?void 0:n.find(r=>r.address===t);this.setSourceToken(e),this.setToToken(void 0)},getApprovalLoadingState(){return pe.loadingApprovalTransaction},clearError(){pe.transactionError=void 0},async initializeState(){if(!pe.initializing){if(pe.initializing=!0,!pe.initialized)try{await this.fetchTokens(),pe.initialized=!0}catch{pe.initialized=!1,tr.showError("Failed to initialize swap"),xn.goBack()}pe.initializing=!1}},async fetchTokens(){var n;const{networkAddress:t}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const e=(n=pe.tokens)==null?void 0:n.find(r=>r.address===t);e&&(pe.networkTokenSymbol=e.symbol,this.setSourceToken(e),this.setSourceTokenAmount("1"))},async getTokenList(){const t=await m0.getTokenList();pe.tokens=t,pe.popularTokens=t.sort((e,n)=>e.symbol<n.symbol?-1:e.symbol>n.symbol?1:0),pe.suggestedTokens=t.filter(e=>!!Yr.SWAP_SUGGESTED_TOKENS.includes(e.symbol),{})},async getAddressPrice(t){var d,l;const e=pe.tokensPriceMap[t];if(e)return e;const n=await Et.fetchTokenPrice({addresses:[t]}),r=(n==null?void 0:n.fungibles)||[],i=[...pe.tokens||[],...pe.myTokensWithBalance||[]],s=(d=i==null?void 0:i.find(f=>f.address===t))==null?void 0:d.symbol,o=((l=r.find(f=>f.symbol.toLowerCase()===(s==null?void 0:s.toLowerCase())))==null?void 0:l.price)||0,a=parseFloat(o.toString());return pe.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){var i;const{networkAddress:t}=this.getParams(),n=(i=(await Et.fetchTokenPrice({addresses:[t]}).catch(()=>(tr.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)==null?void 0:i[0],r=(n==null?void 0:n.price.toString())||"0";pe.tokensPriceMap[t]=parseFloat(r),pe.networkTokenSymbol=(n==null?void 0:n.symbol)||"",pe.networkPrice=r},async getMyTokensWithBalance(t){const e=await m0.getMyTokensWithBalance(t);e&&(await this.getInitialGasPrice(),this.setBalances(e))},setBalances(t){const{networkAddress:e}=this.getParams(),n=te.state.activeCaipNetwork;if(!n)return;const r=t.find(i=>i.address===e);t.forEach(i=>{pe.tokensPriceMap[i.address]=i.price||0}),pe.myTokensWithBalance=t.filter(i=>i.address.startsWith(n.caipNetworkId)),pe.networkBalanceInUSD=r?Xn.multiply(r.quantity.numeric,r.price).toString():"0"},async getInitialGasPrice(){var e,n;const t=await m0.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch((n=(e=te.state)==null?void 0:e.activeCaipNetwork)==null?void 0:n.chainNamespace){case"solana":return pe.gasFee=t.standard??"0",pe.gasPriceInUSD=Xn.multiply(t.standard,pe.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(pe.gasFee),gasPriceInUSD:Number(pe.gasPriceInUSD)};case"eip155":default:const r=t.standard??"0",i=BigInt(r),s=BigInt(R7),o=Ka.getGasPriceInUSD(pe.networkPrice,s,i);return pe.gasFee=r,pe.gasPriceInUSD=o,{gasPrice:i,gasPriceInUSD:o}}},async swapTokens(){var s,o;const t=gt.state.address,e=pe.sourceToken,n=pe.toToken,r=Xn.bigNumber(pe.sourceTokenAmount).gt(0);if(r||this.setToTokenAmount(""),!n||!e||pe.loadingPrices||!r)return;pe.loadingQuote=!0;const i=Xn.bigNumber(pe.sourceTokenAmount).times(10**e.decimals).round(0);try{const a=await Et.fetchSwapQuote({userAddress:t,from:e.address,to:n.address,gasPrice:pe.gasFee,amount:i.toString()});pe.loadingQuote=!1;const d=(o=(s=a==null?void 0:a.quotes)==null?void 0:s[0])==null?void 0:o.toAmount;if(!d){_u.open({shortMessage:"Incorrect amount",longMessage:"Please enter a valid amount"},"error");return}const l=Xn.bigNumber(d).div(10**n.decimals).toString();this.setToTokenAmount(l),this.hasInsufficientToken(pe.sourceTokenAmount,e.address)?pe.inputError="Insufficient balance":(pe.inputError=void 0,this.setTransactionDetails())}catch{pe.loadingQuote=!1,pe.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:t,availableToSwap:e}=this.getParams(),n=pe.sourceToken,r=pe.toToken;if(!(!t||!e||!n||!r||pe.loadingQuote))try{pe.loadingBuildTransaction=!0;const i=await m0.fetchSwapAllowance({userAddress:t,tokenAddress:n.address,sourceTokenAmount:pe.sourceTokenAmount,sourceTokenDecimals:n.decimals});let s;return i?s=await this.createSwapTransaction():s=await this.createAllowanceTransaction(),pe.loadingBuildTransaction=!1,pe.fetchError=!1,s}catch{xn.goBack(),tr.showError("Failed to check allowance"),pe.loadingBuildTransaction=!1,pe.approvalTransaction=void 0,pe.swapTransaction=void 0,pe.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:t,fromAddress:e,sourceTokenAddress:n,toTokenAddress:r}=this.getParams();if(!(!t||!r)){if(!n)throw new Error("createAllowanceTransaction - No source token address found.");try{const i=await Et.generateApproveCalldata({from:n,to:r,userAddress:t}),s=await Pn.estimateGas({address:e,to:$t.getPlainAddress(i.tx.to),data:i.tx.data}),o={data:i.tx.data,to:$t.getPlainAddress(i.tx.from),gas:s,gasPrice:BigInt(i.tx.eip155.gasPrice),value:BigInt(i.tx.value),toAmount:pe.toTokenAmount};return pe.swapTransaction=void 0,pe.approvalTransaction={data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch{xn.goBack(),tr.showError("Failed to create approval transaction"),pe.approvalTransaction=void 0,pe.swapTransaction=void 0,pe.fetchError=!0;return}}},async createSwapTransaction(){var o;const{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:n}=this.getParams(),r=pe.sourceToken,i=pe.toToken;if(!e||!n||!r||!i)return;const s=(o=Pn.parseUnits(n,r.decimals))==null?void 0:o.toString();try{const a=await Et.generateSwapCalldata({userAddress:e,from:r.address,to:i.address,amount:s}),d=r.address===t,l=BigInt(a.tx.eip155.gas),f=BigInt(a.tx.eip155.gasPrice),h={data:a.tx.data,to:$t.getPlainAddress(a.tx.to),gas:l,gasPrice:f,value:BigInt(d?s??"0":"0"),toAmount:pe.toTokenAmount};return pe.gasPriceInUSD=Ka.getGasPriceInUSD(pe.networkPrice,l,f),pe.approvalTransaction=void 0,pe.swapTransaction=h,h}catch{xn.goBack(),tr.showError("Failed to create transaction"),pe.approvalTransaction=void 0,pe.swapTransaction=void 0,pe.fetchError=!0;return}},async sendTransactionForApproval(t){var i,s,o;const{fromAddress:e,isAuthConnector:n}=this.getParams();pe.loadingApprovalTransaction=!0;const r="Approve limit increase in your wallet";n?xn.pushTransactionStack({view:null,goBack:!0,onSuccess(){tr.showLoading(r)}}):tr.showLoading(r);try{await Pn.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),pe.approvalTransaction=void 0,pe.loadingApprovalTransaction=!1}catch(a){const d=a;pe.transactionError=d==null?void 0:d.shortMessage,pe.loadingApprovalTransaction=!1,tr.showError((d==null?void 0:d.shortMessage)||"Transaction error"),nr.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(d==null?void 0:d.shortMessage)||(d==null?void 0:d.message)||"Unknown",network:((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||"",swapFromToken:((s=this.state.sourceToken)==null?void 0:s.symbol)||"",swapToToken:((o=this.state.toToken)==null?void 0:o.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){var o,a,d,l,f,h,g,y,v,w,x,k;if(!t)return;const{fromAddress:e,toTokenAmount:n,isAuthConnector:r}=this.getParams();pe.loadingTransaction=!0;const i=`Swapping ${(o=pe.sourceToken)==null?void 0:o.symbol} to ${Xn.formatNumberToLocalString(n,3)} ${(a=pe.toToken)==null?void 0:a.symbol}`,s=`Swapped ${(d=pe.sourceToken)==null?void 0:d.symbol} to ${Xn.formatNumberToLocalString(n,3)} ${(l=pe.toToken)==null?void 0:l.symbol}`;r?xn.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){tr.showLoading(i),wm.resetState()}}):tr.showLoading("Confirm transaction in your wallet");try{const N=[(f=pe.sourceToken)==null?void 0:f.address,(h=pe.toToken)==null?void 0:h.address].join(","),R=await Pn.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"});return pe.loadingTransaction=!1,tr.showSuccess(s),nr.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:((g=te.state.activeCaipNetwork)==null?void 0:g.caipNetworkId)||"",swapFromToken:((y=this.state.sourceToken)==null?void 0:y.symbol)||"",swapToToken:((v=this.state.toToken)==null?void 0:v.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT}}),wm.resetState(),r||xn.replace("Account"),wm.getMyTokensWithBalance(N),R}catch(N){const R=N;pe.transactionError=R==null?void 0:R.shortMessage,pe.loadingTransaction=!1,tr.showError((R==null?void 0:R.shortMessage)||"Transaction error"),nr.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(R==null?void 0:R.shortMessage)||(R==null?void 0:R.message)||"Unknown",network:((w=te.state.activeCaipNetwork)==null?void 0:w.caipNetworkId)||"",swapFromToken:((x=this.state.sourceToken)==null?void 0:x.symbol)||"",swapToToken:((k=this.state.toToken)==null?void 0:k.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){const n=Ka.isInsufficientSourceTokenForSwap(t,e,pe.myTokensWithBalance);let r=!0;return gt.state.preferredAccountType===kr.ACCOUNT_TYPES.SMART_ACCOUNT?r=!1:r=Ka.isInsufficientNetworkTokenForGas(pe.networkBalanceInUSD,pe.gasPriceInUSD),r||n},setTransactionDetails(){const{toTokenAddress:t,toTokenDecimals:e}=this.getParams();!t||!e||(pe.gasPriceInUSD=Ka.getGasPriceInUSD(pe.networkPrice,BigInt(pe.gasFee),BigInt(R7)),pe.priceImpact=Ka.getPriceImpact({sourceTokenAmount:pe.sourceTokenAmount,sourceTokenPriceInUSD:pe.sourceTokenPriceInUSD,toTokenPriceInUSD:pe.toTokenPriceInUSD,toTokenAmount:pe.toTokenAmount}),pe.maxSlippage=Ka.getMaxSlippage(pe.slippage,pe.toTokenAmount),pe.providerFee=Ka.getProviderFee(pe.sourceTokenAmount))}},Jo=Br({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),gt={state:Jo,replaceState(t){t&&Object.assign(Jo,kf(t))},subscribe(t){return te.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return te.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){te.setAccountProp("status",t,e)},getCaipAddress(t){return te.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?$t.getPlainAddress(t):void 0;e===te.state.activeChain&&(te.state.activeCaipAddress=t),te.setAccountProp("caipAddress",t,e),te.setAccountProp("address",n,e)},setBalance(t,e,n){te.setAccountProp("balance",t,n),te.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){te.setAccountProp("profileName",t,e)},setProfileImage(t,e){te.setAccountProp("profileImage",t,e)},setUser(t,e){te.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){te.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){te.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){te.setAccountProp("currentTab",t,te.state.activeChain)},setTokenBalance(t,e){t&&te.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){te.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){te.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=te.getAccountProp("addressLabels",n)||new Map;r.set(t,e),te.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=te.getAccountProp("addressLabels",e)||new Map;n.delete(t),te.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){te.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){te.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&te.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){te.setAccountProp("socialWindow",t?kf(t):void 0,e)},setFarcasterUrl(t,e){te.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Jo.balanceLoading=!0;const e=(s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=te.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=te.state.activeCaipAddress,i=r?$t.getPlainAddress(r):void 0;if(Jo.lastRetry&&!$t.isAllowedRetry(Jo.lastRetry,30*Yr.ONE_SEC_MS))return Jo.balanceLoading=!1,[];try{if(i&&e&&n){const a=await Et.getBalance(i,e),d=a.balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(d,n),wm.setBalances(m0.mapBalancesToSwapTokens(a.balances)),Jo.lastRetry=void 0,Jo.balanceLoading=!1,d}}catch(a){Jo.lastRetry=Date.now(),t==null||t(a),tr.showError("Token Balance Unavailable")}finally{Jo.balanceLoading=!1}return[]},resetAccount(t){te.resetAccount(t)}},Jue=$t.getApiUrl(),qi=new Jy({baseUrl:Jue,clientId:null}),Xue="40",O7="4",ede=20,Kr=Br({page:1,count:0,featured:[],recommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[],isFetchingRecommendedWallets:!1}),Tn={state:Kr,subscribeKey(t,e){return js(Kr,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return qe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${qi.baseUrl}/getWalletImage/${t}`,n=await qi.getBlob({path:e,params:Tn._getSdkProperties()});To.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${qi.baseUrl}/public/getAssetImage/${t}`,n=await qi.getBlob({path:e,params:Tn._getSdkProperties()});To.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${qi.baseUrl}/public/getAssetImage/${t}`,n=await qi.getBlob({path:e,params:Tn._getSdkProperties()});To.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${qi.baseUrl}/public/getCurrencyImage/${t}`,n=await qi.getBlob({path:e,params:Tn._getSdkProperties()});To.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${qi.baseUrl}/public/getTokenImage/${t}`,n=await qi.getBlob({path:e,params:Tn._getSdkProperties()});To.setTokenImage(t,URL.createObjectURL(n))},async fetchNetworkImages(){const t=te.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!LP.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Tn._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Jt.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Tn._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Tn._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Tn._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=qe.state;if(t!=null&&t.length){const{data:e}=await qi.get({path:"/getWallets",params:{...Tn._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):O7,include:t==null?void 0:t.join(",")}});e.sort((r,i)=>t.indexOf(r.id)-t.indexOf(i.id));const n=e.map(r=>r.image_id).filter(Boolean);await Promise.allSettled(n.map(r=>Tn._fetchWalletImage(r))),Kr.featured=e}},async fetchRecommendedWallets(){try{Kr.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=qe.state,r=[...e??[],...n??[]].filter(Boolean),i=te.getRequestedCaipNetworkIds().join(","),{data:s,count:o}=await qi.get({path:"/getWallets",params:{...Tn._getSdkProperties(),page:"1",chains:i,entries:O7,include:t==null?void 0:t.join(","),exclude:r==null?void 0:r.join(",")}}),a=ft.getRecentWallets(),d=s.map(f=>f.image_id).filter(Boolean),l=a.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...d,...l].map(f=>Tn._fetchWalletImage(f))),Kr.recommended=s,Kr.count=o??0}catch{}finally{Kr.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=qe.state,i=te.getRequestedCaipNetworkIds().join(","),s=[...Kr.recommended.map(({id:l})=>l),...n??[],...r??[]].filter(Boolean),{data:o,count:a}=await qi.get({path:"/getWallets",params:{...Tn._getSdkProperties(),page:String(t),entries:Xue,chains:i,include:e==null?void 0:e.join(","),exclude:s.join(",")}}),d=o.slice(0,ede).map(l=>l.image_id).filter(Boolean);await Promise.allSettled(d.map(l=>Tn._fetchWalletImage(l))),Kr.wallets=$t.uniqueBy([...Kr.wallets,...Tn._filterOutExtensions(o)],"id"),Kr.count=a>Kr.count?a:Kr.count,Kr.page=t},async initializeExcludedWalletRdns({ids:t}){const e=te.getRequestedCaipNetworkIds().join(","),{data:n}=await qi.get({path:"/getWallets",params:{...Tn._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});n&&n.forEach(r=>{r!=null&&r.rdns&&Kr.excludedRDNS.push(r.rdns)})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=qe.state;Kr.search=[];const i=te.getRequestedCaipNetworkIds().join(","),{data:s}=await qi.get({path:"/getWallets",params:{...Tn._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:i,include:n==null?void 0:n.join(","),exclude:r==null?void 0:r.join(",")}});nr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...o.map(a=>Tn._fetchWalletImage(a)),$t.wait(300)]),Kr.search=Tn._filterOutExtensions(s)},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){if(gt.state.status==="connected")return Promise.resolve();if(Kr.prefetchPromise)return Kr.prefetchPromise;const i=[t&&Tn.fetchConnectorImages(),e&&Tn.fetchFeaturedWallets(),n&&Tn.fetchRecommendedWallets(),r&&Tn.fetchNetworkImages()].filter(Boolean);return Kr.prefetchPromise=Promise.allSettled(i),Kr.prefetchPromise},prefetchAnalyticsConfig(){var t;(t=qe.state.features)!=null&&t.analytics&&Tn.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await qi.get({path:"/getAnalyticsConfig",params:Tn._getSdkProperties()});qe.setFeatures({analytics:t})}catch{qe.setFeatures({analytics:!1})}}},ms=Br({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ti={state:ms,subscribe(t){return _s(ms,()=>t(ms))},subscribeKey(t,e){return js(ms,t,e)},async open(t){var r;Pn.state.wcBasic?Tn.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Tn.prefetch(),t!=null&&t.namespace?(Jt.setFilterByNamespace(t.namespace),await te.switchActiveNamespace(t.namespace),ti.setLoading(!0,t.namespace)):ti.setLoading(!0);const e=(r=te.getAccountData(t==null?void 0:t.namespace))==null?void 0:r.caipAddress;te.state.noAdapters&&!e?$t.isMobile()?xn.reset("AllWallets"):xn.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?xn.reset(t.view):e?xn.reset("Account"):xn.reset("Connect"),ms.open=!0,sc.set({open:!0}),nr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!e}})},close(){const t=qe.state.enableEmbedded,e=!!te.state.activeCaipAddress;ms.open&&nr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ms.open=!1,ti.clearLoading(),t?e?xn.replace("Account"):xn.push("Connect"):sc.set({open:!1}),Jt.clearNamespaceFilter(),Pn.resetUri()},setLoading(t,e){e&&ms.loadingNamespaceMap.set(e,t),ms.loading=t,sc.set({loading:t})},clearLoading(){ms.loadingNamespaceMap.clear(),ms.loading=!1},shake(){ms.shake||(ms.shake=!0,setTimeout(()=>{ms.shake=!1},500))}},M7=2147483648,tde={convertEVMChainIdToCoinType(t){if(t>=M7)throw new Error("Invalid chainId");return(M7|t)>>>0}},Js=Br({suggestions:[],loading:!1}),eR={state:Js,subscribe(t){return _s(Js,()=>t(Js))},subscribeKey(t,e){return js(Js,t,e)},async resolveName(t){var e,n;try{return await Et.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Et.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Js.loading=!0,Js.suggestions=[];const e=await Et.getEnsNameSuggestions(t);return Js.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Js.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Js.loading=!1}},async getNamesForAddress(t){try{if(!te.state.activeCaipNetwork)return[];const n=ft.getEnsFromCacheForAddress(t);if(n)return n;const r=await Et.reverseLookupEnsName({address:t});return ft.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=te.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=gt.state.address,r=Jt.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Js.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});xn.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Js.loading=!1}});const s=await Pn.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=tde.convertEVMChainIdToCoinType(Number(o));await Et.registerEnsName({coinType:a,address:n,signature:s,message:i}),gt.setProfileName(t,e.chainNamespace),xn.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw xn.replace("RegisterAccountName"),new Error(s)}finally{Js.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}},Pr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},fl={ConnectorExplorerIds:{[Ue.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ue.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ue.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ue.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ue.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Pr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Pr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Pr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Pr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Pr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Pr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Pr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Pr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Pr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Pr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Pr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"21c895fa-e105-4829-9434-378bb54fa600","000000000933ea01ad0ee984209779ba":"220bcb01-ba47-41d3-fe5b-e29bbc4a4b00"},ConnectorImageIds:{[Ue.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ue.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ue.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ue.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ue.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ue.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ue.CONNECTOR_ID.COINBASE]:"Coinbase",[Ue.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ue.CONNECTOR_ID.LEDGER]:"Ledger",[Ue.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ue.CONNECTOR_ID.INJECTED]:"INJECTED",[Ue.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ue.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ue.CONNECTOR_ID.AUTH]:"AUTH"}},tR={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Pr.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},rf={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${nde()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function nde(){return typeof window<"u"}const rde={createLogger(t,e="error"){const n=Xf({level:e}),{logger:r}=o6({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},ide="rpc.walletconnect.org";function sde(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const D7=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],xu={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===ide}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ue.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ue.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return D7.includes(e)?sde(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpc:r}){var d,l,f,h;const i=this.getCaipNetworkId(t),s=this.getChainNamespace(t),o=(f=(l=(d=t==null?void 0:t.rpcUrls)==null?void 0:d.chainDefault)==null?void 0:l.http)==null?void 0:f[0];let a="";return r?a=((h=t.rpcUrls.default.http)==null?void 0:h[0])||"":a=this.getDefaultRpcUrl(t,i,n),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:fl.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:[a]},chainDefault:{http:[o||t.rpcUrls.default.http[0]||""]}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcChainIds:r}){return t.map(i=>xu.extendCaipNetwork(i,{customNetworkImageUrls:e,projectId:n,customRpc:r==null?void 0:r.includes(i.id)}))},getViemTransport(t){var n;const e=(n=t.rpcUrls.default.http)==null?void 0:n[0];return D7.includes(t.caipNetworkId)?hV([xb(e,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}),xb(e)]):xb(e)}},$7={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Pi={set(t,e){Ls.isClient&&localStorage.setItem(`${mt.STORAGE_KEY}${t}`,e)},get(t){return Ls.isClient?localStorage.getItem(`${mt.STORAGE_KEY}${t}`):null},delete(t,e){Ls.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${mt.STORAGE_KEY}${t}`))}},Jg=30*1e3,Ls={checkIfAllowedToTriggerEmail(){const t=Pi.get(mt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Jg){const n=Math.ceil((Jg-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Pi.get(mt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Jg)return Math.ceil((Jg-e)/1e3)}return 0},checkIfRequestExists(t){return kr.NOT_SAFE_RPC_METHODS.includes(t.method)||kr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match($7.transactionHash))||(t==null?void 0:t.match($7.signedMessage)))?mt.RPC_RESPONSE_TYPE_TX:mt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return kr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Bn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Bn||(Bn={}));var $4;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($4||($4={}));const rt=Bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jc=t=>{switch(typeof t){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return isNaN(t)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(t)?rt.array:t===null?rt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?rt.promise:typeof Map<"u"&&t instanceof Map?rt.map:typeof Set<"u"&&t instanceof Set?rt.set:typeof Date<"u"&&t instanceof Date?rt.date:rt.object;default:return rt.unknown}},Be=Bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ode=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Oo extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,d=0;for(;d<o.path.length;){const l=o.path[d];d===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],d++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Oo.create=t=>new Oo(t);const yp=(t,e)=>{let n;switch(t.code){case Be.invalid_type:t.received===rt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Bn.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Bn.joinValues(t.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Bn.joinValues(t.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Bn.joinValues(t.options)}, received '${t.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Bn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Bn.assertNever(t)}return{message:n}};let nR=yp;function ade(t){nR=t}function ay(){return nR}const cy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const d=r.filter(l=>!!l).slice().reverse();for(const l of d)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},cde=[];function lt(t,e){const n=cy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ay(),yp].filter(r=>!!r)});t.common.issues.push(n)}class Qi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Yt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Qi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Yt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Yt=Object.freeze({status:"aborted"}),rR=t=>({status:"dirty",value:t}),as=t=>({status:"valid",value:t}),L4=t=>t.status==="aborted",U4=t=>t.status==="dirty",wp=t=>t.status==="valid",ly=t=>typeof Promise<"u"&&t instanceof Promise;var It;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(It||(It={}));class va{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const L7=(t,e)=>{if(wp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Oo(t.common.issues);return this._error=n,this._error}}};function Xt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class dn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Jc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Jc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qi,ctx:{common:e.parent.common,data:e.data,parsedType:Jc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ly(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jc(e)},s=this._parseSync({data:e,path:i.path,parent:i});return L7(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jc(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ly(i)?i:Promise.resolve(i));return L7(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Lo({schema:this,typeName:Bt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return oc.create(this,this._def)}nullable(){return Wu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mo.create(this,this._def)}promise(){return Lf.create(this,this._def)}or(e){return Ep.create([this,e],this._def)}and(e){return Ap.create(this,e,this._def)}transform(e){return new Lo({...Xt(this._def),schema:this,typeName:Bt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Tp({...Xt(this._def),innerType:this,defaultValue:n,typeName:Bt.ZodDefault})}brand(){return new sR({typeName:Bt.ZodBranded,type:this,...Xt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hy({...Xt(this._def),innerType:this,catchValue:n,typeName:Bt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return f1.create(this,e)}readonly(){return gy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lde=/^c[^\s-]{8,}$/i,ude=/^[a-z][a-z0-9]*$/,dde=/^[0-9A-HJKMNP-TV-Z]{26}$/,fde=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hde=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let X2;const gde=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,mde=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yde=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function wde(t,e){return!!((e==="v4"||!e)&&gde.test(t)||(e==="v6"||!e)&&mde.test(t))}class Ro extends dn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rt.string){const s=this._getOrReturnCtx(e);return lt(s,{code:Be.invalid_type,expected:rt.string,received:s.parsedType}),Yt}const r=new Qi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?lt(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&lt(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")hde.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"email",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")X2||(X2=new RegExp(pde,"u")),X2.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"emoji",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")fde.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"uuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")lde.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"cuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ude.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"cuid2",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")dde.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"ulid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),lt(i,{validation:"url",code:Be.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"regex",code:Be.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?yde(s).test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?wde(e.data,s.version)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"ip",code:Be.invalid_string,message:s.message}),r.dirty()):Bn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Be.invalid_string,...It.errToObj(r)})}_addCheck(e){return new Ro({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...It.errToObj(e)})}url(e){return this._addCheck({kind:"url",...It.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...It.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...It.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...It.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...It.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...It.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...It.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...It.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...It.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...It.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...It.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...It.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...It.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...It.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...It.errToObj(n)})}nonempty(e){return this.min(1,It.errToObj(e))}trim(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ro({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ro.create=t=>{var e;return new Ro({checks:[],typeName:Bt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Xt(t)})};function vde(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Il extends dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rt.number){const s=this._getOrReturnCtx(e);return lt(s,{code:Be.invalid_type,expected:rt.number,received:s.parsedType}),Yt}let r;const i=new Qi;for(const s of this._def.checks)s.kind==="int"?Bn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?vde(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.not_finite,message:s.message}),i.dirty()):Bn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,It.toString(n))}gt(e,n){return this.setLimit("min",e,!1,It.toString(n))}lte(e,n){return this.setLimit("max",e,!0,It.toString(n))}lt(e,n){return this.setLimit("max",e,!1,It.toString(n))}setLimit(e,n,r,i){return new Il({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:It.toString(i)}]})}_addCheck(e){return new Il({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:It.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:It.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Bn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Il.create=t=>new Il({checks:[],typeName:Bt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Xt(t)});class Tl extends dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==rt.bigint){const s=this._getOrReturnCtx(e);return lt(s,{code:Be.invalid_type,expected:rt.bigint,received:s.parsedType}),Yt}let r;const i=new Qi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Bn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,It.toString(n))}gt(e,n){return this.setLimit("min",e,!1,It.toString(n))}lte(e,n){return this.setLimit("max",e,!0,It.toString(n))}lt(e,n){return this.setLimit("max",e,!1,It.toString(n))}setLimit(e,n,r,i){return new Tl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:It.toString(i)}]})}_addCheck(e){return new Tl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:It.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Tl.create=t=>{var e;return new Tl({checks:[],typeName:Bt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Xt(t)})};class vp extends dn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rt.boolean){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.boolean,received:r.parsedType}),Yt}return as(e.data)}}vp.create=t=>new vp({typeName:Bt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Xt(t)});class ju extends dn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rt.date){const s=this._getOrReturnCtx(e);return lt(s,{code:Be.invalid_type,expected:rt.date,received:s.parsedType}),Yt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return lt(s,{code:Be.invalid_date}),Yt}const r=new Qi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Bn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ju({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:It.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:It.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ju.create=t=>new ju({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Bt.ZodDate,...Xt(t)});class uy extends dn{_parse(e){if(this._getType(e)!==rt.symbol){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.symbol,received:r.parsedType}),Yt}return as(e.data)}}uy.create=t=>new uy({typeName:Bt.ZodSymbol,...Xt(t)});class bp extends dn{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.undefined,received:r.parsedType}),Yt}return as(e.data)}}bp.create=t=>new bp({typeName:Bt.ZodUndefined,...Xt(t)});class Cp extends dn{_parse(e){if(this._getType(e)!==rt.null){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.null,received:r.parsedType}),Yt}return as(e.data)}}Cp.create=t=>new Cp({typeName:Bt.ZodNull,...Xt(t)});class $f extends dn{constructor(){super(...arguments),this._any=!0}_parse(e){return as(e.data)}}$f.create=t=>new $f({typeName:Bt.ZodAny,...Xt(t)});class Su extends dn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return as(e.data)}}Su.create=t=>new Su({typeName:Bt.ZodUnknown,...Xt(t)});class fc extends dn{_parse(e){const n=this._getOrReturnCtx(e);return lt(n,{code:Be.invalid_type,expected:rt.never,received:n.parsedType}),Yt}}fc.create=t=>new fc({typeName:Bt.ZodNever,...Xt(t)});class dy extends dn{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.void,received:r.parsedType}),Yt}return as(e.data)}}dy.create=t=>new dy({typeName:Bt.ZodVoid,...Xt(t)});class Mo extends dn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==rt.array)return lt(n,{code:Be.invalid_type,expected:rt.array,received:n.parsedType}),Yt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(lt(n,{code:o?Be.too_big:Be.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(lt(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(lt(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new va(n,o,n.path,a)))).then(o=>Qi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new va(n,o,n.path,a)));return Qi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Mo({...this._def,minLength:{value:e,message:It.toString(n)}})}max(e,n){return new Mo({...this._def,maxLength:{value:e,message:It.toString(n)}})}length(e,n){return new Mo({...this._def,exactLength:{value:e,message:It.toString(n)}})}nonempty(e){return this.min(1,e)}}Mo.create=(t,e)=>new Mo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Bt.ZodArray,...Xt(e)});function Kd(t){if(t instanceof $r){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=oc.create(Kd(r))}return new $r({...t._def,shape:()=>e})}else return t instanceof Mo?new Mo({...t._def,type:Kd(t.element)}):t instanceof oc?oc.create(Kd(t.unwrap())):t instanceof Wu?Wu.create(Kd(t.unwrap())):t instanceof ba?ba.create(t.items.map(e=>Kd(e))):t}class $r extends dn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Bn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==rt.object){const l=this._getOrReturnCtx(e);return lt(l,{code:Be.invalid_type,expected:rt.object,received:l.parsedType}),Yt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof fc&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const d=[];for(const l of o){const f=s[l],h=i.data[l];d.push({key:{status:"valid",value:l},value:f._parse(new va(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof fc){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")a.length>0&&(lt(i,{code:Be.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const h=i.data[f];d.push({key:{status:"valid",value:f},value:l._parse(new va(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of d){const h=await f.key;l.push({key:h,value:await f.value,alwaysSet:f.alwaysSet})}return l}).then(l=>Qi.mergeObjectSync(r,l)):Qi.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return It.errToObj,new $r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const d=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=It.errToObj(e).message)!==null&&a!==void 0?a:d}:{message:d}}}:{}})}strip(){return new $r({...this._def,unknownKeys:"strip"})}passthrough(){return new $r({...this._def,unknownKeys:"passthrough"})}extend(e){return new $r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Bt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new $r({...this._def,catchall:e})}pick(e){const n={};return Bn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new $r({...this._def,shape:()=>n})}omit(e){const n={};return Bn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new $r({...this._def,shape:()=>n})}deepPartial(){return Kd(this)}partial(e){const n={};return Bn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new $r({...this._def,shape:()=>n})}required(e){const n={};return Bn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof oc;)s=s._def.innerType;n[r]=s}}),new $r({...this._def,shape:()=>n})}keyof(){return iR(Bn.objectKeys(this.shape))}}$r.create=(t,e)=>new $r({shape:()=>t,unknownKeys:"strip",catchall:fc.create(),typeName:Bt.ZodObject,...Xt(e)});$r.strictCreate=(t,e)=>new $r({shape:()=>t,unknownKeys:"strict",catchall:fc.create(),typeName:Bt.ZodObject,...Xt(e)});$r.lazycreate=(t,e)=>new $r({shape:t,unknownKeys:"strip",catchall:fc.create(),typeName:Bt.ZodObject,...Xt(e)});class Ep extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Oo(a.ctx.common.issues));return lt(n,{code:Be.invalid_union,unionErrors:o}),Yt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const d of r){const l={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(d=>new Oo(d));return lt(n,{code:Be.invalid_union,unionErrors:a}),Yt}}get options(){return this._def.options}}Ep.create=(t,e)=>new Ep({options:t,typeName:Bt.ZodUnion,...Xt(e)});const vm=t=>t instanceof xp?vm(t.schema):t instanceof Lo?vm(t.innerType()):t instanceof Sp?[t.value]:t instanceof Pl?t.options:t instanceof Ip?Object.keys(t.enum):t instanceof Tp?vm(t._def.innerType):t instanceof bp?[void 0]:t instanceof Cp?[null]:null;class hw extends dn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.object)return lt(n,{code:Be.invalid_type,expected:rt.object,received:n.parsedType}),Yt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(lt(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=vm(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new hw({typeName:Bt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Xt(r)})}}function B4(t,e){const n=Jc(t),r=Jc(e);if(t===e)return{valid:!0,data:t};if(n===rt.object&&r===rt.object){const i=Bn.objectKeys(e),s=Bn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const d=B4(t[a],e[a]);if(!d.valid)return{valid:!1};o[a]=d.data}return{valid:!0,data:o}}else if(n===rt.array&&r===rt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],d=B4(o,a);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===rt.date&&r===rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ap extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(L4(s)||L4(o))return Yt;const a=B4(s.value,o.value);return a.valid?((U4(s)||U4(o))&&n.dirty(),{status:n.value,value:a.data}):(lt(r,{code:Be.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ap.create=(t,e,n)=>new Ap({left:t,right:e,typeName:Bt.ZodIntersection,...Xt(n)});class ba extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.array)return lt(r,{code:Be.invalid_type,expected:rt.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return lt(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(lt(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const d=this._def.items[a]||this._def.rest;return d?d._parse(new va(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Qi.mergeArray(n,o)):Qi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ba({...this._def,rest:e})}}ba.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ba({items:t,typeName:Bt.ZodTuple,rest:null,...Xt(e)})};class _p extends dn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.object)return lt(r,{code:Be.invalid_type,expected:rt.object,received:r.parsedType}),Yt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new va(r,a,r.path,a)),value:o._parse(new va(r,r.data[a],r.path,a))});return r.common.async?Qi.mergeObjectAsync(n,i):Qi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof dn?new _p({keyType:e,valueType:n,typeName:Bt.ZodRecord,...Xt(r)}):new _p({keyType:Ro.create(),valueType:e,typeName:Bt.ZodRecord,...Xt(n)})}}class fy extends dn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.map)return lt(r,{code:Be.invalid_type,expected:rt.map,received:r.parsedType}),Yt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,d],l)=>({key:i._parse(new va(r,a,r.path,[l,"key"])),value:s._parse(new va(r,d,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const d of o){const l=await d.key,f=await d.value;if(l.status==="aborted"||f.status==="aborted")return Yt;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const d of o){const l=d.key,f=d.value;if(l.status==="aborted"||f.status==="aborted")return Yt;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}}}}fy.create=(t,e,n)=>new fy({valueType:e,keyType:t,typeName:Bt.ZodMap,...Xt(n)});class zu extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.set)return lt(r,{code:Be.invalid_type,expected:rt.set,received:r.parsedType}),Yt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(lt(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(lt(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(d){const l=new Set;for(const f of d){if(f.status==="aborted")return Yt;f.status==="dirty"&&n.dirty(),l.add(f.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((d,l)=>s._parse(new va(r,d,r.path,l)));return r.common.async?Promise.all(a).then(d=>o(d)):o(a)}min(e,n){return new zu({...this._def,minSize:{value:e,message:It.toString(n)}})}max(e,n){return new zu({...this._def,maxSize:{value:e,message:It.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}zu.create=(t,e)=>new zu({valueType:t,minSize:null,maxSize:null,typeName:Bt.ZodSet,...Xt(e)});class lf extends dn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.function)return lt(n,{code:Be.invalid_type,expected:rt.function,received:n.parsedType}),Yt;function r(a,d){return cy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ay(),yp].filter(l=>!!l),issueData:{code:Be.invalid_arguments,argumentsError:d}})}function i(a,d){return cy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ay(),yp].filter(l=>!!l),issueData:{code:Be.invalid_return_type,returnTypeError:d}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Lf){const a=this;return as(async function(...d){const l=new Oo([]),f=await a._def.args.parseAsync(d,s).catch(y=>{throw l.addIssue(r(d,y)),l}),h=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(h,s).catch(y=>{throw l.addIssue(i(h,y)),l})})}else{const a=this;return as(function(...d){const l=a._def.args.safeParse(d,s);if(!l.success)throw new Oo([r(d,l.error)]);const f=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(f,s);if(!h.success)throw new Oo([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new lf({...this._def,args:ba.create(e).rest(Su.create())})}returns(e){return new lf({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new lf({args:e||ba.create([]).rest(Su.create()),returns:n||Su.create(),typeName:Bt.ZodFunction,...Xt(r)})}}class xp extends dn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xp.create=(t,e)=>new xp({getter:t,typeName:Bt.ZodLazy,...Xt(e)});class Sp extends dn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return lt(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sp.create=(t,e)=>new Sp({value:t,typeName:Bt.ZodLiteral,...Xt(e)});function iR(t,e){return new Pl({values:t,typeName:Bt.ZodEnum,...Xt(e)})}class Pl extends dn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return lt(n,{expected:Bn.joinValues(r),received:n.parsedType,code:Be.invalid_type}),Yt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return lt(n,{received:n.data,code:Be.invalid_enum_value,options:r}),Yt}return as(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Pl.create(e)}exclude(e){return Pl.create(this.options.filter(n=>!e.includes(n)))}}Pl.create=iR;class Ip extends dn{_parse(e){const n=Bn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const i=Bn.objectValues(n);return lt(r,{expected:Bn.joinValues(i),received:r.parsedType,code:Be.invalid_type}),Yt}if(n.indexOf(e.data)===-1){const i=Bn.objectValues(n);return lt(r,{received:r.data,code:Be.invalid_enum_value,options:i}),Yt}return as(e.data)}get enum(){return this._def.values}}Ip.create=(t,e)=>new Ip({values:t,typeName:Bt.ZodNativeEnum,...Xt(e)});class Lf extends dn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.promise&&n.common.async===!1)return lt(n,{code:Be.invalid_type,expected:rt.promise,received:n.parsedType}),Yt;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return as(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lf.create=(t,e)=>new Lf({type:t,typeName:Bt.ZodPromise,...Xt(e)});class Lo extends dn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{lt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const d=i.refinement(a,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wp(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>wp(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Bn.assertNever(i)}}Lo.create=(t,e,n)=>new Lo({schema:t,typeName:Bt.ZodEffects,effect:e,...Xt(n)});Lo.createWithPreprocess=(t,e,n)=>new Lo({schema:e,effect:{type:"preprocess",transform:t},typeName:Bt.ZodEffects,...Xt(n)});class oc extends dn{_parse(e){return this._getType(e)===rt.undefined?as(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oc.create=(t,e)=>new oc({innerType:t,typeName:Bt.ZodOptional,...Xt(e)});class Wu extends dn{_parse(e){return this._getType(e)===rt.null?as(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wu.create=(t,e)=>new Wu({innerType:t,typeName:Bt.ZodNullable,...Xt(e)});class Tp extends dn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tp.create=(t,e)=>new Tp({innerType:t,typeName:Bt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xt(e)});class hy extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ly(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Oo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hy.create=(t,e)=>new hy({innerType:t,typeName:Bt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xt(e)});class py extends dn{_parse(e){if(this._getType(e)!==rt.nan){const r=this._getOrReturnCtx(e);return lt(r,{code:Be.invalid_type,expected:rt.nan,received:r.parsedType}),Yt}return{status:"valid",value:e.data}}}py.create=t=>new py({typeName:Bt.ZodNaN,...Xt(t)});const bde=Symbol("zod_brand");class sR extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class f1 extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Yt:s.status==="dirty"?(n.dirty(),rR(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new f1({in:e,out:n,typeName:Bt.ZodPipeline})}}class gy extends dn{_parse(e){const n=this._def.innerType._parse(e);return wp(n)&&(n.value=Object.freeze(n.value)),n}}gy.create=(t,e)=>new gy({innerType:t,typeName:Bt.ZodReadonly,...Xt(e)});const oR=(t,e={},n)=>t?$f.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:d})}}):$f.create(),Cde={object:$r.lazycreate};var Bt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Bt||(Bt={}));const Ede=(t,e={message:`Input not instance of ${t.name}`})=>oR(n=>n instanceof t,e),aR=Ro.create,cR=Il.create,Ade=py.create,_de=Tl.create,lR=vp.create,xde=ju.create,Sde=uy.create,Ide=bp.create,Tde=Cp.create,Pde=$f.create,Nde=Su.create,kde=fc.create,Rde=dy.create,Ode=Mo.create,Mde=$r.create,Dde=$r.strictCreate,$de=Ep.create,Lde=hw.create,Ude=Ap.create,Bde=ba.create,Fde=_p.create,jde=fy.create,zde=zu.create,Wde=lf.create,qde=xp.create,Hde=Sp.create,Vde=Pl.create,Kde=Ip.create,Gde=Lf.create,U7=Lo.create,Qde=oc.create,Yde=Wu.create,Zde=Lo.createWithPreprocess,Jde=f1.create,Xde=()=>aR().optional(),efe=()=>cR().optional(),tfe=()=>lR().optional(),nfe={string:t=>Ro.create({...t,coerce:!0}),number:t=>Il.create({...t,coerce:!0}),boolean:t=>vp.create({...t,coerce:!0}),bigint:t=>Tl.create({...t,coerce:!0}),date:t=>ju.create({...t,coerce:!0})},rfe=Yt;var Z=Object.freeze({__proto__:null,defaultErrorMap:yp,setErrorMap:ade,getErrorMap:ay,makeIssue:cy,EMPTY_PATH:cde,addIssueToContext:lt,ParseStatus:Qi,INVALID:Yt,DIRTY:rR,OK:as,isAborted:L4,isDirty:U4,isValid:wp,isAsync:ly,get util(){return Bn},get objectUtil(){return $4},ZodParsedType:rt,getParsedType:Jc,ZodType:dn,ZodString:Ro,ZodNumber:Il,ZodBigInt:Tl,ZodBoolean:vp,ZodDate:ju,ZodSymbol:uy,ZodUndefined:bp,ZodNull:Cp,ZodAny:$f,ZodUnknown:Su,ZodNever:fc,ZodVoid:dy,ZodArray:Mo,ZodObject:$r,ZodUnion:Ep,ZodDiscriminatedUnion:hw,ZodIntersection:Ap,ZodTuple:ba,ZodRecord:_p,ZodMap:fy,ZodSet:zu,ZodFunction:lf,ZodLazy:xp,ZodLiteral:Sp,ZodEnum:Pl,ZodNativeEnum:Ip,ZodPromise:Lf,ZodEffects:Lo,ZodTransformer:Lo,ZodOptional:oc,ZodNullable:Wu,ZodDefault:Tp,ZodCatch:hy,ZodNaN:py,BRAND:bde,ZodBranded:sR,ZodPipeline:f1,ZodReadonly:gy,custom:oR,Schema:dn,ZodSchema:dn,late:Cde,get ZodFirstPartyTypeKind(){return Bt},coerce:nfe,any:Pde,array:Ode,bigint:_de,boolean:lR,date:xde,discriminatedUnion:Lde,effect:U7,enum:Vde,function:Wde,instanceof:Ede,intersection:Ude,lazy:qde,literal:Hde,map:jde,nan:Ade,nativeEnum:Kde,never:kde,null:Tde,nullable:Yde,number:cR,object:Mde,oboolean:tfe,onumber:efe,optional:Qde,ostring:Xde,pipeline:Jde,preprocess:Zde,promise:Gde,record:Fde,set:zde,strictObject:Dde,string:aR,symbol:Sde,transformer:U7,tuple:Bde,undefined:Ide,union:$de,unknown:Nde,void:Rde,NEVER:rfe,ZodIssueCode:Be,quotelessJson:ode,ZodError:Oo});const zr=Z.object({message:Z.string()});function at(t){return Z.literal(mt[t])}Z.object({accessList:Z.array(Z.string()),blockHash:Z.string().nullable(),blockNumber:Z.string().nullable(),chainId:Z.string().or(Z.number()),from:Z.string(),gas:Z.string(),hash:Z.string(),input:Z.string().nullable(),maxFeePerGas:Z.string(),maxPriorityFeePerGas:Z.string(),nonce:Z.string(),r:Z.string(),s:Z.string(),to:Z.string(),transactionIndex:Z.string().nullable(),type:Z.string(),v:Z.string(),value:Z.string()});const ife=Z.object({chainId:Z.string().or(Z.number())}),sfe=Z.object({email:Z.string().email()}),ofe=Z.object({otp:Z.string()}),afe=Z.object({uri:Z.string()}),cfe=Z.object({chainId:Z.optional(Z.string().or(Z.number())),preferredAccountType:Z.optional(Z.string())}),lfe=Z.object({provider:Z.enum(["google","github","apple","facebook","x","discord"])}),ufe=Z.object({email:Z.string().email()}),dfe=Z.object({otp:Z.string()}),ffe=Z.object({otp:Z.string()}),hfe=Z.object({themeMode:Z.optional(Z.enum(["light","dark"])),themeVariables:Z.optional(Z.record(Z.string(),Z.string().or(Z.number()))),w3mThemeVariables:Z.optional(Z.record(Z.string(),Z.string()))}),pfe=Z.object({metadata:Z.object({name:Z.string(),description:Z.string(),url:Z.string(),icons:Z.array(Z.string())}).optional(),sdkVersion:Z.string().optional(),sdkType:Z.string().optional(),projectId:Z.string()}),gfe=Z.object({type:Z.string()}),mfe=Z.object({action:Z.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),yfe=Z.object({url:Z.string()}),wfe=Z.object({userName:Z.string()}),vfe=Z.object({email:Z.string().optional().nullable(),address:Z.string(),chainId:Z.string().or(Z.number()),accounts:Z.array(Z.object({address:Z.string(),type:Z.enum([kr.ACCOUNT_TYPES.EOA,kr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:Z.string().optional().nullable()}),bfe=Z.object({action:Z.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Cfe=Z.object({email:Z.string().email().optional().nullable(),address:Z.string(),chainId:Z.string().or(Z.number()),smartAccountDeployed:Z.optional(Z.boolean()),accounts:Z.array(Z.object({address:Z.string(),type:Z.enum([kr.ACCOUNT_TYPES.EOA,kr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:Z.optional(Z.string())}),Efe=Z.object({uri:Z.string()}),Afe=Z.object({isConnected:Z.boolean()}),_fe=Z.object({chainId:Z.string().or(Z.number())}),xfe=Z.object({chainId:Z.string().or(Z.number())}),Sfe=Z.object({newEmail:Z.string().email()}),Ife=Z.object({smartAccountEnabledNetworks:Z.array(Z.number())});Z.object({address:Z.string(),isDeployed:Z.boolean()});const Tfe=Z.object({version:Z.string().optional()}),Pfe=Z.object({type:Z.string(),address:Z.string()}),Nfe=Z.any(),kfe=Z.object({method:Z.literal("eth_accounts")}),Rfe=Z.object({method:Z.literal("eth_blockNumber")}),Ofe=Z.object({method:Z.literal("eth_call"),params:Z.array(Z.any())}),Mfe=Z.object({method:Z.literal("eth_chainId")}),Dfe=Z.object({method:Z.literal("eth_estimateGas"),params:Z.array(Z.any())}),$fe=Z.object({method:Z.literal("eth_feeHistory"),params:Z.array(Z.any())}),Lfe=Z.object({method:Z.literal("eth_gasPrice")}),Ufe=Z.object({method:Z.literal("eth_getAccount"),params:Z.array(Z.any())}),Bfe=Z.object({method:Z.literal("eth_getBalance"),params:Z.array(Z.any())}),Ffe=Z.object({method:Z.literal("eth_getBlockByHash"),params:Z.array(Z.any())}),jfe=Z.object({method:Z.literal("eth_getBlockByNumber"),params:Z.array(Z.any())}),zfe=Z.object({method:Z.literal("eth_getBlockReceipts"),params:Z.array(Z.any())}),Wfe=Z.object({method:Z.literal("eth_getBlockTransactionCountByHash"),params:Z.array(Z.any())}),qfe=Z.object({method:Z.literal("eth_getBlockTransactionCountByNumber"),params:Z.array(Z.any())}),Hfe=Z.object({method:Z.literal("eth_getCode"),params:Z.array(Z.any())}),Vfe=Z.object({method:Z.literal("eth_getFilterChanges"),params:Z.array(Z.any())}),Kfe=Z.object({method:Z.literal("eth_getFilterLogs"),params:Z.array(Z.any())}),Gfe=Z.object({method:Z.literal("eth_getLogs"),params:Z.array(Z.any())}),Qfe=Z.object({method:Z.literal("eth_getProof"),params:Z.array(Z.any())}),Yfe=Z.object({method:Z.literal("eth_getStorageAt"),params:Z.array(Z.any())}),Zfe=Z.object({method:Z.literal("eth_getTransactionByBlockHashAndIndex"),params:Z.array(Z.any())}),Jfe=Z.object({method:Z.literal("eth_getTransactionByBlockNumberAndIndex"),params:Z.array(Z.any())}),Xfe=Z.object({method:Z.literal("eth_getTransactionByHash"),params:Z.array(Z.any())}),ehe=Z.object({method:Z.literal("eth_getTransactionCount"),params:Z.array(Z.any())}),the=Z.object({method:Z.literal("eth_getTransactionReceipt"),params:Z.array(Z.any())}),nhe=Z.object({method:Z.literal("eth_getUncleCountByBlockHash"),params:Z.array(Z.any())}),rhe=Z.object({method:Z.literal("eth_getUncleCountByBlockNumber"),params:Z.array(Z.any())}),ihe=Z.object({method:Z.literal("eth_maxPriorityFeePerGas")}),she=Z.object({method:Z.literal("eth_newBlockFilter")}),ohe=Z.object({method:Z.literal("eth_newFilter"),params:Z.array(Z.any())}),ahe=Z.object({method:Z.literal("eth_newPendingTransactionFilter")}),che=Z.object({method:Z.literal("eth_sendRawTransaction"),params:Z.array(Z.any())}),lhe=Z.object({method:Z.literal("eth_syncing"),params:Z.array(Z.any())}),uhe=Z.object({method:Z.literal("eth_uninstallFilter"),params:Z.array(Z.any())}),B7=Z.object({method:Z.literal("personal_sign"),params:Z.array(Z.any())}),dhe=Z.object({method:Z.literal("eth_signTypedData_v4"),params:Z.array(Z.any())}),fhe=Z.object({method:Z.literal("eth_sendTransaction"),params:Z.array(Z.any())}),hhe=Z.object({method:Z.literal("solana_signMessage"),params:Z.object({message:Z.string(),pubkey:Z.string()})}),phe=Z.object({method:Z.literal("solana_signTransaction"),params:Z.object({transaction:Z.string()})}),ghe=Z.object({method:Z.literal("solana_signAllTransactions"),params:Z.object({transactions:Z.array(Z.string())})}),mhe=Z.object({method:Z.literal("solana_signAndSendTransaction"),params:Z.object({transaction:Z.string(),options:Z.object({skipPreflight:Z.boolean().optional(),preflightCommitment:Z.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:Z.number().optional(),minContextSlot:Z.number().optional()}).optional()})}),yhe=Z.object({method:Z.literal("wallet_sendCalls"),params:Z.array(Z.object({chainId:Z.string().or(Z.number()).optional(),from:Z.string().optional(),version:Z.string().optional(),capabilities:Z.any().optional(),calls:Z.array(Z.object({to:Z.string().startsWith("0x"),data:Z.string().startsWith("0x").optional(),value:Z.string().optional()}))}))}),whe=Z.object({method:Z.literal("wallet_getCallsStatus"),params:Z.array(Z.string())}),vhe=Z.object({method:Z.literal("wallet_getCapabilities")}),bhe=Z.object({method:Z.literal("wallet_grantPermissions"),params:Z.array(Z.any())}),Che=Z.object({method:Z.literal("wallet_revokePermissions"),params:Z.any()}),Ehe=Z.object({method:Z.literal("wallet_getAssets"),params:Z.any()}),F7=Z.object({token:Z.string()}),ct=Z.object({id:Z.string().optional()}),n0={appEvent:ct.extend({type:at("APP_SWITCH_NETWORK"),payload:ife}).or(ct.extend({type:at("APP_CONNECT_EMAIL"),payload:sfe})).or(ct.extend({type:at("APP_CONNECT_DEVICE")})).or(ct.extend({type:at("APP_CONNECT_OTP"),payload:ofe})).or(ct.extend({type:at("APP_CONNECT_SOCIAL"),payload:afe})).or(ct.extend({type:at("APP_GET_FARCASTER_URI")})).or(ct.extend({type:at("APP_CONNECT_FARCASTER")})).or(ct.extend({type:at("APP_GET_USER"),payload:Z.optional(cfe)})).or(ct.extend({type:at("APP_GET_SOCIAL_REDIRECT_URI"),payload:lfe})).or(ct.extend({type:at("APP_SIGN_OUT")})).or(ct.extend({type:at("APP_IS_CONNECTED"),payload:Z.optional(F7)})).or(ct.extend({type:at("APP_GET_CHAIN_ID")})).or(ct.extend({type:at("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ct.extend({type:at("APP_INIT_SMART_ACCOUNT")})).or(ct.extend({type:at("APP_SET_PREFERRED_ACCOUNT"),payload:gfe})).or(ct.extend({type:at("APP_RPC_REQUEST"),payload:B7.or(Ehe).or(kfe).or(Rfe).or(Ofe).or(Mfe).or(Dfe).or($fe).or(Lfe).or(Ufe).or(Bfe).or(Ffe).or(jfe).or(zfe).or(Wfe).or(qfe).or(Hfe).or(Vfe).or(Kfe).or(Gfe).or(Qfe).or(Yfe).or(Zfe).or(Jfe).or(Xfe).or(ehe).or(the).or(nhe).or(rhe).or(ihe).or(she).or(ohe).or(ahe).or(che).or(lhe).or(uhe).or(B7).or(dhe).or(fhe).or(hhe).or(phe).or(ghe).or(mhe).or(whe).or(yhe).or(vhe).or(bhe).or(Che)})).or(ct.extend({type:at("APP_UPDATE_EMAIL"),payload:ufe})).or(ct.extend({type:at("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:dfe})).or(ct.extend({type:at("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ffe})).or(ct.extend({type:at("APP_SYNC_THEME"),payload:hfe})).or(ct.extend({type:at("APP_SYNC_DAPP_DATA"),payload:pfe})).or(ct.extend({type:at("APP_RELOAD")})),frameEvent:ct.extend({type:at("FRAME_SWITCH_NETWORK_ERROR"),payload:zr}).or(ct.extend({type:at("FRAME_SWITCH_NETWORK_SUCCESS"),payload:xfe})).or(ct.extend({type:at("FRAME_CONNECT_EMAIL_SUCCESS"),payload:mfe})).or(ct.extend({type:at("FRAME_CONNECT_EMAIL_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:yfe})).or(ct.extend({type:at("FRAME_GET_FARCASTER_URI_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:wfe})).or(ct.extend({type:at("FRAME_CONNECT_FARCASTER_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_CONNECT_OTP_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_CONNECT_OTP_SUCCESS")})).or(ct.extend({type:at("FRAME_CONNECT_DEVICE_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ct.extend({type:at("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:vfe})).or(ct.extend({type:at("FRAME_CONNECT_SOCIAL_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_GET_USER_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_GET_USER_SUCCESS"),payload:Cfe})).or(ct.extend({type:at("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Efe})).or(ct.extend({type:at("FRAME_SIGN_OUT_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_SIGN_OUT_SUCCESS")})).or(ct.extend({type:at("FRAME_IS_CONNECTED_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_IS_CONNECTED_SUCCESS"),payload:Afe})).or(ct.extend({type:at("FRAME_GET_CHAIN_ID_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_GET_CHAIN_ID_SUCCESS"),payload:_fe})).or(ct.extend({type:at("FRAME_RPC_REQUEST_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_RPC_REQUEST_SUCCESS"),payload:Nfe})).or(ct.extend({type:at("FRAME_SESSION_UPDATE"),payload:F7})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_SUCCESS"),payload:bfe})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Sfe})).or(ct.extend({type:at("FRAME_SYNC_THEME_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_SYNC_THEME_SUCCESS")})).or(ct.extend({type:at("FRAME_SYNC_DAPP_DATA_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ct.extend({type:at("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Ife})).or(ct.extend({type:at("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Pfe})).or(ct.extend({type:at("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_READY"),payload:Tfe})).or(ct.extend({type:at("FRAME_RELOAD_ERROR"),payload:zr})).or(ct.extend({type:at("FRAME_RELOAD_SUCCESS")}))};function e3(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class Ahe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=Ue.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function d({data:l}){if(!e3(mt.FRAME_EVENT_KEY,l))return;const f=n0.frameEvent.parse(l);f.id===s&&(o(f),window.removeEventListener("message",d))}Ls.isClient&&(window.addEventListener("message",d),a.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:s=>{Ls.isClient&&window.addEventListener("message",({data:o})=>{if(!e3(mt.FRAME_EVENT_KEY,o))return;const a=n0.frameEvent.parse(o);s(a)})},onAppEvent:s=>{Ls.isClient&&window.addEventListener("message",({data:o})=>{if(!e3(mt.APP_EVENT_KEY,o))return;const a=n0.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(Ls.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");n0.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(Ls.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");n0.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),Ls.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${jue}?projectId=${e}&chainId=${r}&version=${Wue}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class _he{constructor(e){var s;const n=Xf({level:zue}),{logger:r,chunkLoggerController:i}=o6({opts:n});this.logger=Yi(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class xhe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i}){this.openRpcRequests=[],r&&(this.w3mLogger=new _he(e)),this.w3mFrame=new Ahe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===mt.FRAME_READY&&(this.initPromise=void 0,s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!Pi.get(mt.EMAIL_LOGIN_USED_KEY)}getEmail(){return Pi.get(mt.EMAIL)}getUsername(){return Pi.get(mt.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:mt.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Ls.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:mt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:mt.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:mt.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:mt.APP_IS_CONNECTED});return n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:mt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:mt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:mt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:mt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:mt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:mt.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:mt.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:mt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:mt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:mt.APP_GET_USER,payload:{...e,chainId:r}});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:mt.APP_GET_USER,payload:{...e,chainId:r}});return this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:mt.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:mt.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:mt.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:mt.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:mt.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,i,s;try{if(kr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:mt.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===mt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===mt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:kr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===mt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===mt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{kr.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let n;function r(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=r(e.type);return[mt.APP_CONNECT_EMAIL,mt.APP_CONNECT_DEVICE,mt.APP_CONNECT_OTP,mt.APP_CONNECT_SOCIAL,mt.APP_GET_SOCIAL_REDIRECT_URI].map(r).includes(s)&&(n=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,d)=>{var h,g,y;const l=Math.random().toString(36).substring(7);if((y=(h=this.w3mLogger)==null?void 0:(g=h.logger).info)==null||y.call(g,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const v=e;this.openRpcRequests=[...this.openRpcRequests,{...v.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?d(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});function f(v,w){var x,k,N;v.id===l&&((k=w==null?void 0:(x=w.logger).info)==null||k.call(x,{framEvent:v,id:l},"Received frame response"),v.type===`@w3m-frame/${s}_SUCCESS`?(n&&clearTimeout(n),"payload"in v&&a(v.payload),a(void 0)):v.type===`@w3m-frame/${s}_ERROR`&&(n&&clearTimeout(n),"payload"in v&&d(new Error(((N=v.payload)==null?void 0:N.message)||"An error occurred")),d(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,v=>f(v,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){Pi.set(mt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Pi.set(mt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Pi.set(mt.EMAIL,e),Pi.set(mt.EMAIL_LOGIN_USED_KEY,"true"),Pi.delete(mt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Pi.delete(mt.EMAIL_LOGIN_USED_KEY),Pi.delete(mt.EMAIL),Pi.delete(mt.LAST_USED_CHAIN_KEY),Pi.delete(mt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Pi.set(mt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Pi.get(mt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Pi.set(mt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class uf{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i}){return uf.instance||(uf.instance=new xhe({projectId:e,chainId:n,enableLogger:r,onTimeout:i})),uf.instance}}const She=Symbol(),j7=Object.getPrototypeOf,F4=new WeakMap,Ihe=t=>t&&(F4.has(t)?F4.get(t):j7(t)===Object.prototype||j7(t)===Array.prototype),The=t=>Ihe(t)&&t[She]||null,z7=(t,e=!0)=>{F4.set(t,e)},j4={},t3=t=>typeof t=="object"&&t!==null,eu=new WeakMap,y0=new WeakSet,Phe=(t=Object.is,e=(l,f)=>new Proxy(l,f),n=l=>t3(l)&&!y0.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,f,h=r)=>{const g=i.get(l);if((g==null?void 0:g[0])===f)return g[1];const y=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return z7(y,!0),i.set(l,[f,y]),Reflect.ownKeys(l).forEach(v=>{if(Object.getOwnPropertyDescriptor(y,v))return;const w=Reflect.get(l,v),{enumerable:x}=Reflect.getOwnPropertyDescriptor(l,v),k={value:w,enumerable:x,configurable:!0};if(y0.has(w))z7(w,!1);else if(w instanceof Promise)delete k.value,k.get=()=>h(w);else if(eu.has(w)){const[N,R]=eu.get(w);k.value=s(N,R(),h)}Object.defineProperty(y,v,k)}),Object.preventExtensions(y)},o=new WeakMap,a=[1,1],d=l=>{if(!t3(l))throw new Error("object required");const f=o.get(l);if(f)return f;let h=a[0];const g=new Set,y=($,H=++a[0])=>{h!==H&&(h=H,g.forEach(P=>P($,H)))};let v=a[1];const w=($=++a[1])=>(v!==$&&!g.size&&(v=$,k.forEach(([H])=>{const P=H[1]($);P>h&&(h=P)})),h),x=$=>(H,P)=>{const m=[...H];m[1]=[$,...m[1]],y(m,P)},k=new Map,N=($,H)=>{if((j4?"production":void 0)!=="production"&&k.has($))throw new Error("prop listener already exists");if(g.size){const P=H[3](x($));k.set($,[H,P])}else k.set($,[H])},R=$=>{var H;const P=k.get($);P&&(k.delete($),(H=P[1])==null||H.call(P))},L=$=>(g.add($),g.size===1&&k.forEach(([P,m],C)=>{if((j4?"production":void 0)!=="production"&&m)throw new Error("remove already exists");const S=P[3](x(C));k.set(C,[P,S])}),()=>{g.delete($),g.size===0&&k.forEach(([P,m],C)=>{m&&(m(),k.set(C,[P]))})}),O=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),F=e(O,{deleteProperty($,H){const P=Reflect.get($,H);R(H);const m=Reflect.deleteProperty($,H);return m&&y(["delete",[H],P]),m},set($,H,P,m){const C=Reflect.has($,H),S=Reflect.get($,H,m);if(C&&(t(S,P)||o.has(P)&&t(S,o.get(P))))return!0;R(H),t3(P)&&(P=The(P)||P);let _=P;if(P instanceof Promise)P.then(I=>{P.status="fulfilled",P.value=I,y(["resolve",[H],I])}).catch(I=>{P.status="rejected",P.reason=I,y(["reject",[H],I])});else{!eu.has(P)&&n(P)&&(_=d(P));const I=!y0.has(_)&&eu.get(_);I&&N(H,I)}return Reflect.set($,H,_,m),y(["set",[H],P,S]),!0}});o.set(l,F);const q=[O,w,s,L];return eu.set(F,q),Reflect.ownKeys(l).forEach($=>{const H=Object.getOwnPropertyDescriptor(l,$);"value"in H&&(F[$]=l[$],delete H.value,delete H.writable),Object.defineProperty(O,$,H)}),F})=>[d,eu,y0,t,e,n,r,i,s,o,a],[Nhe]=Phe();function khe(t={}){return Nhe(t)}function uR(t,e,n){const r=eu.get(t);(j4?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Rhe(t){return y0.add(t),t}function Ohe(t,e,n,r){let i=t[e];return uR(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}const my={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Xs=khe({providers:{...my},providerIds:{...my}}),ar={state:Xs,subscribeKey(t,e){return Ohe(Xs,t,e)},subscribeProviders(t){return uR(Xs.providers,()=>t(Xs.providers))},setProvider(t,e){e&&(Xs.providers[t]=Rhe(e))},getProvider(t){return Xs.providers[t]},setProviderId(t,e){e&&(Xs.providerIds[t]=e)},getProviderId(t){if(t)return Xs.providerIds[t]},reset(){Xs.providers={...my},Xs.providerIds={...my}},resetChain(t){Xs.providers[t]=void 0,Xs.providerIds[t]=void 0}};var W7={};const Mhe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof W7<"u"?W7.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},z4={filterOutDuplicatesByRDNS(t){const e=qe.state.enableEIP6963?Jt.state.connectors:[],n=ft.getRecentWallets(),r=e.map(a=>{var d;return(d=a.info)==null?void 0:d.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&$t.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Jt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ft.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Jt.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var d;const n=(t==null?void 0:t.connectMethodsOrder)||((d=qe.state.features)==null?void 0:d.connectMethodsOrder),r=e||Jt.state.connectors;if(n)return n;const{injected:i,announced:s}=n3.getConnectorsByType(r),o=i.filter(n3.showConnector),a=s.filter(n3.showConnector);return o.length||a.length?["wallet","email","social"]:Mhe.DEFAULT_CONNECT_METHOD_ORDER}},n3={getConnectorsByType(t){const{featured:e,recommended:n}=Tn.state,{customWallets:r}=qe.state,i=ft.getRecentWallets(),s=z4.filterOutDuplicateWallets(n),o=z4.filterOutDuplicateWallets(e),a=t.filter(h=>h.type==="MULTI_CHAIN"),d=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),f=t.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:i,external:f,multiChain:a,announced:d,injected:l,recommended:s,featured:o}},showConnector(t){var e,n;if(t.type==="INJECTED"){if(!$t.isMobile()&&t.name==="Browser Wallet")return!1;const r=(e=t.info)==null?void 0:e.rdns;if(!r&&!Pn.checkInstalled()||r&&Tn.state.excludedRDNS&&Tn.state.excludedRDNS.includes(r))return!1}if(t.type==="ANNOUNCED"){const r=(n=t.info)==null?void 0:n.rdns;if(r&&Tn.state.excludedRDNS.includes(r))return!1}return!0},getIsConnectedWithWC(){return Array.from(te.state.chains.values()).some(n=>Jt.getConnectorId(n.namespace)===Ue.CONNECTOR_ID.WALLET_CONNECT)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bm=globalThis,N6=bm.ShadowRoot&&(bm.ShadyCSS===void 0||bm.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k6=Symbol(),q7=new WeakMap;let dR=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==k6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(N6&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=q7.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&q7.set(n,e))}return e}toString(){return this.cssText}};const eo=t=>new dR(typeof t=="string"?t:t+"",void 0,k6),df=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new dR(n,t,k6)},Dhe=(t,e)=>{if(N6)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=bm.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},H7=N6?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return eo(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:$he,defineProperty:Lhe,getOwnPropertyDescriptor:Uhe,getOwnPropertyNames:Bhe,getOwnPropertySymbols:Fhe,getPrototypeOf:jhe}=Object,wl=globalThis,V7=wl.trustedTypes,zhe=V7?V7.emptyScript:"",r3=wl.reactiveElementPolyfillSupport,M0=(t,e)=>t,W4={toAttribute(t,e){switch(e){case Boolean:t=t?zhe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},fR=(t,e)=>!$he(t,e),K7={attribute:!0,type:String,converter:W4,reflect:!1,hasChanged:fR};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),wl.litPropertyMetadata??(wl.litPropertyMetadata=new WeakMap);let Gd=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=K7){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Lhe(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=Uhe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??K7}static _$Ei(){if(this.hasOwnProperty(M0("elementProperties")))return;const e=jhe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(M0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(M0("properties"))){const n=this.properties,r=[...Bhe(n),...Fhe(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(H7(i))}else e!==void 0&&n.push(H7(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Dhe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EC(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:W4).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const o=r.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:W4;this._$Em=i,this[i]=a.fromAttribute(n,o.type),this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){if(r??(r=this.constructor.getPropertyOptions(e)),!(r.hasChanged??fR)(this[e],n))return;this.P(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,n,r){this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw e=!1,this._$EU(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(e){}firstUpdated(e){}};Gd.elementStyles=[],Gd.shadowRootOptions={mode:"open"},Gd[M0("elementProperties")]=new Map,Gd[M0("finalized")]=new Map,r3==null||r3({ReactiveElement:Gd}),(wl.reactiveElementVersions??(wl.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const D0=globalThis,yy=D0.trustedTypes,G7=yy?yy.createPolicy("lit-html",{createHTML:t=>t}):void 0,hR="$lit$",Xc=`lit$${Math.random().toFixed(9).slice(2)}$`,pR="?"+Xc,Whe=`<${pR}>`,qu=document,Pp=()=>qu.createComment(""),Np=t=>t===null||typeof t!="object"&&typeof t!="function",R6=Array.isArray,qhe=t=>R6(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",i3=`[ 	
\f\r]`,r0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Q7=/-->/g,Y7=/>/g,Zl=RegExp(`>|${i3}(?:([^\\s"'>=/]+)(${i3}*=${i3}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Z7=/'/g,J7=/"/g,gR=/^(?:script|style|textarea|title)$/i,mR=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),d1e=mR(1),f1e=mR(2),Uf=Symbol.for("lit-noChange"),bi=Symbol.for("lit-nothing"),X7=new WeakMap,hu=qu.createTreeWalker(qu,129);function yR(t,e){if(!R6(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return G7!==void 0?G7.createHTML(e):e}const Hhe=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=r0;for(let a=0;a<n;a++){const d=t[a];let l,f,h=-1,g=0;for(;g<d.length&&(o.lastIndex=g,f=o.exec(d),f!==null);)g=o.lastIndex,o===r0?f[1]==="!--"?o=Q7:f[1]!==void 0?o=Y7:f[2]!==void 0?(gR.test(f[2])&&(i=RegExp("</"+f[2],"g")),o=Zl):f[3]!==void 0&&(o=Zl):o===Zl?f[0]===">"?(o=i??r0,h=-1):f[1]===void 0?h=-2:(h=o.lastIndex-f[2].length,l=f[1],o=f[3]===void 0?Zl:f[3]==='"'?J7:Z7):o===J7||o===Z7?o=Zl:o===Q7||o===Y7?o=r0:(o=Zl,i=void 0);const y=o===Zl&&t[a+1].startsWith("/>")?" ":"";s+=o===r0?d+Whe:h>=0?(r.push(l),d.slice(0,h)+hR+d.slice(h)+Xc+y):d+Xc+(h===-2?a:y)}return[yR(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class kp{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,d=this.parts,[l,f]=Hhe(e,n);if(this.el=kp.createElement(l,r),hu.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=hu.nextNode())!==null&&d.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(hR)){const g=f[o++],y=i.getAttribute(h).split(Xc),v=/([.?@])?(.*)/.exec(g);d.push({type:1,index:s,name:v[2],strings:y,ctor:v[1]==="."?Khe:v[1]==="?"?Ghe:v[1]==="@"?Qhe:pw}),i.removeAttribute(h)}else h.startsWith(Xc)&&(d.push({type:6,index:s}),i.removeAttribute(h));if(gR.test(i.tagName)){const h=i.textContent.split(Xc),g=h.length-1;if(g>0){i.textContent=yy?yy.emptyScript:"";for(let y=0;y<g;y++)i.append(h[y],Pp()),hu.nextNode(),d.push({type:2,index:++s});i.append(h[g],Pp())}}}else if(i.nodeType===8)if(i.data===pR)d.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(Xc,h+1))!==-1;)d.push({type:7,index:s}),h+=Xc.length-1}s++}}static createElement(e,n){const r=qu.createElement("template");return r.innerHTML=e,r}}function Bf(t,e,n=t,r){var o,a;if(e===Uf)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=Np(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Bf(t,i._$AS(t,e.values),i,r)),e}class Vhe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??qu).importNode(n,!0);hu.currentNode=i;let s=hu.nextNode(),o=0,a=0,d=r[0];for(;d!==void 0;){if(o===d.index){let l;d.type===2?l=new h1(s,s.nextSibling,this,e):d.type===1?l=new d.ctor(s,d.name,d.strings,this,e):d.type===6&&(l=new Yhe(s,this,e)),this._$AV.push(l),d=r[++a]}o!==(d==null?void 0:d.index)&&(s=hu.nextNode(),o++)}return hu.currentNode=qu,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class h1{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=bi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Bf(this,e,n),Np(e)?e===bi||e==null||e===""?(this._$AH!==bi&&this._$AR(),this._$AH=bi):e!==this._$AH&&e!==Uf&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):qhe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==bi&&Np(this._$AH)?this._$AA.nextSibling.data=e:this.T(qu.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=kp.createElement(yR(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new Vhe(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=X7.get(e.strings);return n===void 0&&X7.set(e.strings,n=new kp(e)),n}k(e){R6(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new h1(this.O(Pp()),this.O(Pp()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class pw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=bi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=bi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Bf(this,e,n,0),o=!Np(e)||e!==this._$AH&&e!==Uf,o&&(this._$AH=e);else{const a=e;let d,l;for(e=s[0],d=0;d<s.length-1;d++)l=Bf(this,a[r+d],n,d),l===Uf&&(l=this._$AH[d]),o||(o=!Np(l)||l!==this._$AH[d]),l===bi?e=bi:e!==bi&&(e+=(l??"")+s[d+1]),this._$AH[d]=l}o&&!i&&this.j(e)}j(e){e===bi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Khe extends pw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===bi?void 0:e}}class Ghe extends pw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==bi)}}class Qhe extends pw{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Bf(this,e,n,0)??bi)===Uf)return;const r=this._$AH,i=e===bi&&r!==bi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==bi&&(r===bi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Yhe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Bf(this,e)}}const s3=D0.litHtmlPolyfillSupport;s3==null||s3(kp,h1),(D0.litHtmlVersions??(D0.litHtmlVersions=[])).push("3.2.1");const Zhe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new h1(e.insertBefore(Pp(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Cm extends Gd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Zhe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Uf}}var bS;Cm._$litElement$=!0,Cm.finalized=!0,(bS=globalThis.litElementHydrateSupport)==null||bS.call(globalThis,{LitElement:Cm});const o3=globalThis.litElementPolyfillSupport;o3==null||o3({LitElement:Cm});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let $0,vl,bl;function h1e(t,e){$0=document.createElement("style"),vl=document.createElement("style"),bl=document.createElement("style"),$0.textContent=ff(t).core.cssText,vl.textContent=ff(t).dark.cssText,bl.textContent=ff(t).light.cssText,document.head.appendChild($0),document.head.appendChild(vl),document.head.appendChild(bl),wR(e)}function wR(t){vl&&bl&&(t==="light"?(vl.removeAttribute("media"),bl.media="enabled"):(bl.removeAttribute("media"),vl.media="enabled"))}function Jhe(t){$0&&vl&&bl&&($0.textContent=ff(t).core.cssText,vl.textContent=ff(t).dark.cssText,bl.textContent=ff(t).light.cssText)}function ff(t){return{core:df`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${eo(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${eo((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${eo((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${eo((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${eo((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:df`
      :root {
        --w3m-color-mix: ${eo((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${eo(Xa(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${eo(Xa(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:df`
      :root {
        --w3m-color-mix: ${eo((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${eo(Xa(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${eo(Xa(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const p1e=df`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,g1e=df`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,m1e=df`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Xg={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},Xhe=hP({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),e0e=hP({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function p1(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const eS=p1({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),tS=p1({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});p1({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});p1({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});p1({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const gw={getMethodsByChainNamespace(t){switch(t){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(t){return t.reduce((e,n)=>{const{id:r,chainNamespace:i,rpcUrls:s}=n,o=s.default.http[0],a=this.getMethodsByChainNamespace(i);e[i]||(e[i]={methods:a,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const d=`${i}:${r}`,l=e[i];switch(l.chains.push(d),d){case eS.caipNetworkId:l.chains.push(eS.deprecatedCaipNetworkId);break;case tS.caipNetworkId:l.chains.push(tS.deprecatedCaipNetworkId);break}return l!=null&&l.rpcMap&&o&&(l.rpcMap[r]=o),e},{})},resolveReownName:async t=>{var r;const e=await eR.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class O6{constructor({provider:e,caipNetworks:n,namespace:r}){this.id=Ue.CONNECTOR_ID.WALLET_CONNECT,this.name=fl.ConnectorNamesMap[Ue.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=fl.ConnectorImageIds[Ue.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=n,this.provider=e,this.chain=r}get chains(){return this.caipNetworks}async connectWalletConnect(){return await this.authenticate()||await this.provider.connect({optionalNamespaces:gw.createNamespaces(this.caipNetworks)}),{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return O0.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:t0e})}}const t0e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class vR{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:Ue.CONNECTOR_ID.AUTH,type:"AUTH",name:Ue.CONNECTOR_NAMES.AUTH,provider:e,imageId:fl.ConnectorImageIds[Ue.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){gt.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i;await s.switchNetwork(n.caipNetworkId);const o=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:qe.state.defaultAccountTypes[n.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof O6);if(!e)throw new Error("WalletConnectConnector not found");return e}}class n0e extends vR{setUniversalProvider(e){this.addConnector(new O6({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(d=>{const[,,l]=d.split(":");return l}).filter((d,l,f)=>f.indexOf(d)===l))||[];return Promise.resolve({accounts:r.map(d=>$t.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,d,l;if(!(e.caipNetwork&&Yr.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(gt.state.balanceLoading&&e.chainId===((d=te.state.activeCaipNetwork)==null?void 0:d.id))return{balance:gt.state.balance||"0.00",symbol:gt.state.balanceSymbol||""};const i=(await gt.fetchTokenBalance()).find(f=>{var h,g;return f.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&f.symbol===((g=e.caipNetwork)==null?void 0:g.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,d;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=te.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ue.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:IN.encode(new TextEncoder().encode(r)),pubkey:i}},(a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(d=te.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,d,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Ue.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:uc(n.id)}]}))}catch(f){if(f.code===Xg.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||f.code===Xg.ERROR_INVALID_CHAIN_ID||f.code===Xg.ERROR_CODE_DEFAULT||((o=(s=f==null?void 0:f.data)==null?void 0:s.originalError)==null?void 0:o.code)===Xg.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:uc(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(d=n.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class r0e{constructor(e){var n;this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=r=>{var i,s;if(r){const o=(i=te.getNetworkData(r))==null?void 0:i.caipNetwork;return o||((s=te.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r))==null?void 0:s[0])}return te.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>te.getRequestedCaipNetworks(r),this.getActiveChainNamespace=()=>te.state.activeChain,this.setRequestedCaipNetworks=(r,i)=>{te.setRequestedCaipNetworks(r,i)},this.getApprovedCaipNetworkIds=()=>te.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>te.state.activeChain===r||!r?te.state.activeCaipAddress:te.getAccountProp("caipAddress",r),this.setClientId=r=>{Et.setClientId(r)},this.getProvider=r=>ar.getProvider(r),this.getProviderType=r=>ar.getProviderId(r),this.getPreferredAccountType=()=>gt.state.preferredAccountType,this.setCaipAddress=(r,i)=>{gt.setCaipAddress(r,i)},this.setBalance=(r,i,s)=>{gt.setBalance(r,i,s)},this.setProfileName=(r,i)=>{gt.setProfileName(r,i)},this.setProfileImage=(r,i)=>{gt.setProfileImage(r,i)},this.setUser=(r,i)=>{gt.setUser(r,i),qe.state.enableEmbedded&&ti.close()},this.resetAccount=r=>{gt.resetAccount(r)},this.setCaipNetwork=r=>{te.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,i)=>{te.setChainNetworkData(i,{caipNetwork:r})},this.setAllAccounts=(r,i)=>{gt.setAllAccounts(r,i),qe.setHasMultipleAddresses((r==null?void 0:r.length)>1)},this.setStatus=(r,i)=>{gt.setStatus(r,i),Jt.isConnected()?ft.setConnectionStatus("connected"):ft.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>te.getAccountProp("address",r),this.setConnectors=r=>{const i=[...Jt.getConnectors(),...r];Jt.setConnectors(i)},this.fetchIdentity=r=>Et.fetchIdentity(r),this.getReownName=r=>eR.getNamesForAddress(r),this.getConnectors=()=>Jt.getConnectors(),this.getConnectorImage=r=>LP.getConnectorImage(r),this.setConnectedWalletInfo=(r,i)=>{const s=ar.getProviderId(i),o=r?{...r,type:s}:void 0;gt.setConnectedWalletInfo(o,i)},this.getIsConnectedState=()=>!!te.state.activeCaipAddress,this.addAddressLabel=(r,i,s)=>{gt.addAddressLabel(r,i,s)},this.removeAddressLabel=(r,i)=>{gt.removeAddressLabel(r,i)},this.getAddress=r=>te.state.activeChain===r||!r?gt.state.address:te.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>te.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{te.resetNetwork(r)},this.addConnector=r=>{Jt.addConnector(r)},this.resetWcConnection=()=>{Pn.resetWcConnection()},this.setAddressExplorerUrl=(r,i)=>{gt.setAddressExplorerUrl(r,i)},this.setSmartAccountDeployed=(r,i)=>{gt.setSmartAccountDeployed(r,i)},this.setSmartAccountEnabledNetworks=(r,i)=>{te.setSmartAccountEnabledNetworks(r,i)},this.setPreferredAccountType=(r,i)=>{gt.setPreferredAccountType(r,i)},this.setEIP6963Enabled=r=>{qe.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((n=this.caipNetworks)==null?void 0:n.map(r=>r.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),sc.set({initialized:!0})}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,nr.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Vi.setThemeMode(e.themeMode),e.themeVariables&&Vi.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");te.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&te.setActiveCaipNetwork(n)}initializeConnectionController(e){Pn.setWcBasic(e.basic??!1)}initializeConnectorController(){Jt.initialize(this.chainNamespaces)}initializeOptionsController(e){var i;qe.setDebug(e.debug!==!1),qe.setEnableWalletConnect(e.enableWalletConnect!==!1),qe.setEnableWalletGuide(e.enableWalletGuide!==!1),qe.setEnableWallets(e.enableWallets!==!1),qe.setEIP6963Enabled(e.enableEIP6963!==!1),qe.setEnableAuthLogger(e.enableAuthLogger!==!1),qe.setSdkVersion(e.sdkVersion),qe.setProjectId(e.projectId),qe.setEnableEmbedded(e.enableEmbedded),qe.setAllWallets(e.allWallets),qe.setIncludeWalletIds(e.includeWalletIds),qe.setExcludeWalletIds(e.excludeWalletIds),qe.setFeaturedWalletIds(e.featuredWalletIds),qe.setTokens(e.tokens),qe.setTermsConditionsUrl(e.termsConditionsUrl),qe.setPrivacyPolicyUrl(e.privacyPolicyUrl),qe.setCustomWallets(e.customWallets),qe.setFeatures(e.features),qe.setAllowUnsupportedChain(e.allowUnsupportedChain),qe.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),qe.setMetadata(e.metadata),qe.setDisableAppend(e.disableAppend),qe.setEnableEmbedded(e.enableEmbedded),qe.setSIWX(e.siwx),!e.projectId){_u.open(rf.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(s=>s.namespace===Ue.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");qe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Ue.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=this.getUnsupportedNetwork(`${n}:${e}`);te.setActiveCaipNetwork(r)}}getDefaultNetwork(){var n,r;const e=ft.getActiveCaipNetworkId();if(e){const i=(n=this.caipNetworks)==null?void 0:n.find(s=>s.caipNetworkId===e);return i||(this.defaultCaipNetwork?this.defaultCaipNetwork:this.getUnsupportedNetwork(e))}return this.defaultCaipNetwork?this.defaultCaipNetwork:(r=this.caipNetworks)==null?void 0:r[0]}extendCaipNetwork(e,n){return xu.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return xu.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?xu.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=te.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),ft.setConnectedNamespaces([...te.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Jt.setConnectorId(Pr.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o})=>{var y,v,w,x,k,N,R;const a=te.state.activeChain,d=s||a,l=this.getAdapter(d);if(s&&s!==a&&!o){const L=(y=this.caipNetworks)==null?void 0:y.find(O=>O.chainNamespace===s);L&&this.setCaipNetwork(L)}if(!l)throw new Error("Adapter not found");const f=this.getCaipNetwork(d),h=await l.connect({id:e,info:n,type:r,provider:i,chainId:(o==null?void 0:o.id)||(f==null?void 0:f.id),rpcUrl:((x=(w=(v=o==null?void 0:o.rpcUrls)==null?void 0:v.default)==null?void 0:w.http)==null?void 0:x[0])||((R=(N=(k=f==null?void 0:f.rpcUrls)==null?void 0:k.default)==null?void 0:N.http)==null?void 0:R[0])});if(!h)return;ft.addConnectedNamespace(d),this.syncProvider({...h,chainNamespace:d}),await this.syncAccount({...h,chainNamespace:d});const{accounts:g}=await l.getAccounts({namespace:d,id:e});this.setAllAccounts(g,d)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=te.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ft.addConnectedNamespace(s))},disconnect:async()=>{const e=te.state.activeChain,n=this.getAdapter(e),r=ar.getProvider(e),i=ar.getProviderId(e);await(n==null?void 0:n.disconnect({provider:r,providerType:i})),ft.removeConnectedNamespace(e),ar.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(te.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:gt.state.address,provider:ar.getProvider(te.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Ue.CHAIN.EVM){const n=this.getAdapter(te.state.activeChain),r=ar.getProvider(te.state.activeChain),i=await(n==null?void 0:n.sendTransaction({...e,provider:r}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ue.CHAIN.EVM){const n=this.getAdapter(te.state.activeChain),r=ar.getProvider(te.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var r;const e=this.getAdapter(te.state.activeChain),n=await(e==null?void 0:e.getProfile({address:gt.state.address,chainId:Number((r=this.getCaipNetwork())==null?void 0:r.id)}));return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const n=this.getAdapter(te.state.activeChain),r=this.getCaipNetwork();if(!r)return!1;const i=await(n==null?void 0:n.getEnsAddress({name:e,caipNetwork:r}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const n=this.getAdapter(te.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=ar.getProvider(te.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(te.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(te.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(te.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(te.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(te.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(te.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Pn.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(ar.getProviderId(te.state.activeChain)===Pr.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=ar.getProvider(n),s=ar.getProviderId(n);if(e.chainNamespace===te.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===Pr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Fc.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(n[r]=i,n[r].namespace=r,n[r].construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks})):n[r]=new n0e({namespace:r,networks:this.caipNetworks}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ft.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ft.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{var l;const o=(l=this.caipNetworks)==null?void 0:l.find(f=>f.id===s||f.caipNetworkId===s),a=te.state.activeChain===e,d=te.getAccountProp("address",e);if(o){const f=a&&i?i:d;f&&this.syncAccount({address:f,chainId:s,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this)),n.on("pendingTransactions",()=>{const i=gt.state.address,s=te.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,d;const o=te.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=te.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(d=te.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Jt.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Ue.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ue.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,d;const n=this.getAdapter(e),r=Jt.getConnectorId(e),i=this.getCaipNetwork(),s=Jt.getConnectors(e).find(l=>l.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(n==null?void 0:n.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(d=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:d[0]}));if(l){const f=await(n==null?void 0:n.getAccounts({namespace:e,id:s.id}));f&&f.accounts.length>0?this.setAllAccounts(f.accounts,e):this.setAllAccounts([$t.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,d,l,f,h;const r=this.getAdapter(n),i=((f=(l=(d=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:d.namespaces)==null?void 0:l[n])==null?void 0:f.accounts)||[],s=(h=te.state.activeCaipNetwork)==null?void 0:h.id,o=i.find(g=>{const{chainId:y}=Fc.parseCaipAddress(g);return y===(s==null?void 0:s.toString())})||i[0];if(o){const g=Fc.validateCaipAddress(o),{chainId:y,address:v}=Fc.parseCaipAddress(g);if(ar.setProviderId(n,Pr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&te.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Ue.CHAIN.EVM){const w=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:te.state.activeCaipNetwork});ar.setProvider(n,w)}else ar.setProvider(n,this.universalProvider);Jt.setConnectorId(Ue.CONNECTOR_ID.WALLET_CONNECT,n),ft.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:v,chainId:y,chainNamespace:n})}else this.setStatus("disconnected",n);await te.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(d=>{const{address:l}=Fc.parseCaipAddress(d);return l}).filter((d,l,f)=>f.indexOf(d)===l);n&&this.setAllAccounts(n.map(d=>$t.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){ar.setProviderId(i,e),ar.setProvider(i,n),Jt.setConnectorId(r,i)}async syncAccount(e){var h,g,y,v,w,x;const n=e.chainNamespace===te.state.activeChain,r=te.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=ft.getActiveNetworkProps(),d=s||a,l=((h=te.state.activeCaipNetwork)==null?void 0:h.name)===Ue.UNSUPPORTED_NETWORK_NAME,f=te.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!f)&&d){let k=(g=this.caipNetworks)==null?void 0:g.find(L=>L.id.toString()===d.toString()),N=(y=this.caipNetworks)==null?void 0:y.find(L=>L.chainNamespace===o);if(!f&&!k&&!N){const L=this.getApprovedCaipNetworkIds()||[],O=L.find(F=>{var q;return((q=Fc.parseCaipNetworkId(F))==null?void 0:q.chainId)===d.toString()}),D=L.find(F=>{var q;return((q=Fc.parseCaipNetworkId(F))==null?void 0:q.chainNamespace)===o});k=(v=this.caipNetworks)==null?void 0:v.find(F=>F.caipNetworkId===O),N=(w=this.caipNetworks)==null?void 0:w.find(F=>F.caipNetworkId===D||"deprecatedCaipNetworkId"in F&&F.deprecatedCaipNetworkId===D)}const R=k||N;(R==null?void 0:R.chainNamespace)===te.state.activeChain?!qe.state.allowUnsupportedChain&&((x=te.state.activeCaipNetwork)==null?void 0:x.name)===Ue.UNSUPPORTED_NETWORK_NAME?te.showUnsupportedChainUI():this.setCaipNetwork(R):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),tR.isLowerCaseMatch(i,gt.state.address)||this.syncAccountInfo(i,R==null?void 0:R.id,o),n?await this.syncBalance({address:i,chainId:R==null?void 0:R.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Jt.getConnectorId(e),r=ar.getProviderId(e);if(r===Pr.CONNECTOR_TYPE_ANNOUNCED||r===Pr.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:d}=s,l=d||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Pr.CONNECTOR_TYPE_WALLET_CONNECT){const s=ar.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n)if(n===Ue.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Ue.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!lp.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r);if(i){const s=await i.getBalance({address:e,chainId:n,caipNetwork:this.getCaipNetwork(r),tokens:this.options.tokens});this.setBalance(s.balance,s.symbol,r)}}async initializeUniversalAdapter(){var r,i,s,o,a,d,l,f,h,g;const e=rde.createLogger((y,...v)=>{y&&this.handleAlertError(y),console.error(...v)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(f=this.options)!=null&&f.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};qe.setManualWCControl(!!((g=this.options)!=null&&g.manualWCControl)),this.universalProvider=this.options.universalProvider??await Bue.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Pn.setUri(e)}),this.universalProvider.on("connect",Pn.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Pn.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var i;const n=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(gw.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&$t.isCaipAddress(r[0])&&this.syncAccount(Fc.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&$t.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch{throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}handleAlertError(e){const n=Object.entries(rf.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=rf.ALERT_ERRORS[o];a&&(_u.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Pn.setUri(e.uri),await ti.open(e)}async close(){await this.injectModalUi(),ti.close()}setLoading(e,n){ti.setLoading(e,n)}async disconnect(){await Pn.disconnect()}getError(){return""}getChainId(){var e;return(e=te.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var r;const n=(r=this.caipNetworks)==null?void 0:r.find(i=>i.id===e.id);if(!n){_u.open(rf.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await te.switchActiveNetwork(n)}getWalletProvider(){return te.state.activeChain?ar.state.providers[te.state.activeChain]:null}getWalletProviderType(){return ar.getProviderId(te.state.activeChain)}subscribeProviders(e){return ar.subscribeProviders(e)}getThemeMode(){return Vi.state.themeMode}getThemeVariables(){return Vi.state.themeVariables}setThemeMode(e){Vi.setThemeMode(e),wR(Vi.state.themeMode)}setTermsConditionsUrl(e){qe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){qe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Vi.setThemeVariables(e),Jhe(Vi.state.themeVariables)}subscribeTheme(e){return Vi.subscribe(e)}getWalletInfo(){return gt.state.connectedWalletInfo}getAccount(e){const n=Jt.getAuthConnector(e),r=te.getAccountData(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:$t.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user,authProvider:r.socialProvider||"email",accountType:r.preferredAccountType,isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?te.subscribeChainProp("accountState",r,n):te.subscribe(r),Jt.subscribe(r)}subscribeNetwork(e){return te.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return gt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){gt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){te.subscribeKey("activeCaipNetwork",e)}getState(){return sc.state}subscribeState(e){return sc.subscribe(e)}showErrorMessage(e){tr.showError(e)}showSuccessMessage(e){tr.showSuccess(e)}getEvent(){return{...nr.state}}subscribeEvents(e){return nr.subscribe(e)}replace(e){xn.replace(e)}redirect(e){xn.push(e)}popTransactionStack(e){xn.popTransactionStack(e)}isOpen(){return ti.state.open}isTransactionStackEmpty(){return xn.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=xn.state.transactionStack[xn.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){qe.setFeatures(e)}updateOptions(e){const r={...qe.state||{},...e};qe.setOptions(r)}setConnectMethodsOrder(e){qe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){qe.setWalletFeaturesOrder(e)}setCollapseWallets(e){qe.setCollapseWallets(e)}setSocialsOrder(e){qe.setSocialsOrder(e)}getConnectMethodsOrder(){return z4.getConnectOrderMethod(qe.state.features,Jt.getConnectors())}removeAdapter(e){var s;const n=this.getIsConnectedState(),r=this.getAdapter(e);if(!r||!this.chainAdapters||n)return;const i=(s=this.caipNetworks)==null?void 0:s.filter(o=>o.chainNamespace!==e);te.removeAdapter(e),Jt.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(o=>o!==e),this.caipNetworks=i,r.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,n){const r=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!r)return;const i=this.extendCaipNetworks({...this.options,networks:n});this.caipNetworks=[...this.caipNetworks||[],...i],this.createAdapter(e),this.initChainAdapter(r),te.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},i)}addNetwork(e,n){var i;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);te.addNetwork(r),this.caipNetworks&&!((i=this.caipNetworks)!=null&&i.find(s=>s.id===r.id))&&this.caipNetworks.push(r)}removeNetwork(e,n){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((s=this.caipNetworks)==null?void 0:s.find(o=>o.id===n)))throw new Error(`Network with ID ${n} not found`);if(!this.caipNetworks)return;const i=this.caipNetworks.filter(o=>o.chainNamespace===e&&o.id!==n);if(!(i!=null&&i.length))throw new Error("Cannot remove last network for a namespace");te.removeNetwork(e,n),this.caipNetworks=[...i]}}let nS=!1;class i0e extends r0e{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Ls.checkIfRequestExists(n)?Ls.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(kr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(kr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=Ls.checkIfRequestIsSafe(r),s=gt.state.address,o=te.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=te.state.activeChain;Jt.getConnectorId(n)===Ue.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var a;const r=te.state.activeChain,i=r===Ue.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`;this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),tR.isLowerCaseMatch(n.address,gt.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...gt.state.user||{},email:n.email},r);const s=n.preferredAccountType||qe.state.defaultAccountTypes[r];this.setPreferredAccountType(s,r);const o=(a=n.accounts)==null?void 0:a.map(d=>$t.createAccount(r,d.address,d.type||qe.state.defaultAccountTypes[r]));this.setAllAccounts(o||[$t.createAccount(r,n.address,s)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...gt.state.user||{},username:n},te.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,te.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,te.state.activeChain)})}async syncAuthConnector(e,n){var f,h,g,y;const r=Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...((f=gt.state)==null?void 0:f.user)||{},username:o,email:s},te.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),d=Vi.getSnapshot(),l=qe.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:d.themeMode,themeVariables:d.themeVariables,w3mThemeVariables:Xa(d.themeVariables,d.themeMode)}),n&&r&&(a&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((y=this.connectionControllerClient)==null?void 0:y.connectExternal({id:Ue.CONNECTOR_ID.AUTH,info:{name:Ue.CONNECTOR_ID.AUTH},type:Pr.CONNECTOR_TYPE_AUTH,provider:e,chainId:(g=te.state.activeCaipNetwork)==null?void 0:g.id,chain:n})),this.setStatus("connected",n)):Jt.getConnectorId(n)===Ue.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ft.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!$t.isTelegram())return;const r=ft.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;gt.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Jt.getAuthConnector();r&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Pn.connectExternal(o,o.chain),ft.setConnectedSocialProvider(r),ft.removeTelegramSocialProvider(),nr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var o,a,d,l,f,h,g,y,v,w,x;if(!Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?Yr.DEFAULT_FEATURES.email:(l=(d=this.options)==null?void 0:d.features)==null?void 0:l.email,i=(h=(f=this.options)==null?void 0:f.features)!=null&&h.socials?((v=(y=(g=this.options)==null?void 0:g.features)==null?void 0:y.socials)==null?void 0:v.length)>0:Yr.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&((w=this.options)!=null&&w.projectId)&&s&&(this.authProvider=uf.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(x=this.getCaipNetwork(e))==null?void 0:x.caipNetworkId,onTimeout:()=>{_u.open(rf.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(k=>{var N;k.open||(N=this.authProvider)==null||N.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,i;this.createAuthProvider(e),this.authProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||i.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Tn.initializeExcludedWalletRdns({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const n=te.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===te.state.activeChain&&i){const a=this.getAdapter(r),d=ar.getProvider(r),l=ar.getProviderId(r);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:d,providerType:l})),this.setCaipNetwork(e)}else{const d=ar.getProviderId(n)===Pr.CONNECTOR_TYPE_AUTH,l=ar.getProviderId(r),f=l===Pr.CONNECTOR_TYPE_AUTH,h=Ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((d||f)&&h)try{te.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Ue.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Pr.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const y=this.getAdapter(r);await(y==null?void 0:y.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===Pr.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const i=`${r}:${n}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(r!==Ue.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,r),this.setProfileImage(d,r),!a){const l=this.getAdapter(r),f=await(l==null?void 0:l.getProfile({address:e,chainId:Number(n)}));f!=null&&f.profileName?(this.setProfileName(f.profileName,r),f.profileImage&&this.setProfileImage(f.profileImage,r)):(await this.syncReownName(e,r),this.setProfileImage(null,r))}}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=ar.getProviderId(e);if(n===Pr.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=ft.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!nS&&$t.isClient()){const e={...Yr.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(Cs(()=>import("./embedded-wallet-S_Sf96m8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(Cs(()=>import("./email-DvXqBzO1.js"),__vite__mapDeps([12,1,11,5,6,13,10,4,8,14,7]))),e.socials&&n.push(Cs(()=>import("./socials-BoT964x_.js"),__vite__mapDeps([15,1,16,17,5,8,6,18,10,11,19,3,20]))),e.swaps&&n.push(Cs(()=>import("./swaps-t3as_8xB.js"),__vite__mapDeps([21,1,8,6,22,23,20,24,3,10,7,5,13]))),e.send&&n.push(Cs(()=>import("./send-b-62yfy3.js"),__vite__mapDeps([25,1,8,6,10,4,11,5,24,3,7,26,16]))),e.receive&&n.push(Cs(()=>import("./receive-CAFzYzxn.js"),__vite__mapDeps([27,1,16,28,3,19]))),e.onramp&&n.push(Cs(()=>import("./onramp-BFnCGWWu.js"),__vite__mapDeps([29,1,16,30,20,10,3,6,31,5,17,8,11,7]))),e.history&&n.push(Cs(()=>import("./transactions-Bf1DGfR6.js"),__vite__mapDeps([32,1,33,30,20,10,11,5,3])))),await Promise.all([...n,Cs(()=>import("./index-mqxxV0ip.js"),__vite__mapDeps([34,1,16,5,3,6,26,10,35,23,9,31,8,13,33,30,20,11,22,7,4,14,17,18,2,28,19])),Cs(()=>import("./w3m-modal-CTB_7Iz9.js"),__vite__mapDeps([36,1,16,9,3,10,6,23,35]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!qe.state.disableAppend&&!qe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}nS=!0}}}const s0e="1.7.0";let a3;function o0e(t){return a3||(a3=new i0e({...t,sdkVersion:$t.generateSdkVersion(t.adapters??[],"react",s0e)})),a3}var a0e="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const rS=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),iS=4;function c0e(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let O=1;O<r;O++)s.push(i+=n());let o=n(),a=e;e+=o;let d=0,l=0;function f(){return d==0&&(l=l<<8|t[e++],d=8),l>>--d&1}const h=31,g=2**h,y=g>>>1,v=y>>1,w=g-1;let x=0;for(let O=0;O<h;O++)x=x<<1|f();let k=[],N=0,R=g;for(;;){let O=Math.floor(((x-N+1)*i-1)/R),D=0,F=r;for(;F-D>1;){let H=D+F>>>1;O<s[H]?F=H:D=H}if(D==0)break;k.push(D);let q=N+Math.floor(R*s[D]/i),$=N+Math.floor(R*s[D+1]/i)-1;for(;((q^$)&y)==0;)x=x<<1&w|f(),q=q<<1&w,$=$<<1&w|1;for(;q&~$&v;)x=x&y|x<<1&w>>>1|f(),q=q<<1^y,$=($^y)<<1|y|1;N=q,R=1+$-q}let L=r-4;return k.map(O=>{switch(O-L){case 3:return L+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return L+256+(t[a++]<<8|t[a++]);case 1:return L+t[a++];default:return O-1}})}function l0e(t){let e=0;return()=>t[e++]}function bR(t){return l0e(c0e(u0e(t)))}function u0e(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function d0e(t){return t&1?~t>>1:t>>1}function f0e(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=d0e(e());return n}function Rp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function CR(t){return Op(()=>{let e=Rp(t);if(e.length)return e})}function ER(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(h0e(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(p0e(n,t))}return e.flat()}function Op(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function AR(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)f0e(t,n).forEach((s,o)=>r[o].push(s));return r}function h0e(t,e){let n=1+e(),r=e(),i=Op(e);return AR(i.length,1+t,e).flatMap((o,a)=>{let[d,...l]=o;return Array(i[a]).fill().map((f,h)=>{let g=h*r;return[d+h*n,l.map(y=>y+g)]})})}function p0e(t,e){let n=1+e();return AR(n,1+t,e).map(i=>[i[0],i.slice(1)])}function g0e(t){let e=[],n=Rp(t);return i(r([]),[]),e;function r(s){let o=t(),a=Op(()=>{let d=Rp(t).map(l=>n[l]);if(d.length)return r(d)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,d){if(!(s&4&&d===a[a.length-1])){s&2&&(d=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let f of l.Q)i(l,[...a,f],d)}}}function m0e(t){return t.toString(16).toUpperCase().padStart(2,"0")}function _R(t){return`{${m0e(t)}}`}function y0e(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Ff(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function w0e(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var v0e="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Mp=44032,wy=4352,vy=4449,by=4519,xR=19,SR=21,jf=28,Cy=SR*jf,b0e=xR*Cy,C0e=Mp+b0e,E0e=wy+xR,A0e=vy+SR,_0e=by+jf;function w0(t){return t>>24&255}function IR(t){return t&16777215}let q4,sS,H4,Em;function x0e(){let t=bR(v0e);q4=new Map(CR(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),sS=new Set(Rp(t)),H4=new Map,Em=new Map;for(let[e,n]of ER(t)){if(!sS.has(e)&&n.length==2){let[r,i]=n,s=Em.get(r);s||(s=new Map,Em.set(r,s)),s.set(i,e)}H4.set(e,n.reverse())}}function TR(t){return t>=Mp&&t<C0e}function S0e(t,e){if(t>=wy&&t<E0e&&e>=vy&&e<A0e)return Mp+(t-wy)*Cy+(e-vy)*jf;if(TR(t)&&e>by&&e<_0e&&(t-Mp)%jf==0)return t+(e-by);{let n=Em.get(t);return n&&(n=n.get(e),n)?n:-1}}function PR(t){q4||x0e();let e=[],n=[],r=!1;function i(s){let o=q4.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(TR(s)){let o=s-Mp,a=o/Cy|0,d=o%Cy/jf|0,l=o%jf;i(wy+a),i(vy+d),l>0&&i(by+l)}else{let o=H4.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=w0(e[0]);for(let o=1;o<e.length;o++){let a=w0(e[o]);if(a==0||s<=a){s=a;continue}let d=o-1;for(;;){let l=e[d+1];if(e[d+1]=e[d],e[d]=l,!d||(s=w0(e[--d]),s<=a))break}s=w0(e[o])}}return e}function I0e(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=w0(s),a=IR(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let d=S0e(r,a);d>=0?r=d:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function NR(t){return PR(t).map(IR)}function T0e(t){return I0e(PR(t))}const oS=45,kR=".",RR=65039,OR=1,Ey=t=>Array.from(t);function Dp(t,e){return t.P.has(e)||t.Q.has(e)}class P0e extends Array{get is_emoji(){return!0}}let V4,MR,pu,K4,DR,hf,c3,Qd,tu,aS,G4;function M6(){if(V4)return;let t=bR(a0e);const e=()=>Rp(t),n=()=>new Set(e()),r=(f,h)=>h.forEach(g=>f.add(g));V4=new Map(ER(t)),MR=n(),pu=e(),K4=new Set(e().map(f=>pu[f])),pu=new Set(pu),DR=n(),n();let i=CR(t),s=t();const o=()=>{let f=new Set;return e().forEach(h=>r(f,i[h])),r(f,e()),f};hf=Op(f=>{let h=Op(t).map(g=>g+96);if(h.length){let g=f>=s;h[0]-=32,h=Ff(h),g&&(h=`Restricted[${h}]`);let y=o(),v=o(),w=!t();return{N:h,P:y,Q:v,M:w,R:g}}}),c3=n(),Qd=new Map;let a=e().concat(Ey(c3)).sort((f,h)=>f-h);a.forEach((f,h)=>{let g=t(),y=a[h]=g?a[h-g]:{V:[],M:new Map};y.V.push(f),c3.has(f)||Qd.set(f,y)});for(let{V:f,M:h}of new Set(Qd.values())){let g=[];for(let v of f){let w=hf.filter(k=>Dp(k,v)),x=g.find(({G:k})=>w.some(N=>k.has(N)));x||(x={G:new Set,V:[]},g.push(x)),x.V.push(v),r(x.G,w)}let y=g.flatMap(v=>Ey(v.G));for(let{G:v,V:w}of g){let x=new Set(y.filter(k=>!v.has(k)));for(let k of w)h.set(k,x)}}tu=new Set;let d=new Set;const l=f=>tu.has(f)?d.add(f):tu.add(f);for(let f of hf){for(let h of f.P)l(h);for(let h of f.Q)l(h)}for(let f of tu)!Qd.has(f)&&!d.has(f)&&Qd.set(f,OR);r(tu,NR(tu)),aS=g0e(t).map(f=>P0e.from(f)).sort(w0e),G4=new Map;for(let f of aS){let h=[G4];for(let g of f){let y=h.map(v=>{let w=v.get(g);return w||(w=new Map,v.set(g,w)),w});g===RR?h.push(...y):h=y}for(let g of h)g.V=f}}function D6(t){return($R(t)?"":`${$6(mw([t]))} `)+_R(t)}function $6(t){return`"${t}"‎`}function N0e(t){if(t.length>=4&&t[2]==oS&&t[3]==oS)throw new Error(`invalid label extension: "${Ff(t.slice(0,4))}"`)}function k0e(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function R0e(t){let e=t[0],n=rS.get(e);if(n)throw L0(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=rS.get(e);if(o){if(i==s)throw L0(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw L0(`trailing ${n}`)}function mw(t,e=1/0,n=_R){let r=[];O0e(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];$R(a)&&(r.push(Ff(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Ff(t.slice(i,s))),r.join("")}function O0e(t,e){return M6(),pu.has(t)}function $R(t){return M6(),DR.has(t)}function M0e(t){return U0e(D0e(t,T0e,j0e))}function D0e(t,e,n){if(!t)return[];M6();let r=0;return t.split(kR).map(i=>{let s=y0e(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=F0e(s,e,n),d=a.length,l;if(!d)throw new Error("empty label");let f=o.output=a.flat();if(k0e(f),!(o.emoji=d>1||a[0].is_emoji)&&f.every(g=>g<128))N0e(f),l="ASCII";else{let g=a.flatMap(y=>y.is_emoji?[]:y);if(!g.length)l="Emoji";else{if(pu.has(f[0]))throw L0("leading combining mark");for(let w=1;w<d;w++){let x=a[w];if(!x.is_emoji&&pu.has(x[0]))throw L0(`emoji + combining mark: "${Ff(a[w-1])} + ${mw([x[0]])}"`)}R0e(f);let y=Ey(new Set(g)),[v]=L0e(y);B0e(v,g),$0e(v,y),l=v.N}}o.type=l}catch(a){o.error=a}return o})}function $0e(t,e){let n,r=[];for(let i of e){let s=Qd.get(i);if(s===OR)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):Ey(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>Dp(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function L0e(t){let e=hf;for(let n of t){let r=e.filter(i=>Dp(i,n));if(!r.length)throw hf.some(i=>Dp(i,n))?UR(e[0],n):LR(n);if(e=r,r.length==1)break}return e}function U0e(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${$6(mw(e,63))}: ${i}`)}return Ff(r)}).join(kR)}function LR(t){return new Error(`disallowed character: ${D6(t)}`)}function UR(t,e){let n=D6(e),r=hf.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function L0(t){return new Error(`illegal placement: ${t}`)}function B0e(t,e){for(let n of e)if(!Dp(t,n))throw UR(t,n);if(t.M){let n=NR(e);for(let r=1,i=n.length;r<i;r++)if(K4.has(n[r])){let s=r+1;for(let o;s<i&&K4.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${D6(o)}`);if(s-r>iS)throw new Error(`excessive non-spacing marks: ${$6(mw(n.slice(r-1,s)))} (${s-r}/${iS})`);r=s}}}function F0e(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=z0e(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(tu.has(o))i.push(o);else{let a=V4.get(o);if(a)i.push(...a);else if(!MR.has(o))throw LR(o)}}}return i.length&&r.push(e(i)),r}function j0e(t){return t.filter(e=>e!=RR)}function z0e(t,e){let n=G4,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}function W0e(t){return M0e(t)}function q0e(t){return W0e(t)}function H0e(t){let e=[];function n(r){return lp.parseEvmChainId(r)||1}return r=>({id:Ue.CONNECTOR_ID.AUTH,name:Ue.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Ue.CHAIN.EVM,async connect(i={}){var h;const s=await this.getProvider();let o=i.chainId;if(i.isReconnecting){const g=lp.parseEvmChainId(s.getLastUsedChainId()||""),y=(h=t.chains)==null?void 0:h[0].id;if(o=g||y,!o)throw new Error("ChainId not found in provider")}const{address:a,chainId:d,accounts:l}=await s.connect({chainId:o,preferredAccountType:qe.state.defaultAccountTypes.eip155});e=(l==null?void 0:l.map(g=>g.address))||[a],await s.getSmartAccountEnabledNetworks();const f=n(d);return{accounts:e,account:a,chainId:f,chain:{id:f,unsuported:!1}}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(r.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=uf.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{_u.open(rf.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const i=await this.getProvider(),{chainId:s}=await i.getChainId();return n(s)},async isAuthorized(){const i=await this.getProvider();return Promise.resolve(i.getLoginEmailUsed())},async switchChain({chainId:i}){var s;try{const o=r.chains.find(l=>l.id===i);if(!o)throw new ya(new Error("chain not found on connector."));const d=await(await this.getProvider()).connect({chainId:i,preferredAccountType:qe.state.defaultAccountTypes.eip155});return e=((s=d==null?void 0:d.accounts)==null?void 0:s.map(l=>l.address))||[d.address],r.emitter.emit("change",{chainId:Number(i),accounts:e}),o}catch(o){throw o instanceof Error?new ya(o):o}},onAccountsChanged(i){i.length===0?this.onDisconnect():r.emitter.emit("change",{accounts:i.map(cl)})},onChainChanged(i){const s=Number(i);r.emitter.emit("change",{chainId:s})},async onDisconnect(i){await(await this.getProvider()).disconnect()}})}L6.type="walletConnect";function L6(t,e,n){const r=t.isNewChainsStale??!0;let i,s,o,a,d,l,f;return h=>({id:"walletConnect",name:"WalletConnect",type:L6.type,async setup(){const g=await this.getProvider().catch(()=>null);g&&(a||(a=this.onConnect.bind(this),g.on("connect",a)),l||(l=this.onSessionDelete.bind(this),g.on("session_delete",l)))},async connect({...g}={}){try{const y=await this.getProvider();if(!y)throw new Gc;d||(d=this.onDisplayUri,y.on("display_uri",d));const v=await this.isChainsStale();if(y.session&&v&&await y.disconnect(),!y.session||v){const k=gw.createNamespaces(n);await y.connect({optionalNamespaces:k,..."pairingTopic"in g?{pairingTopic:g.pairingTopic}:{}}),this.setRequestedChainsIds(n.map(N=>Number(N.id)))}const w=(await y.enable()).map(k=>cl(k)),x=await this.getChainId();return d&&(y.removeListener("display_uri",d),d=void 0),a&&(y.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),y.on("chainChanged",o)),f||(f=this.onDisconnect.bind(this),y.on("disconnect",f)),l||(l=this.onSessionDelete.bind(this),y.on("session_delete",l)),y.setDefaultChain(`eip155:${x}`),{accounts:w,chainId:x}}catch(y){throw/(user rejected|connection request reset)/i.test(y==null?void 0:y.message)?new li(y):y}},async disconnect(){const g=await this.getProvider();try{await(g==null?void 0:g.disconnect())}catch(y){if(!/No matching key/i.test(y.message))throw y}finally{o&&(g==null||g.removeListener("chainChanged",o),o=void 0),f&&(g==null||g.removeListener("disconnect",f),f=void 0),a||(a=this.onConnect.bind(this),g==null||g.on("connect",a)),s&&(g==null||g.removeListener("accountsChanged",s),s=void 0),l&&(g==null||g.removeListener("session_delete",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var w,x,k;const g=await this.getProvider();if(!((w=g==null?void 0:g.session)!=null&&w.namespaces))return[];const y=(k=(x=g==null?void 0:g.session)==null?void 0:x.namespaces[Ue.CHAIN.EVM])==null?void 0:k.accounts;return(y==null?void 0:y.map(N=>N.split(":")[2]))??[]},async getProvider({chainId:g}={}){var w,x;i||(i=await e.getUniversalProvider(),i==null||i.events.setMaxListeners(Number.POSITIVE_INFINITY));const y=ft.getActiveNamespace(),v=(w=e.getCaipNetwork())==null?void 0:w.id;if(g&&v!==g&&y){const k=ft.getStoredActiveCaipNetworkId(),N=e==null?void 0:e.getCaipNetworks(y),R=N==null?void 0:N.find(L=>L.id===k);R&&R.chainNamespace===Ue.CHAIN.EVM&&await((x=this.switchChain)==null?void 0:x.call(this,{chainId:Number(R.id)}))}return i},async getChainId(){var x,k,N,R;const g=(x=e.getCaipNetwork(Ue.CHAIN.EVM))==null?void 0:x.id;if(g)return g;const v=(R=(N=(k=(await this.getProvider()).session)==null?void 0:k.namespaces[Ue.CHAIN.EVM])==null?void 0:N.chains)==null?void 0:R[0],w=n.find(L=>L.id===v);return w==null?void 0:w.id},async isAuthorized(){try{const[g,y]=await Promise.all([this.getAccounts(),this.getProvider()]);return g.length?await this.isChainsStale()&&y.session?(await y.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:g,chainId:y}){var x,k,N,R;const v=await this.getProvider();if(!v)throw new Gc;const w=n.find(L=>L.id===y);if(!w)throw new ya(new sp);try{await v.request({method:"wallet_switchEthereumChain",params:[{chainId:yn(y)}]}),w!=null&&w.caipNetworkId&&v.setDefaultChain(w==null?void 0:w.caipNetworkId),h.emitter.emit("change",{chainId:Number(y)});const L=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...L,y]),{...w,id:w.id}}catch(L){const O=L;if(/(?:user rejected)/iu.test(O.message))throw new li(O);try{let D;g!=null&&g.blockExplorerUrls?D=g.blockExplorerUrls:D=(x=w.blockExplorers)!=null&&x.default.url?[(k=w.blockExplorers)==null?void 0:k.default.url]:[];const F=((R=(N=w.rpcUrls)==null?void 0:N.chainDefault)==null?void 0:R.http)||[],q={blockExplorerUrls:D,chainId:yn(y),chainName:w.name,iconUrls:g==null?void 0:g.iconUrls,nativeCurrency:w.nativeCurrency,rpcUrls:F};await v.request({method:"wallet_addEthereumChain",params:[q]});const $=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...$,y]),{...w,id:w.id}}catch(D){throw new li(D)}}},onAccountsChanged(g){g.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:g.map(y=>cl(y))})},onChainChanged(g){const y=Number(g);h.emitter.emit("change",{chainId:y})},onConnect(g){this.setRequestedChainsIds(n.map(y=>Number(y.id)))},async onDisconnect(g){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const y=await this.getProvider();s&&(y.removeListener("accountsChanged",s),s=void 0),o&&(y.removeListener("chainChanged",o),o=void 0),f&&(y.removeListener("disconnect",f),f=void 0),l&&(y.removeListener("session_delete",l),l=void 0),a||(a=this.onConnect.bind(this),y.on("connect",a))},onDisplayUri(g){h.emitter.emit("message",{type:"display_uri",data:g})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var v,w,x;if(!((v=i==null?void 0:i.session)!=null&&v.namespaces))return[];const g=(x=(w=i==null?void 0:i.session)==null?void 0:w.namespaces[Ue.CHAIN.EVM])==null?void 0:x.accounts;return(g==null?void 0:g.map(k=>Number.parseInt(k.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var y;const g=await((y=h.storage)==null?void 0:y.getItem(this.requestedChainsStorageKey))??[];return[...new Set(g)]},async isChainsStale(){if(!r)return!1;const g=h.chains.map(w=>w.id),y=this.getNamespaceChainsIds();if(y.length&&!y.some(w=>g.includes(w)))return!1;const v=await this.getRequestedChainsIds();return!g.every(w=>v.includes(Number(w)))},async setRequestedChainsIds(g){var y;await((y=h.storage)==null?void 0:y.setItem(this.requestedChainsStorageKey,g))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const V0e=Symbol(),cS=Object.getPrototypeOf,Q4=new WeakMap,K0e=t=>t&&(Q4.has(t)?Q4.get(t):cS(t)===Object.prototype||cS(t)===Array.prototype),G0e=t=>K0e(t)&&t[V0e]||null,lS=(t,e=!0)=>{Q4.set(t,e)},Y4={},l3=t=>typeof t=="object"&&t!==null,nu=new WeakMap,em=new WeakSet,Q0e=(t=Object.is,e=(l,f)=>new Proxy(l,f),n=l=>l3(l)&&!em.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,f,h=r)=>{const g=i.get(l);if((g==null?void 0:g[0])===f)return g[1];const y=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return lS(y,!0),i.set(l,[f,y]),Reflect.ownKeys(l).forEach(v=>{if(Object.getOwnPropertyDescriptor(y,v))return;const w=Reflect.get(l,v),{enumerable:x}=Reflect.getOwnPropertyDescriptor(l,v),k={value:w,enumerable:x,configurable:!0};if(em.has(w))lS(w,!1);else if(w instanceof Promise)delete k.value,k.get=()=>h(w);else if(nu.has(w)){const[N,R]=nu.get(w);k.value=s(N,R(),h)}Object.defineProperty(y,v,k)}),Object.preventExtensions(y)},o=new WeakMap,a=[1,1],d=l=>{if(!l3(l))throw new Error("object required");const f=o.get(l);if(f)return f;let h=a[0];const g=new Set,y=($,H=++a[0])=>{h!==H&&(h=H,g.forEach(P=>P($,H)))};let v=a[1];const w=($=++a[1])=>(v!==$&&!g.size&&(v=$,k.forEach(([H])=>{const P=H[1]($);P>h&&(h=P)})),h),x=$=>(H,P)=>{const m=[...H];m[1]=[$,...m[1]],y(m,P)},k=new Map,N=($,H)=>{if((Y4?"production":void 0)!=="production"&&k.has($))throw new Error("prop listener already exists");if(g.size){const P=H[3](x($));k.set($,[H,P])}else k.set($,[H])},R=$=>{var H;const P=k.get($);P&&(k.delete($),(H=P[1])==null||H.call(P))},L=$=>(g.add($),g.size===1&&k.forEach(([P,m],C)=>{if((Y4?"production":void 0)!=="production"&&m)throw new Error("remove already exists");const S=P[3](x(C));k.set(C,[P,S])}),()=>{g.delete($),g.size===0&&k.forEach(([P,m],C)=>{m&&(m(),k.set(C,[P]))})}),O=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),F=e(O,{deleteProperty($,H){const P=Reflect.get($,H);R(H);const m=Reflect.deleteProperty($,H);return m&&y(["delete",[H],P]),m},set($,H,P,m){const C=Reflect.has($,H),S=Reflect.get($,H,m);if(C&&(t(S,P)||o.has(P)&&t(S,o.get(P))))return!0;R(H),l3(P)&&(P=G0e(P)||P);let _=P;if(P instanceof Promise)P.then(I=>{P.status="fulfilled",P.value=I,y(["resolve",[H],I])}).catch(I=>{P.status="rejected",P.reason=I,y(["reject",[H],I])});else{!nu.has(P)&&n(P)&&(_=d(P));const I=!em.has(_)&&nu.get(_);I&&N(H,I)}return Reflect.set($,H,_,m),y(["set",[H],P,S]),!0}});o.set(l,F);const q=[O,w,s,L];return nu.set(F,q),Reflect.ownKeys(l).forEach($=>{const H=Object.getOwnPropertyDescriptor(l,$);"value"in H&&(F[$]=l[$],delete H.value,delete H.writable),Object.defineProperty(O,$,H)}),F})=>[d,nu,em,t,e,n,r,i,s,o,a],[Y0e]=Q0e();function Z0e(t={}){return Y0e(t)}function J0e(t,e,n){const r=nu.get(t);(Y4?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(f=>{s.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function X0e(t,e,n,r){let i=t[e];return J0e(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}const i0=Z0e({pendingTransactions:0}),uS={state:i0,subscribeKey(t,e){return X0e(i0,t,e)},increase(t){i0[t]+=1},decrease(t){i0[t]-=1},reset(t){i0[t]=0}};function epe(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const tpe={enable:!1,pollingInterval:3e4};class npe extends vR{constructor(e){super({projectId:e.projectId,networks:xu.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcChainIds:e.transports?Object.keys(e.transports).map(Number):[]})}),this.adapterType="wagmi",this.balancePromises={},this.pendingTransactionsFilter={...tpe,...e.pendingTransactionsFilter??{}},this.namespace=Ue.CHAIN.EVM,this.createConfig({...e,networks:xu.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcChainIds:e.transports?Object.keys(e.transports).map(Number):[]}),projectId:e.projectId}),this.setupWatchers()}async getAccounts(e){var s;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Ue.CONNECTOR_ID.AUTH){const o=n.provider,{address:a,accounts:d}=await o.connect();return Promise.resolve({accounts:(d||[{address:a,type:"eoa"}]).map(l=>$t.createAccount("eip155",l.address,l.type))})}const{addresses:r,address:i}=op(this.wagmiConfig);return Promise.resolve({accounts:(s=r||[i])==null?void 0:s.map(o=>$t.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.caipNetworks=e.networks,this.wagmiChains=this.caipNetworks.filter(s=>s.chainNamespace===Ue.CHAIN.EVM);const n=this.wagmiChains.map(s=>[s.id,xu.getViemTransport(s)]);Object.entries(e.transports??{}).forEach(([s,o])=>{const a=n.findIndex(([d])=>d===Number(s));a===-1?n.push([Number(s),o]):n[a]=[Number(s),o]});const r=Object.fromEntries(n),i=[...e.connectors??[]];this.wagmiConfig=eK({...e,chains:this.wagmiChains,transports:r,connectors:i})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=RV(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),uS.increase("pendingTransactions")}});const e=uS.subscribeKey("pendingTransactions",n=>{var r;n>=Ue.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){AP(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,i;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await Cs(async()=>{const{coinbaseWallet:o}=await import("./index-4vM-YU5m.js");return{coinbaseWallet:o}},[]);s&&n.push(s({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}n.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,n){var o,a,d,l,f;const r=[];e.enableWalletConnect!==!1&&r.push(L6(e,n,this.caipNetworks)),e.enableInjected!==!1&&r.push(Qy({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?Yr.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(d=e.features)!=null&&d.socials?((f=(l=e.features)==null?void 0:l.socials)==null?void 0:f.length)>0:Yr.DEFAULT_FEATURES.socials;(i||s)&&r.push(H0e({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(h=>{const g=this.wagmiConfig._internal.connectors.setup(h);this.wagmiConfig._internal.connectors.setState(y=>[...y,g])})}async signMessage(e){try{return{signature:await IV(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n}=op(this.wagmiConfig),r={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:n,type:"legacy"};await xV(this.wagmiConfig,r);const i=await SV(this.wagmiConfig,r);return await OV(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,i=Number(lp.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await MV(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:n,caipNetwork:r}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return hG(n)&&(s=await gw.resolveReownName(n)||!1),r.id===1&&(i=await EV(this.wagmiConfig,{name:q0e(n),chainId:r.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await yV(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return JH(e.value,e.decimals)}formatUnits(e){return Kf(e.value,e.decimals)}async addWagmiConnector(e,n){var i;if(e.id===Ue.CONNECTOR_ID.AUTH||e.id===Ue.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:fl.ConnectorExplorerIds[e.id],imageUrl:((i=n==null?void 0:n.connectorImages)==null?void 0:i[e.id])??e.icon,name:fl.ConnectorNamesMap[e.id]??e.name,imageId:fl.ConnectorImageIds[e.id],type:fl.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Ue.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){kV(this.wagmiConfig,{onChange:r=>r.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:n}=e,i=Qa(this.wagmiConfig).find(a=>a.connector.id===n),s=this.getWagmiConnector(n),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");return await GA(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var l;const{id:n,provider:r,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(n);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");r&&s&&a.id===Ue.CONNECTOR_ID.EIP6963&&((l=a.setEip6963Wallet)==null||l.call(a,{provider:r,info:s}));const d=await GA(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:d.accounts[0],chainId:d.chainId,provider:r,type:i,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await EP(this.wagmiConfig,{connectors:[r]})}async getBalance(e){var i;const n=e.address,r=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,o=this.balancePromises[s];if(o)return o;const a=ft.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async d=>{var h,g;const l=Number(e.chainId),f=await CV(this.wagmiConfig,{address:e.address,chainId:l,token:(g=(h=e.tokens)==null?void 0:h[r.caipNetworkId])==null?void 0:g.address});ft.updateNativeBalanceCache({caipAddress:s,balance:f.formatted,symbol:f.symbol,timestamp:Date.now()}),d({balance:f.formatted,symbol:f.symbol})}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const n=e.chainId,r=await _V(this.wagmiConfig,{address:e.address,chainId:n});if(r){const i=await AV(this.wagmiConfig,{name:r,chainId:n});return{profileName:r,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Qa(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await bP(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await PV(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,d;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Qa(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(d=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:d.capabilities;if(o){const f=epe(o)[e];if(f)return f}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Qa(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Qa(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Qa(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new O6({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}}const rpe=new $K,BR="c713bf24fd73d14a9c78ba77af7fc727",ipe={name:"Memecoin Sniper Bot",description:"AppKit Example",url:"https://jakobhelio.github.io/Telegram-Mini-app",icons:["https://assets.reown.com/reown-profile-pic.png"]},FR=[e0e,Xhe],jR=new npe({networks:FR,projectId:BR,ssr:!0});o0e({adapters:[jR],networks:FR,projectId:BR,metadata:ipe,features:{analytics:!0}});function spe({children:t}){return Tr.jsx(rK,{config:jR.wagmiConfig,children:Tr.jsx(FK,{client:rpe,children:t})})}PM.createRoot(document.getElementById("root")).render(Tr.jsx(CS.StrictMode,{children:Tr.jsx(Fj,{manifestUrl:"https://jakobhelio.github.io/Telegram-Mini-app/tonconnect-manifest.json",children:Tr.jsx(spe,{children:Tr.jsx(KK,{})})})}));export{_u as $,gt as A,Et as B,sp as C,Tn as D,eR as E,bpe as F,js as G,_s as H,Que as I,To as J,m1e as K,f1e as L,ti as M,Xn as N,qe as O,z4 as P,n3 as Q,xn as R,ya as S,Vi as T,li as U,Pr as V,kr as W,O0 as X,Uo as Y,bi as Z,Cs as _,Jt as a,h1e as a0,fR as a1,W4 as a2,Uf as a3,De as a4,U5 as a5,oo as a6,Zq as a7,LH as a8,cP as a9,Pu as aa,mT as ab,T0 as ac,lc as ad,aT as ae,fpe as af,N5 as ag,zm as ah,Gp as ai,gpe as aj,ppe as ak,DW as al,hpe as am,HV as an,J4 as ao,sw as ap,Z4 as aq,gG as ar,sa as as,WV as at,Xa as b,mpe as c,Yr as d,df as e,Cm as f,cl as g,Ue as h,Qy as i,$t as j,nr as k,tr as l,g1e as m,yn as n,Ls as o,te as p,Pn as q,p1e as r,Mhe as s,ft as t,wm as u,k7 as v,LP as w,d1e as x,Br as y,vpe as z};
